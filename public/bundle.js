(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _taggedTemplateLiteral(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_templateObject=_taggedTemplateLiteral(["\n    <div class='main'>\n      <div>\n        <button \n          class=\"refresh ",'"\n          onclick=','\n        >\n          <i class="fa fa-refresh ','" aria-hidden="true"></i>\n        </button>\n      </div>\n      \n      ',"\n    </div>\n  "],["\n    <div class='main'>\n      <div>\n        <button \n          class=\"refresh ",'"\n          onclick=','\n        >\n          <i class="fa fa-refresh ','" aria-hidden="true"></i>\n        </button>\n      </div>\n      \n      ',"\n    </div>\n  "]),_templateObject2=_taggedTemplateLiteral([" \n          <div class='row'>\n            <div class='two columns'>","</div> \n            <div class='ten columns'>",", <strong>","</strong></div>\n          </div>\n        "],[" \n          <div class='row'>\n            <div class='two columns'>","</div> \n            <div class='ten columns'>",", <strong>","</strong></div>\n          </div>\n        "]),_inu=require("inu"),_pullDefer=require("pull-defer"),_pullDefer2=_interopRequireDefault(_pullDefer),_xhr=require("xhr"),_xhr2=_interopRequireDefault(_xhr),INITIAL_MODEL={refreshing:!1,pairings:[]},FETCH_PAIRINGS="FETCH_PAIRINGS",REFRESH_PAIRINGS="REFRESH_PAIRINGS",UPDATE_PAIRINGS="UPDATE_PAIRINGS",App={init:function(){return{model:INITIAL_MODEL,effect:{type:FETCH_PAIRINGS}}},update:function(e,n){switch(n.type){case REFRESH_PAIRINGS:return{model:Object.assign({},e,{refreshing:!0}),effect:{type:FETCH_PAIRINGS}};case UPDATE_PAIRINGS:var t=Object.assign({},e,{refreshing:!1});return t.pairings=n.pairings,{model:t};default:return{model:e}}},view:function(e,n){return(0,_inu.html)(_templateObject,e.refreshing?"button-primary":"",function(){return n({type:REFRESH_PAIRINGS})},e.refreshing?"fa-spin":"",e.pairings.map(function(e){return(0,_inu.html)(_templateObject2,e.Table,e.Player.replace(/,.*/,""),e.Player.replace(/[^,]*,/,""))}))},run:function(e){var n=function(){switch(e.type){case FETCH_PAIRINGS:var n=_pullDefer2["default"].source();return _xhr2["default"].get("/data",function(e,t){e&&console.log(e);var r=JSON.parse(t.body),i=r.pairings;n.resolve(_inu.pull.values([{type:UPDATE_PAIRINGS,pairings:i}]))}),{v:n};default:console.log("some unmatched effect",e)}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v}};exports["default"]=App;

},{"inu":12,"pull-defer":22,"xhr":60}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var _inu=require("inu"),_App=require("./App"),_App2=_interopRequireDefault(_App),_start=(0,_inu.start)(_App2["default"]),views=_start.views,main=document.querySelector(".main");(0,_inu.pull)(views(),_inu.pull.drain(function(e){_inu.html.update(main,e)}));

},{"./App":1,"inu":12}],3:[function(require,module,exports){
function belCreateElement(e,t,a){function n(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var a=e[t];if(Array.isArray(a))n(a);else{if(("number"==typeof a||"boolean"==typeof a||a instanceof Date||a instanceof RegExp)&&(a=a.toString()),"string"==typeof a){if(o.lastChild&&"#text"===o.lastChild.nodeName){o.lastChild.nodeValue+=a;continue}a=document.createTextNode(a)}a&&a.nodeType&&o.appendChild(a)}}}var o;SVG_TAGS.indexOf(e)!==-1&&(t.namespace=SVGNS);var l=!1;if(t.namespace&&(l=t.namespace,delete t.namespace),o=l?document.createElementNS(l,e):document.createElement(e),t.onload||t.onunload){var r=t.onload||function(){},i=t.onunload||function(){};onload(o,function(){r(o)},function(){i(o)},belCreateElement.caller.caller.caller),delete t.onload,delete t.onunload}for(var f in t)if(t.hasOwnProperty(f)){var c=f.toLowerCase(),s=t[f];if("classname"===c&&(c="class",f="class"),"htmlFor"===f&&(f="for"),BOOL_PROPS[c])if("true"===s)s=c;else if("false"===s)continue;"on"===c.slice(0,2)?o[f]=s:l?o.setAttributeNS(null,f,s):o.setAttribute(f,s)}return n(a),o}var document=require("global/document"),hyperx=require("hyperx"),onload=require("on-load"),SVGNS="http://www.w3.org/2000/svg",BOOL_PROPS={autofocus:1,checked:1,defaultchecked:1,disabled:1,formnovalidate:1,indeterminate:1,readonly:1,required:1,willvalidate:1},SVG_TAGS=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"];module.exports=hyperx(belCreateElement),module.exports.createElement=belCreateElement;

},{"global/document":7,"hyperx":10,"on-load":17}],4:[function(require,module,exports){

},{}],5:[function(require,module,exports){
module.exports=function(){for(var o=0;o<arguments.length;o++)if(void 0!==arguments[o])return arguments[o]};

},{}],6:[function(require,module,exports){
function forEach(r,t,o){if(!isFunction(t))throw new TypeError("iterator must be a function");arguments.length<3&&(o=this),"[object Array]"===toString.call(r)?forEachArray(r,t,o):"string"==typeof r?forEachString(r,t,o):forEachObject(r,t,o)}function forEachArray(r,t,o){for(var n=0,a=r.length;n<a;n++)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}function forEachString(r,t,o){for(var n=0,a=r.length;n<a;n++)t.call(o,r.charAt(n),n,r)}function forEachObject(r,t,o){for(var n in r)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}var isFunction=require("is-function");module.exports=forEach;var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty;

},{"is-function":15}],7:[function(require,module,exports){
(function (global){
var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=require("min-document");if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"min-document":4}],8:[function(require,module,exports){
(function (global){
"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],9:[function(require,module,exports){
function attributeToProperty(r){return function(t,o,e){for(var n in o)n in transform&&(o[transform[n]]=o[n],delete o[n]);return r(t,o,e)}}module.exports=attributeToProperty;var transform={"class":"className","for":"htmlFor","http-equiv":"httpEquiv"};

},{}],10:[function(require,module,exports){
function quot(T){return T===ATTR_VALUE_SQ||T===ATTR_VALUE_DQ}function has(T,e){return hasOwn.call(T,e)}function selfClosing(T){return closeRE.test(T)}var attrToProp=require("hyperscript-attribute-to-property"),VAR=0,TEXT=1,OPEN=2,CLOSE=3,ATTR=4,ATTR_KEY=5,ATTR_KEY_W=6,ATTR_VALUE_W=7,ATTR_VALUE=8,ATTR_VALUE_SQ=9,ATTR_VALUE_DQ=10,ATTR_EQ=11,ATTR_BREAK=12;module.exports=function(T,e){function A(T){return"function"==typeof T?T:"string"==typeof T?T:T&&"object"==typeof T?T:t("",T)}T=attrToProp(T),e||(e={});var t=e.concat||function(T,e){return String(T)+String(e)};return function(e){function n(T){var e=[];r===ATTR_VALUE_W&&(r=ATTR);for(var A=0;A<T.length;A++){var t=T.charAt(A);r===TEXT&&"<"===t?(R.length&&e.push([TEXT,R]),R="",r=OPEN):">"!==t||quot(r)?r===TEXT?R+=t:r===OPEN&&/\s/.test(t)?(e.push([OPEN,R]),R="",r=ATTR):r===OPEN?R+=t:r===ATTR&&/[\w-]/.test(t)?(r=ATTR_KEY,R=t):r===ATTR&&/\s/.test(t)?(R.length&&e.push([ATTR_KEY,R]),e.push([ATTR_BREAK])):r===ATTR_KEY&&/\s/.test(t)?(e.push([ATTR_KEY,R]),R="",r=ATTR_KEY_W):r===ATTR_KEY&&"="===t?(e.push([ATTR_KEY,R],[ATTR_EQ]),R="",r=ATTR_VALUE_W):r===ATTR_KEY?R+=t:r!==ATTR_KEY_W&&r!==ATTR||"="!==t?r!==ATTR_KEY_W&&r!==ATTR||/\s/.test(t)?r===ATTR_VALUE_W&&'"'===t?r=ATTR_VALUE_DQ:r===ATTR_VALUE_W&&"'"===t?r=ATTR_VALUE_SQ:r===ATTR_VALUE_DQ&&'"'===t?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r===ATTR_VALUE_SQ&&"'"===t?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE_W||/\s/.test(t)?r===ATTR_VALUE&&/\s/.test(t)?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE&&r!==ATTR_VALUE_SQ&&r!==ATTR_VALUE_DQ||(R+=t):(r=ATTR_VALUE,A--):(e.push([ATTR_BREAK]),/[\w-]/.test(t)?(R+=t,r=ATTR_KEY):r=ATTR):(e.push([ATTR_EQ]),r=ATTR_VALUE_W):(r===OPEN?e.push([OPEN,R]):r===ATTR_KEY?e.push([ATTR_KEY,R]):r===ATTR_VALUE&&R.length&&e.push([ATTR_VALUE,R]),e.push([CLOSE]),R="",r=TEXT)}return r===TEXT&&R.length?(e.push([TEXT,R]),R=""):r===ATTR_VALUE&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_DQ&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_SQ&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_KEY&&(e.push([ATTR_KEY,R]),R=""),e}for(var r=TEXT,R="",E=arguments.length,_=[],s=0;s<e.length;s++)if(s<E-1){var o=arguments[s+1],l=n(e[s]),f=r;f===ATTR_VALUE_DQ&&(f=ATTR_VALUE),f===ATTR_VALUE_SQ&&(f=ATTR_VALUE),f===ATTR_VALUE_W&&(f=ATTR_VALUE),f===ATTR&&(f=ATTR_KEY),l.push([VAR,f,o]),_.push.apply(_,l)}else _.push.apply(_,n(e[s]));for(var h=[null,{},[]],i=[[h,-1]],s=0;s<_.length;s++){var a=i[i.length-1][0],l=_[s],p=l[0];if(p===OPEN&&/^\//.test(l[1])){var u=i[i.length-1][1];i.length>1&&(i.pop(),i[i.length-1][0][2][u]=T(a[0],a[1],a[2].length?a[2]:void 0))}else if(p===OPEN){var g=[l[1],{},[]];a[2].push(g),i.push([g,a[2].length-1])}else if(p===ATTR_KEY||p===VAR&&l[1]===ATTR_KEY){for(var L,V="";s<_.length;s++)if(_[s][0]===ATTR_KEY)V=t(V,_[s][1]);else{if(_[s][0]!==VAR||_[s][1]!==ATTR_KEY)break;if("object"!=typeof _[s][2]||V)V=t(V,_[s][2]);else for(L in _[s][2])_[s][2].hasOwnProperty(L)&&!a[1][L]&&(a[1][L]=_[s][2][L])}_[s][0]===ATTR_EQ&&s++;for(var U=s;s<_.length;s++)if(_[s][0]===ATTR_VALUE||_[s][0]===ATTR_KEY)a[1][V]?a[1][V]=t(a[1][V],_[s][1]):a[1][V]=A(_[s][1]);else{if(_[s][0]!==VAR||_[s][1]!==ATTR_VALUE&&_[s][1]!==ATTR_KEY){!V.length||a[1][V]||s!==U||_[s][0]!==CLOSE&&_[s][0]!==ATTR_BREAK||(a[1][V]=V.toLowerCase());break}a[1][V]?a[1][V]=t(a[1][V],_[s][2]):a[1][V]=A(_[s][2])}}else if(p===ATTR_KEY)a[1][l[1]]=!0;else if(p===VAR&&l[1]===ATTR_KEY)a[1][l[2]]=!0;else if(p===CLOSE){if(selfClosing(a[0])&&i.length){var u=i[i.length-1][1];i.pop(),i[i.length-1][0][2][u]=T(a[0],a[1],a[2].length?a[2]:void 0)}}else if(p===VAR&&l[1]===TEXT)void 0===l[2]||null===l[2]?l[2]="":l[2]||(l[2]=t("",l[2])),Array.isArray(l[2][0])?a[2].push.apply(a[2],l[2]):a[2].push(l[2]);else if(p===TEXT)a[2].push(l[1]);else if(p!==ATTR_EQ&&p!==ATTR_BREAK)throw new Error("unhandled: "+p)}if(h[2].length>1&&/^\s*$/.test(h[2][0])&&h[2].shift(),h[2].length>2||2===h[2].length&&/\S/.test(h[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(h[2][0])&&"string"==typeof h[2][0][0]&&Array.isArray(h[2][0][2])&&(h[2][0]=T(h[2][0][0],h[2][0][1],h[2][0][2])),h[2][0]}};var hasOwn=Object.prototype.hasOwnProperty,closeRE=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-ï¿¿_:-]+)*$");

},{"hyperscript-attribute-to-property":9}],11:[function(require,module,exports){
module.exports=require("yo-yo");

},{"yo-yo":63}],12:[function(require,module,exports){
module.exports={start:require("./start"),pull:require("./pull"),html:require("./html")};

},{"./html":11,"./pull":13,"./start":14}],13:[function(require,module,exports){
module.exports=require("pull-stream");

},{"pull-stream":28}],14:[function(require,module,exports){
(function (process){
function start(n){function l(n){f(n)}function t(){Object.keys(v).forEach(function(n){v[n].end()})}n=defined(n,{});var e=defined(n.init,defaultInit),u=defined(n.update,defaultUpdate),i=defined(n.view,noop),r=defined(n.run,noop),f=notify(),a=e.call(n),o=notify();pull(f.listen(),scan(a,function(l,t){return u.call(n,l.model,t)}),pull.drain(o));var c=notify();pull(o.listen(),pull.map(function(n){return n.model}),difference(),pull.drain(c));var p=notify();pull(c.listen(),pull.map(function(t){return i.call(n,t,l)}),pull.filter(isNotNil),pull.drain(p));var d=notify();pull(o.listen(),pull.map(function(n){return n.effect}),pull.filter(isNotNil),pull.drain(d));var s=notify(),v={actions:f,states:o,models:c,views:p,effects:d,effectActionsSources:s},y={};return Object.keys(v).forEach(function(n){var l=v[n].listen;y[n]=["states","models","effects","views"].indexOf(n)!==-1?replayLastValue(l):l}),pull(d.listen(),pull.map(function(l){return r.call(n,l,y)}),pull.filter(isNotNil),pull.drain(s)),pull(s.listen(),drainMany(f)),process.nextTick(function(){o(a)}),Object.assign({},y,{stop:t})}function noop(){}function isNotNil(n){return null!=n}function defaultInit(){return{model:null}}function defaultUpdate(n){return{model:n}}function scan(n,l){return pull.map(function(t){return n=l(n,t)})}function difference(){var n;return pull.filter(function(l){var t=l!==n;return n=l,t})}function drainMany(n){return function(l){pull(l,pull.drain(function(l){pull(l,pull.drain(n))}))}}function replayLastValue(n){var l;return pull(n(),pull.drain(function(n){l=n})),function(){return cat([null==l?void 0:pull.values([l]),n()])}}var defined=require("defined"),pull=require("pull-stream"),notify=require("pull-notify"),cat=require("pull-cat");module.exports=start;

}).call(this,require('_process'))

},{"_process":19,"defined":5,"pull-cat":20,"pull-notify":26,"pull-stream":28}],15:[function(require,module,exports){
function isFunction(o){var t=toString.call(o);return"[object Function]"===t||"function"==typeof o&&"[object RegExp]"!==t||"undefined"!=typeof window&&(o===window.setTimeout||o===window.alert||o===window.confirm||o===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString;

},{}],16:[function(require,module,exports){
function empty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function toElement(e){!range&&document.createRange&&(range=document.createRange(),range.selectNode(document.body));var t;return range&&range.createContextualFragment?t=range.createContextualFragment(e):(t=document.createElement("body"),t.innerHTML=e),t.childNodes[0]}function noop(){}function createElementNS(e,t){return t&&t!==XHTML?document.createElementNS(t,e):document.createElement(e)}function morphAttrs(e,t){var n,r,o,a,i,d,l=t.attributes;for(n=l.length-1;n>=0;n--)r=l[n],o=r.name,i=r.value,a=r.namespaceURI,a?(o=r.localName||o,d=e.getAttributeNS(a,o)):d=e.getAttribute(o),d!==i&&(a?e.setAttributeNS(a,o,i):e.setAttribute(o,i));for(l=e.attributes,n=l.length-1;n>=0;n--)r=l[n],r.specified!==!1&&(o=r.name,a=r.namespaceURI,hasAttributeNS(t,a,a?o=r.localName||o:o)||e.removeAttributeNode(r))}function moveChildren(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}function defaultGetNodeKey(e){return e.id}function morphdom(e,t,n){function r(e,t){var n=c(e);if(n?l[n]=e:t||p(e),e.nodeType===ELEMENT_NODE)for(var o=e.firstChild;o;)r(o,t||n),o=o.nextSibling}function o(e){if(e.nodeType===ELEMENT_NODE)for(var t=e.firstChild;t;)c(t)||(p(t),o(t)),t=t.nextSibling}function a(e,t,n){E(e)!==!1&&(t.removeChild(e),n?c(e)||(p(e),o(e)):r(e))}function i(e,t,n,r){var o=c(t);if(o&&delete l[o],!r){if(m(e,t)===!1)return;if(morphAttrs(e,t),s(e),h(e,t)===!1)return}if("TEXTAREA"!==e.nodeName){var d,E,v,T,A,g=t.firstChild,C=e.firstChild;e:for(;g;){for(v=g.nextSibling,d=c(g);C;){var y=c(C);if(E=C.nextSibling,!n&&y&&(A=u[y]))A.parentNode.replaceChild(C,A),i(C,A,n),C=E;else{var O=C.nodeType;if(O===g.nodeType){var M=!1;if(O===ELEMENT_NODE?(compareNodeNames(C,g)&&(y||d?d===y&&(M=!0):M=!0),M&&i(C,g,n)):O!==TEXT_NODE&&O!=COMMENT_NODE||(M=!0,C.nodeValue=g.nodeValue),M){g=v,C=E;continue e}}a(C,e,n),C=E}}d&&((T=l[d])?compareNodeNames(T,g)?(i(T,g,!0),g=T):(delete l[d],p(T)):u[d]=g),f(g)!==!1&&(e.appendChild(g),N(g)),g.nodeType===ELEMENT_NODE&&(d||g.firstChild)&&b.push(g),g=v,C=E}for(;C;)E=C.nextSibling,a(C,e,n),C=E}var S=specialElHandlers[e.nodeName];S&&S(e,t)}if(n||(n={}),"string"==typeof t)if("#document"===e.nodeName||"HTML"===e.nodeName){var d=t;t=document.createElement("html"),t.innerHTML=d}else t=toElement(t);var l={},u={},c=n.getNodeKey||defaultGetNodeKey,f=n.onBeforeNodeAdded||noop,N=n.onNodeAdded||noop,m=n.onBeforeElUpdated||n.onBeforeMorphEl||noop,s=n.onElUpdated||noop,E=n.onBeforeNodeDiscarded||noop,p=n.onNodeDiscarded||noop,h=n.onBeforeElChildrenUpdated||n.onBeforeMorphElChildren||noop,v=n.childrenOnly===!0,b=[],T=e,A=T.nodeType,g=t.nodeType;if(!v)if(A===ELEMENT_NODE)g===ELEMENT_NODE?compareNodeNames(e,t)||(p(e),T=moveChildren(e,createElementNS(t.nodeName,t.namespaceURI))):T=t;else if(A===TEXT_NODE||A===COMMENT_NODE){if(g===A)return T.nodeValue=t.nodeValue,T;T=t}if(T===t)p(e);else{i(T,t,!1,v);var C=function(e){for(var t=e.firstChild;t;){var n=t.nextSibling,r=c(t);if(r){var o=l[r];if(o&&compareNodeNames(t,o)){if(t.parentNode.replaceChild(o,t),i(o,t,!0),t=n,empty(l))return!1;continue}}t.nodeType===ELEMENT_NODE&&C(t),t=n}};if(!empty(l))e:for(;b.length;){var y=b;b=[];for(var O=0;O<y.length;O++)if(C(y[O])===!1)break e}for(var M in l)if(l.hasOwnProperty(M)){var S=l[M];p(S),o(S)}}return!v&&T!==e&&e.parentNode&&e.parentNode.replaceChild(T,e),T}var range,testEl="undefined"!=typeof document?document.body||document.createElement("div"):{},XHTML="http://www.w3.org/1999/xhtml",ELEMENT_NODE=1,TEXT_NODE=3,COMMENT_NODE=8,hasAttributeNS;hasAttributeNS=testEl.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:testEl.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return!!e.getAttributeNode(n)};var specialElHandlers={OPTION:function(e,t){e.selected=t.selected,e.selected?e.setAttribute("selected",""):e.removeAttribute("selected","")},INPUT:function(e,t){e.checked=t.checked,e.checked?e.setAttribute("checked",""):e.removeAttribute("checked"),e.value!==t.value&&(e.value=t.value),hasAttributeNS(t,null,"value")||e.removeAttribute("value"),e.disabled=t.disabled,e.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n),e.firstChild&&(e.firstChild.nodeValue=n)}},compareNodeNames=function(e,t){return e.nodeName===t.nodeName&&e.namespaceURI===t.namespaceURI};module.exports=morphdom;

},{}],17:[function(require,module,exports){
function turnon(t,e){watch[t][0]&&0===watch[t][2]&&(watch[t][0](e),watch[t][2]=1)}function turnoff(t,e){watch[t][1]&&1===watch[t][2]&&(watch[t][1](e),watch[t][2]=0)}function eachAttr(t,e,a){var r=t.target.getAttribute(KEY_ATTR);return sameOrigin(t.oldValue,r)?void(watch[r]=watch[t.oldValue]):(watch[t.oldValue]&&a(t.oldValue,t.target),void(watch[r]&&e(r,t.target)))}function sameOrigin(t,e){return!(!t||!e)&&watch[t][3]===watch[e][3]}function eachMutation(t,e){for(var a=Object.keys(watch),r=0;r<t.length;r++){if(t[r]&&t[r].getAttribute&&t[r].getAttribute(KEY_ATTR)){var n=t[r].getAttribute(KEY_ATTR);a.forEach(function(a){n===a&&e(a,t[r])})}t[r].childNodes.length>0&&eachMutation(t[r].childNodes,e)}}var document=require("global/document"),window=require("global/window"),watch=Object.create(null),KEY_ID="onloadid"+(new Date%9e6).toString(36),KEY_ATTR="data-"+KEY_ID,INDEX=0;if(window&&window.MutationObserver){var observer=new MutationObserver(function(t){if(!(Object.keys(watch).length<1))for(var e=0;e<t.length;e++)t[e].attributeName!==KEY_ATTR?(eachMutation(t[e].removedNodes,turnoff),eachMutation(t[e].addedNodes,turnon)):eachAttr(t[e],turnon,turnoff)});observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[KEY_ATTR]})}module.exports=function t(e,a,r,n){return a=a||function(){},r=r||function(){},e.setAttribute(KEY_ATTR,"o"+INDEX),watch["o"+INDEX]=[a,r,0,n||t.caller],INDEX+=1,e};

},{"global/document":7,"global/window":8}],18:[function(require,module,exports){
var trim=require("trim"),forEach=require("for-each"),isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)};module.exports=function(r){if(!r)return{};var e={};return forEach(trim(r).split("\n"),function(r){var t=r.indexOf(":"),i=trim(r.slice(0,t)).toLowerCase(),o=trim(r.slice(t+1));"undefined"==typeof e[i]?e[i]=o:isArray(e[i])?e[i].push(o):e[i]=[e[i],o]}),e};

},{"for-each":6,"trim":59}],19:[function(require,module,exports){
function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=cachedSetTimeout(cleanUpNextTick);draining=!0;for(var r=queue.length;r;){for(currentQueue=queue,queue=[];++queueIndex<r;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,r=queue.length}currentQueue=null,draining=!1,cachedClearTimeout(e)}}function Item(e,r){this.fun=e,this.array=r}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout=setTimeout}catch(e){cachedSetTimeout=function(){throw new Error("setTimeout is not defined")}}try{cachedClearTimeout=clearTimeout}catch(e){cachedClearTimeout=function(){throw new Error("clearTimeout is not defined")}}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];queue.push(new Item(e,r)),1!==queue.length||draining||cachedSetTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],20:[function(require,module,exports){
function abortAll(n,t,o){function l(){--u||o(t)}var u=n.length;return u?(n.forEach(function(n){n?n(t,l):l()}),void(u||l())):o(t)}var noop=function(){};module.exports=function(n){return function(t,o){!function l(){t?abortAll(n,t,o):n.length?n[0]?n[0](null,function(t,u){t?(n.shift(),t===!0?l():abortAll(n,t,o)):o(null,u)}):(n.shift(),l()):o(!0)}()}};

},{}],21:[function(require,module,exports){
var Source=require("./source"),Sink=require("./sink");module.exports=function(){var e=Source(),r=Sink();return{source:e,sink:r,resolve:function(o){e.resolve(o.source),r.resolve(o.sink)}}};

},{"./sink":23,"./source":24}],22:[function(require,module,exports){
exports.source=require("./source"),exports.through=require("./through"),exports.sink=require("./sink"),exports.duplex=require("./duplex");

},{"./duplex":21,"./sink":23,"./source":24,"./through":25}],23:[function(require,module,exports){
module.exports=function(r){function e(e){if(!e)throw new Error("must be passed a readable");t=e,n&&r(t)}var t,n=!1;Math.random();return e.resolve=e.ready=e.start=function(a){return n=!0,r=a||r,t&&r(t),e},e};

},{}],24:[function(require,module,exports){
module.exports=function(){var r,o,n,e,t=function(t,l){r?r(t,l):t?(e=t,n=l):o=l};return t.resolve=function(t){if(r)throw new Error("already resolved");if(r=t,!r)throw new Error("no read cannot resolve!"+r);o&&t(null,o),n&&t(e,n)},t.abort=function(r){t.resolve(function(o,n){n(r||!0)})},t};

},{}],25:[function(require,module,exports){
module.exports=function(){function r(r){return s?s(r):(e=r,function(r,e){o?o(r,e):(t=r,n=e)})}var e,o,n,t,s;return r.resolve=function(r){if(s)throw new Error("already resolved");if(s=r,!s)throw new Error("resolve *must* be passed a transform stream");e&&(o=s(e),n&&o(t,n))},r};

},{}],26:[function(require,module,exports){
var pushable=require("pull-pushable");module.exports=function(){function n(n){for(var e=0;e<r.length;e++)r[e].push(n);return n}var r=[];return n.listen=function(){var n=pushable(function(){var e=r.indexOf(n);e!==-1&&r.splice(e,1)});return r.push(n),n},n.abort=function(n){for(;r.length;)r[0].end(n)},n.end=function(){return n.abort(!0)},n};

},{"pull-pushable":27}],27:[function(require,module,exports){
function pullPushable(n){function u(n,u){n&&(i=n,f&&t(i)),f=u,l()}function l(){f&&(i?t(i):!o.length&&e?t(e):o.length&&t(null,o.shift()))}function t(u,l){var t=f;if(u&&n){var i=n;n=null,i(u===!0?null:u)}f=null,t(u,l)}var i,f,e,o=[];return u.end=function(n){e=e||n||!0,l()},u.push=function(n){if(!e){if(f)return void t(i,n);o.push(n),l()}},u}module.exports=pullPushable;

},{}],28:[function(require,module,exports){
"use strict";var sources=require("./sources"),sinks=require("./sinks"),throughs=require("./throughs");exports=module.exports=require("./pull");for(var k in sources)exports[k]=sources[k];for(var k in throughs)exports[k]=throughs[k];for(var k in sinks)exports[k]=sinks[k];

},{"./pull":29,"./sinks":34,"./sources":41,"./throughs":50}],29:[function(require,module,exports){
"use strict";module.exports=function r(n){var t=arguments.length;if("function"==typeof n&&1===n.length){for(var e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return function(n){return e.unshift(n),r.apply(null,e)}}var u=n;u&&"function"==typeof u.source&&(u=u.source);for(var o=1;o<t;o++){var f=arguments[o];"function"==typeof f?u=f(u):f&&"object"==typeof f&&(f.sink(u),u=f.source)}return u};

},{}],30:[function(require,module,exports){
"use strict";var reduce=require("./reduce");module.exports=function(e){return reduce(function(e,r){return e.push(r),e},[],e)};

},{"./reduce":37}],31:[function(require,module,exports){
"use strict";var reduce=require("./reduce");module.exports=function(e){return reduce(function(e,r){return e+r},"",e)};

},{"./reduce":37}],32:[function(require,module,exports){
"use strict";module.exports=function(n,t){function o(u){return i=u,r?o.abort():void function f(){for(var o=!0,u=!1;o;)if(u=!1,i(null,function(e,c){if(u=!0,e=e||r){if(o=!1,t)t(e===!0?null:e);else if(e&&e!==!0)throw e}else n&&!1===n(c)||r?(o=!1,i(r||!0,t||function(){})):o||f()}),!u)return void(o=!1)}()}var i,r;return o.abort=function(n,t){if("function"==typeof n&&(t=n,n=!0),r=n||!0,i)return i(r,t||function(){})},o};

},{}],33:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop"),drain=require("./drain");module.exports=function(r,n){var i=!1;return n?r=prop(r)||id:(n=r,r=id),drain(function(u){if(r(u))return i=!0,n(null,u),!1},function(r){i||n(r===!0?null:r,null)})};

},{"../util/prop":57,"./drain":32}],34:[function(require,module,exports){
"use strict";module.exports={drain:require("./drain"),onEnd:require("./on-end"),log:require("./log"),find:require("./find"),reduce:require("./reduce"),collect:require("./collect"),concat:require("./concat")};

},{"./collect":30,"./concat":31,"./drain":32,"./find":33,"./log":35,"./on-end":36,"./reduce":37}],35:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(r){return drain(function(r){console.log(r)},r)};

},{"./drain":32}],36:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(r){return drain(null,r)};

},{"./drain":32}],37:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(n,r,i){return drain(function(i){r=n(r,i)},function(n){i(n,r)})};

},{"./drain":32}],38:[function(require,module,exports){
"use strict";module.exports=function(n){var r=0;return n=n||1/0,function(t,u){return t?u&&u(t):r>n?u(!0):void u(null,r++)}};

},{}],39:[function(require,module,exports){
"use strict";module.exports=function(){return function(t,n){n(!0)}};

},{}],40:[function(require,module,exports){
"use strict";module.exports=function(t){return function(n,u){u(t)}};

},{}],41:[function(require,module,exports){
"use strict";module.exports={keys:require("./keys"),once:require("./once"),values:require("./values"),count:require("./count"),infinite:require("./infinite"),empty:require("./empty"),error:require("./error")};

},{"./count":38,"./empty":39,"./error":40,"./infinite":42,"./keys":43,"./once":44,"./values":45}],42:[function(require,module,exports){
"use strict";module.exports=function(n){return n=n||Math.random,function(t,r){return t?r&&r(t):r(null,n())}};

},{}],43:[function(require,module,exports){
"use strict";var values=require("./values");module.exports=function(e){return values(Object.keys(e))};

},{"./values":45}],44:[function(require,module,exports){
"use strict";var abortCb=require("../util/abort-cb");module.exports=function(r,t){return function(u,e){if(u)return abortCb(e,u,t);if(null!=r){var l=r;r=null,e(null,l)}else e(!0)}};

},{"../util/abort-cb":56}],45:[function(require,module,exports){
"use strict";var abortCb=require("../util/abort-cb");module.exports=function(r,t){if(!r)return function(r,n){return r?abortCb(n,r,t):n(!0)};Array.isArray(r)||(r=Object.keys(r).map(function(t){return r[t]}));var n=0;return function(u,e){return u?abortCb(e,u,t):void e(n>=r.length||null,r[n++])}};

},{"../util/abort-cb":56}],46:[function(require,module,exports){
"use strict";function id(n){return n}var prop=require("../util/prop");module.exports=function(n){if(!n)return id;n=prop(n);var r,u,t=!1;return function(i){return function o(e,c){return u?c(u):void(e?(u=e,t?i(e,function(){t?r=c:c(e)}):i(e,c)):i(null,function(i,e){i?c(i):u?c(u):(t=!0,n(e,function(n,i){t=!1,u?(c(u),r(u)):n?o(n,c):c(null,i)}))}))}}};

},{"../util/prop":57}],47:[function(require,module,exports){
"use strict";var tester=require("../util/tester"),filter=require("./filter");module.exports=function(e){return e=tester(e),filter(function(r){return!e(r)})};

},{"../util/tester":58,"./filter":48}],48:[function(require,module,exports){
"use strict";var tester=require("../util/tester");module.exports=function(t){return t=tester(t),function(r){return function e(n,u){for(var i,o=!0;o;)o=!1,i=!0,r(n,function(r,n){return r||t(n)?void u(r,n):i?o=!0:e(r,u)}),i=!1}}};

},{"../util/tester":58}],49:[function(require,module,exports){
"use strict";var values=require("../sources/values"),once=require("../sources/once");module.exports=function(){return function(n){var u;return function(e,o){function r(){u(null,function(u,e){u===!0?t():u?n(!0,function(n){o(u)}):o(null,e)})}function t(){u=null,n(null,function(n,e){return n?o(n):(Array.isArray(e)||e&&"object"==typeof e?e=values(e):"function"!=typeof e&&(e=once(e)),u=e,void r())})}e?u?u(e,function(u){n(u||e,o)}):n(e,o):u?r():t()}}};

},{"../sources/once":44,"../sources/values":45}],50:[function(require,module,exports){
"use strict";module.exports={map:require("./map"),asyncMap:require("./async-map"),filter:require("./filter"),filterNot:require("./filter-not"),through:require("./through"),take:require("./take"),unique:require("./unique"),nonUnique:require("./non-unique"),flatten:require("./flatten")};

},{"./async-map":46,"./filter":48,"./filter-not":47,"./flatten":49,"./map":51,"./non-unique":52,"./take":53,"./through":54,"./unique":55}],51:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop");module.exports=function(r){return r?(r=prop(r),function(n){return function(t,u){n(t,function(t,i){try{i=t?null:r(i)}catch(o){return n(o,function(){return u(o)})}u(t,i)})}}):id};

},{"../util/prop":57}],52:[function(require,module,exports){
"use strict";var unique=require("./unique");module.exports=function(u){return unique(u,!0)};

},{"./unique":55}],53:[function(require,module,exports){
"use strict";module.exports=function(n,u){u=u||{};var t=u.last||!1,r=!1;if("number"==typeof n){t=!0;var o=n;n=function(){return--o}}return function(u){function o(n){u(!0,function(u){t=!1,n(u||!0)})}return function(f,i){r?t?o(i):i(r):(r=f)?u(r,i):u(null,function(u,f){(r=r||u)?i(r):n(f)?i(null,f):(r=!0,t?i(null,f):o(i))})}}};

},{}],54:[function(require,module,exports){
"use strict";module.exports=function(n,t){function u(n){!r&&t&&(r=!0,t(n===!0?null:n))}var r=!1;return function(t){return function(r,o){return r&&u(r),t(r,function(t,r){t?u(t):n&&n(r),o(t,r)})}}};

},{}],55:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop"),filter=require("./filter");module.exports=function(r,e){r=prop(r)||id;var t={};return filter(function(i){var u=r(i);return t[u]?!!e:(t[u]=!0,!e)})};

},{"../util/prop":57,"./filter":48}],56:[function(require,module,exports){
module.exports=function(l,n,o){l(n),o&&o(n===!0?null:n)};

},{}],57:[function(require,module,exports){
module.exports=function(e){return e&&("string"==typeof e?function(t){return t[e]}:"object"==typeof e&&"function"==typeof e.exec?function(t){var n=e.exec(t);return n&&n[0]}:e)};

},{}],58:[function(require,module,exports){
function id(t){return t}var prop=require("./prop");module.exports=function(t){return"object"==typeof t&&"function"==typeof t.test?function(r){return t.test(r)}:prop(t)||id};

},{"./prop":57}],59:[function(require,module,exports){
function trim(r){return r.replace(/^\s*|\s*$/g,"")}exports=module.exports=trim,exports.left=function(r){return r.replace(/^\s*/,"")},exports.right=function(r){return r.replace(/\s*$/,"")};

},{}],60:[function(require,module,exports){
"use strict";function forEachArray(e,t){for(var r=0;r<e.length;r++)t(e[r])}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function initParams(e,t,r){var n=e;return isFunction(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=xtend(t,{uri:e}),n.callback=r,n}function createXHR(e,t,r){return t=initParams(e,t,r),_createXHR(t)}function _createXHR(e){function t(){4===i.readyState&&o()}function r(){var e=void 0;if(i.response?e=i.response:"text"!==i.responseType&&i.responseType||(e=i.responseText||i.responseXML),H)try{e=JSON.parse(e)}catch(t){}return e}function n(e){clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,a)}function o(){if(!c){var t;clearTimeout(d),t=e.useXDR&&void 0===i.status?200:1223===i.status?204:i.status;var n=a,o=null;0!==t?(n={body:r(),statusCode:t,method:l,headers:{},url:p,rawRequest:i},i.getAllResponseHeaders&&(n.headers=parseHeaders(i.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),s(o,n,n.body)}}var s=e.callback;if("undefined"==typeof s)throw new Error("callback argument missing");s=once(s);var a={body:void 0,headers:{},statusCode:0,method:l,url:p,rawRequest:i},i=e.xhr||null;i||(i=e.cors||e.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var u,c,d,p=i.url=e.uri||e.url,l=i.method=e.method||"GET",f=e.body||e.data||null,R=i.headers=e.headers||{},h=!!e.sync,H=!1;if("json"in e&&(H=!0,R.accept||R.Accept||(R.Accept="application/json"),"GET"!==l&&"HEAD"!==l&&(R["content-type"]||R["Content-Type"]||(R["Content-Type"]="application/json"),f=JSON.stringify(e.json))),i.onreadystatechange=t,i.onload=o,i.onerror=n,i.onprogress=function(){},i.ontimeout=n,i.open(l,p,!h,e.username,e.password),h||(i.withCredentials=!!e.withCredentials),!h&&e.timeout>0&&(d=setTimeout(function(){c=!0,i.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",n(e)},e.timeout)),i.setRequestHeader)for(u in R)R.hasOwnProperty(u)&&i.setRequestHeader(u,R[u]);else if(e.headers&&!isEmpty(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(i.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(i),i.send(f),i}function noop(){}var window=require("global/window"),once=require("once"),isFunction=require("is-function"),parseHeaders=require("parse-headers"),xtend=require("xtend");module.exports=createXHR,createXHR.XMLHttpRequest=window.XMLHttpRequest||noop,createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window.XDomainRequest,forEachArray(["get","put","post","patch","head","delete"],function(e){createXHR["delete"===e?"del":e]=function(t,r,n){return r=initParams(t,r,n),r.method=e.toUpperCase(),_createXHR(r)}});

},{"global/window":8,"is-function":15,"once":61,"parse-headers":18,"xtend":62}],61:[function(require,module,exports){
function once(n){var o=!1;return function(){if(!o)return o=!0,n.apply(this,arguments)}}module.exports=once,once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0})});

},{}],62:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;

},{}],63:[function(require,module,exports){
var bel=require("bel"),morphdom=require("morphdom"),defaultEvents=require("./update-events.js");module.exports=bel,module.exports.update=function(e,o,r){function t(e,o){for(var t=r.events||defaultEvents,n=0;n<t.length;n++){var u=t[n];o[u]?e[u]=o[u]:e[u]&&(e[u]=void 0)}("INPUT"===e.nodeName&&"file"!==e.type||"TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&null===o.getAttribute("value")&&(o.value=e.value)}return r||(r={}),r.events!==!1&&(r.onBeforeMorphEl||(r.onBeforeMorphEl=t)),morphdom(e,o,r)};

},{"./update-events.js":64,"bel":3,"morphdom":16}],64:[function(require,module,exports){
module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"];

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjbGllbnQvQXBwLmpzIiwiY2xpZW50L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2JlbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyLXJlc29sdmUvZW1wdHkuanMiLCJub2RlX21vZHVsZXMvZGVmaW5lZC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9mb3ItZWFjaC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9nbG9iYWwvZG9jdW1lbnQuanMiLCJub2RlX21vZHVsZXMvZ2xvYmFsL3dpbmRvdy5qcyIsIm5vZGVfbW9kdWxlcy9oeXBlcnNjcmlwdC1hdHRyaWJ1dGUtdG8tcHJvcGVydHkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvaHlwZXJ4L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2ludS9odG1sLmpzIiwibm9kZV9tb2R1bGVzL2ludS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9pbnUvcHVsbC5qcyIsIm5vZGVfbW9kdWxlcy9pbnUvc3RhcnQuanMiLCJub2RlX21vZHVsZXMvaXMtZnVuY3Rpb24vaW5kZXguanMiLCJub2RlX21vZHVsZXMvbW9ycGhkb20vbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL29uLWxvYWQvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcGFyc2UtaGVhZGVycy9wYXJzZS1oZWFkZXJzLmpzIiwibm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWNhdC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWRlZmVyL2R1cGxleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWRlZmVyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtZGVmZXIvc2luay5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWRlZmVyL3NvdXJjZS5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWRlZmVyL3Rocm91Z2guanMiLCJub2RlX21vZHVsZXMvcHVsbC1ub3RpZnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHVsbC1wdXNoYWJsZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9wdWxsLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL2NvbGxlY3QuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc2lua3MvY29uY2F0LmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL2RyYWluLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL2ZpbmQuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc2lua3MvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc2lua3MvbG9nLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL29uLWVuZC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zaW5rcy9yZWR1Y2UuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc291cmNlcy9jb3VudC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zb3VyY2VzL2VtcHR5LmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NvdXJjZXMvZXJyb3IuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc291cmNlcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zb3VyY2VzL2luZmluaXRlLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NvdXJjZXMva2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zb3VyY2VzL29uY2UuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc291cmNlcy92YWx1ZXMuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvYXN5bmMtbWFwLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL2ZpbHRlci1ub3QuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvZmlsdGVyLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL2ZsYXR0ZW4uanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvbWFwLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL25vbi11bmlxdWUuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvdGFrZS5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS90aHJvdWdocy90aHJvdWdoLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL3VuaXF1ZS5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS91dGlsL2Fib3J0LWNiLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3V0aWwvcHJvcC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS91dGlsL3Rlc3Rlci5qcyIsIm5vZGVfbW9kdWxlcy90cmltL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3hoci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy94aHIvbm9kZV9tb2R1bGVzL29uY2Uvb25jZS5qcyIsIm5vZGVfbW9kdWxlcy94dGVuZC9pbW11dGFibGUuanMiLCJub2RlX21vZHVsZXMveW8teW8vaW5kZXguanMiLCJub2RlX21vZHVsZXMveW8teW8vdXBkYXRlLWV2ZW50cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtvNENDQUEsS0FBQSxRQUFBLE9BQ0EsV0FBQSxRQUFBLDZEQUNBLEtBQUEsUUFBQSwwQ0FFTSxlQUNKLFlBQVksRUFDWixhQUdJLGVBQWlCLGlCQUNqQixpQkFBbUIsbUJBQ25CLGdCQUFrQixrQkFFbEIsS0FDSixLQUFNLFdBQUEsT0FDSixNQUFPLGNBQ1As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LFFBQVUsSUFHakIsT0FBTyxRQUFRLE9BQVMsU0FBVSxFQUFVLEVBQVEsR0FVbEQsUUFBUyxHQUFRLEVBQUcsR0FHbEIsSUFBSyxHQURELEdBQVMsRUFBSyxRQUFVLGNBQ25CLEVBQUksRUFBRyxFQUFJLEVBQU8sT0FBUSxJQUFLLENBQ3RDLEdBQUksR0FBSyxFQUFPLEVBQ1osR0FBRSxHQUNKLEVBQUUsR0FBTSxFQUFFLEdBQ0QsRUFBRSxLQUNYLEVBQUUsR0FBTSxTQUlRLFVBQWYsRUFBRSxVQUFtQyxTQUFYLEVBQUUsTUFBbUMsYUFBZixFQUFFLFVBQTBDLFdBQWYsRUFBRSxXQUNsRCxPQUE1QixFQUFFLGFBQWEsV0FBbUIsRUFBRSxNQUFRLEVBQUUsT0FqQnRELE1BTEssS0FBTSxNQUNQLEVBQUssVUFBVyxJQUNiLEVBQUssa0JBQWlCLEVBQUssZ0JBQWtCLElBRzdDLFNBQVMsRUFBVSxFQUFROzs7QUNicEMsT0FBTyxTQUVMLFVBQ0EsYUFDQSxjQUNBLFlBQ0EsY0FDQSxjQUNBLGFBQ0EsY0FDQSxTQUNBLGNBQ0EsY0FDQSxhQUNBLFNBQ0EsWUFDQSxZQUNBLGFBQ0EsVUFDQSxXQUNBLFVBQ0EsVUFDQSxXQUNBLFdBQ0EsV0FDQSxXQUNBLFdBQ0EsVUFDQSxVQUNBLFNBQ0EsVUFFQSxnQkFDQSxZQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7IGh0bWwsIHB1bGwgfSBmcm9tICdpbnUnXG5pbXBvcnQgZGVmZXIgZnJvbSAncHVsbC1kZWZlcidcbmltcG9ydCByZXF1ZXN0IGZyb20gJ3hocidcblxuY29uc3QgSU5JVElBTF9NT0RFTCA9IHtcbiAgcmVmcmVzaGluZzogZmFsc2UsXG4gIHBhaXJpbmdzOiBbXVxufVxuXG5jb25zdCBGRVRDSF9QQUlSSU5HUyA9ICdGRVRDSF9QQUlSSU5HUydcbmNvbnN0IFJFRlJFU0hfUEFJUklOR1MgPSAnUkVGUkVTSF9QQUlSSU5HUydcbmNvbnN0IFVQREFURV9QQUlSSU5HUyA9ICdVUERBVEVfUEFJUklOR1MnXG5cbmNvbnN0IEFwcCA9IHtcbiAgaW5pdDogKCkgPT4gKHtcbiAgICBtb2RlbDogSU5JVElBTF9NT0RFTCxcbiAgICBlZmZlY3Q6IHsgdHlwZTogRkVUQ0hfUEFJUklOR1MgfVxuICB9KSxcblxuICB1cGRhdGU6IChtb2RlbCwgYWN0aW9uKSA9PiB7XG5cbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlIFJFRlJFU0hfUEFJUklOR1M6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbW9kZWw6IE9iamVjdC5hc3NpZ24oe30sIG1vZGVsLCB7cmVmcmVzaGluZzogdHJ1ZX0pLFxuICAgICAgICAgIGVmZmVjdDoge1xuICAgICAgICAgICAgdHlwZTogRkVUQ0hfUEFJUklOR1NcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGNhc2UgVVBEQVRFX1BBSVJJTkdTOlxuICAgICAgICBsZXQgbmV3TW9kZWwgPSBPYmplY3QuYXNzaWduKHt9LCBtb2RlbCwge3JlZnJlc2hpbmc6IGZhbHNlfSlcbiAgICAgICAgbmV3TW9kZWwucGFpcmluZ3MgPSBhY3Rpb24ucGFpcmluZ3NcbiAgICAgICAgcmV0dXJuIHsgXG4gICAgICAgICAgbW9kZWw6IG5ld01vZGVsXG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB7IG1vZGVsIH1cbiAgICB9XG4gIH0sXG5cbiAgdmlldzogKG1vZGVsLCBkaXNwYXRjaCkgPT4gaHRtbGBcbiAgICA8ZGl2IGNsYXNzPSdtYWluJz5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxidXR0b24gXG4gICAgICAgICAgY2xhc3M9XCJyZWZyZXNoICR7KG1vZGVsLnJlZnJlc2hpbmcpID8gJ2J1dHRvbi1wcmltYXJ5JyA6ICcnfVwiXG4gICAgICAgICAgb25jbGljaz0keyAoKSA9PiBkaXNwYXRjaCh7dHlwZTogUkVGUkVTSF9QQUlSSU5HU30pIH1cbiAgICAgICAgPlxuICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtcmVmcmVzaCAkeyhtb2RlbC5yZWZyZXNoaW5nKSA/ICdmYS1zcGluJyA6ICcnfVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgJHttb2RlbC5wYWlyaW5ncy5tYXAoIHAgPT4gaHRtbGAgXG4gICAgICAgICAgPGRpdiBjbGFzcz0ncm93Jz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9J3R3byBjb2x1bW5zJz4ke3AuVGFibGV9PC9kaXY+IFxuICAgICAgICAgICAgPGRpdiBjbGFzcz0ndGVuIGNvbHVtbnMnPiR7cC5QbGF5ZXIucmVwbGFjZSgvLC4qLywnJyl9LCA8c3Ryb25nPiR7cC5QbGF5ZXIucmVwbGFjZSgvW14sXSosLywnJyl9PC9zdHJvbmc+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGApXG4gICAgICB9XG4gICAgPC9kaXY+XG4gIGAsXG5cbiAgcnVuOiAoZWZmZWN0KSA9PiB7XG4gICAgc3dpdGNoIChlZmZlY3QudHlwZSkge1xuXG4gICAgICBjYXNlIEZFVENIX1BBSVJJTkdTOlxuICAgICAgICBsZXQgc291cmNlID0gZGVmZXIuc291cmNlKClcblxuICAgICAgICByZXF1ZXN0LmdldCgnL2RhdGEnLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmxvZyhlcnIpXG5cbiAgICAgICAgICBjb25zdCBtb2RlbCA9IEpTT04ucGFyc2UocmVzLmJvZHkpXG4gICAgICAgICAgY29uc3QgcGFpcmluZ3MgPSBtb2RlbC5wYWlyaW5nc1xuXG4gICAgICAgICAgc291cmNlLnJlc29sdmUoXG4gICAgICAgICAgICBwdWxsLnZhbHVlcyhbe1xuICAgICAgICAgICAgICB0eXBlOiBVUERBVEVfUEFJUklOR1MsXG4gICAgICAgICAgICAgIHBhaXJpbmdzXG4gICAgICAgICAgICB9XSlcbiAgICAgICAgIClcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gc291cmNlXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUubG9nKCdzb21lIHVubWF0Y2hlZCBlZmZlY3QnLCBlZmZlY3QpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcFxuXG4iLCJpbXBvcnQgeyBzdGFydCwgaHRtbCwgcHVsbCB9IGZyb20gJ2ludSdcblxuaW1wb3J0IGFwcCBmcm9tICcuL0FwcCdcblxuY29uc3QgeyB2aWV3cyB9ID0gc3RhcnQoYXBwKVxuY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluJylcblxucHVsbChcbiAgdmlld3MoKSxcbiAgcHVsbC5kcmFpbihmdW5jdGlvbiAodmlldykge1xuICAgIGh0bWwudXBkYXRlKG1haW4sIHZpZXcpXG4gIH0pXG4pIFxuXG4iLCJ2YXIgZG9jdW1lbnQgPSByZXF1aXJlKCdnbG9iYWwvZG9jdW1lbnQnKVxudmFyIGh5cGVyeCA9IHJlcXVpcmUoJ2h5cGVyeCcpXG52YXIgb25sb2FkID0gcmVxdWlyZSgnb24tbG9hZCcpXG5cbnZhciBTVkdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZydcbnZhciBCT09MX1BST1BTID0ge1xuICBhdXRvZm9jdXM6IDEsXG4gIGNoZWNrZWQ6IDEsXG4gIGRlZmF1bHRjaGVja2VkOiAxLFxuICBkaXNhYmxlZDogMSxcbiAgZm9ybW5vdmFsaWRhdGU6IDEsXG4gIGluZGV0ZXJtaW5hdGU6IDEsXG4gIHJlYWRvbmx5OiAxLFxuICByZXF1aXJlZDogMSxcbiAgd2lsbHZhbGlkYXRlOiAxXG59XG52YXIgU1ZHX1RBR1MgPSBbXG4gICdzdmcnLFxuICAnYWx0R2x5cGgnLCAnYWx0R2x5cGhEZWYnLCAnYWx0R2x5cGhJdGVtJywgJ2FuaW1hdGUnLCAnYW5pbWF0ZUNvbG9yJyxcbiAgJ2FuaW1hdGVNb3Rpb24nLCAnYW5pbWF0ZVRyYW5zZm9ybScsICdjaXJjbGUnLCAnY2xpcFBhdGgnLCAnY29sb3ItcHJvZmlsZScsXG4gICdjdXJzb3InLCAnZGVmcycsICdkZXNjJywgJ2VsbGlwc2UnLCAnZmVCbGVuZCcsICdmZUNvbG9yTWF0cml4JyxcbiAgJ2ZlQ29tcG9uZW50VHJhbnNmZXInLCAnZmVDb21wb3NpdGUnLCAnZmVDb252b2x2ZU1hdHJpeCcsICdmZURpZmZ1c2VMaWdodGluZycsXG4gICdmZURpc3BsYWNlbWVudE1hcCcsICdmZURpc3RhbnRMaWdodCcsICdmZUZsb29kJywgJ2ZlRnVuY0EnLCAnZmVGdW5jQicsXG4gICdmZUZ1bmNHJywgJ2ZlRnVuY1InLCAnZmVHYXVzc2lhbkJsdXInLCAnZmVJbWFnZScsICdmZU1lcmdlJywgJ2ZlTWVyZ2VOb2RlJyxcbiAgJ2ZlTW9ycGhvbG9neScsICdmZU9mZnNldCcsICdmZVBvaW50TGlnaHQnLCAnZmVTcGVjdWxhckxpZ2h0aW5nJyxcbiAgJ2ZlU3BvdExpZ2h0JywgJ2ZlVGlsZScsICdmZVR1cmJ1bGVuY2UnLCAnZmlsdGVyJywgJ2ZvbnQnLCAnZm9udC1mYWNlJyxcbiAgJ2ZvbnQtZmFjZS1mb3JtYXQnLCAnZm9udC1mYWNlLW5hbWUnLCAnZm9udC1mYWNlLXNyYycsICdmb250LWZhY2UtdXJpJyxcbiAgJ2ZvcmVpZ25PYmplY3QnLCAnZycsICdnbHlwaCcsICdnbHlwaFJlZicsICdoa2VybicsICdpbWFnZScsICdsaW5lJyxcbiAgJ2xpbmVhckdyYWRpZW50JywgJ21hcmtlcicsICdtYXNrJywgJ21ldGFkYXRhJywgJ21pc3NpbmctZ2x5cGgnLCAnbXBhdGgnLFxuICAncGF0aCcsICdwYXR0ZXJuJywgJ3BvbHlnb24nLCAncG9seWxpbmUnLCAncmFkaWFsR3JhZGllbnQnLCAncmVjdCcsXG4gICdzZXQnLCAnc3RvcCcsICdzd2l0Y2gnLCAnc3ltYm9sJywgJ3RleHQnLCAndGV4dFBhdGgnLCAndGl0bGUnLCAndHJlZicsXG4gICd0c3BhbicsICd1c2UnLCAndmlldycsICd2a2Vybidcbl1cblxuZnVuY3Rpb24gYmVsQ3JlYXRlRWxlbWVudCAodGFnLCBwcm9wcywgY2hpbGRyZW4pIHtcbiAgdmFyIGVsXG5cbiAgLy8gSWYgYW4gc3ZnIHRhZywgaXQgbmVlZHMgYSBuYW1lc3BhY2VcbiAgaWYgKFNWR19UQUdTLmluZGV4T2YodGFnKSAhPT0gLTEpIHtcbiAgICBwcm9wcy5uYW1lc3BhY2UgPSBTVkdOU1xuICB9XG5cbiAgLy8gSWYgd2UgYXJlIHVzaW5nIGEgbmFtZXNwYWNlXG4gIHZhciBucyA9IGZhbHNlXG4gIGlmIChwcm9wcy5uYW1lc3BhY2UpIHtcbiAgICBucyA9IHByb3BzLm5hbWVzcGFjZVxuICAgIGRlbGV0ZSBwcm9wcy5uYW1lc3BhY2VcbiAgfVxuXG4gIC8vIENyZWF0ZSB0aGUgZWxlbWVudFxuICBpZiAobnMpIHtcbiAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdGFnKVxuICB9IGVsc2Uge1xuICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpXG4gIH1cblxuICAvLyBJZiBhZGRpbmcgb25sb2FkIGV2ZW50c1xuICBpZiAocHJvcHMub25sb2FkIHx8IHByb3BzLm9udW5sb2FkKSB7XG4gICAgdmFyIGxvYWQgPSBwcm9wcy5vbmxvYWQgfHwgZnVuY3Rpb24gKCkge31cbiAgICB2YXIgdW5sb2FkID0gcHJvcHMub251bmxvYWQgfHwgZnVuY3Rpb24gKCkge31cbiAgICBvbmxvYWQoZWwsIGZ1bmN0aW9uIGJlbF9vbmxvYWQgKCkge1xuICAgICAgbG9hZChlbClcbiAgICB9LCBmdW5jdGlvbiBiZWxfb251bmxvYWQgKCkge1xuICAgICAgdW5sb2FkKGVsKVxuICAgIH0sIGJlbENyZWF0ZUVsZW1lbnQuY2FsbGVyLmNhbGxlci5jYWxsZXIpXG4gICAgZGVsZXRlIHByb3BzLm9ubG9hZFxuICAgIGRlbGV0ZSBwcm9wcy5vbnVubG9hZFxuICB9XG5cbiAgLy8gQ3JlYXRlIHRoZSBwcm9wZXJ0aWVzXG4gIGZvciAodmFyIHAgaW4gcHJvcHMpIHtcbiAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgIHZhciBrZXkgPSBwLnRvTG93ZXJDYXNlKClcbiAgICAgIHZhciB2YWwgPSBwcm9wc1twXVxuICAgICAgLy8gTm9ybWFsaXplIGNsYXNzTmFtZVxuICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzbmFtZScpIHtcbiAgICAgICAga2V5ID0gJ2NsYXNzJ1xuICAgICAgICBwID0gJ2NsYXNzJ1xuICAgICAgfVxuICAgICAgLy8gVGhlIGZvciBhdHRyaWJ1dGUgZ2V0cyB0cmFuc2Zvcm1lZCB0byBodG1sRm9yLCBidXQgd2UganVzdCBzZXQgYXMgZm9yXG4gICAgICBpZiAocCA9PT0gJ2h0bWxGb3InKSB7XG4gICAgICAgIHAgPSAnZm9yJ1xuICAgICAgfVxuICAgICAgLy8gSWYgYSBwcm9wZXJ0eSBpcyBib29sZWFuLCBzZXQgaXRzZWxmIHRvIHRoZSBrZXlcbiAgICAgIGlmIChCT09MX1BST1BTW2tleV0pIHtcbiAgICAgICAgaWYgKHZhbCA9PT0gJ3RydWUnKSB2YWwgPSBrZXlcbiAgICAgICAgZWxzZSBpZiAodmFsID09PSAnZmFsc2UnKSBjb250aW51ZVxuICAgICAgfVxuICAgICAgLy8gSWYgYSBwcm9wZXJ0eSBwcmVmZXJzIGJlaW5nIHNldCBkaXJlY3RseSB2cyBzZXRBdHRyaWJ1dGVcbiAgICAgIGlmIChrZXkuc2xpY2UoMCwgMikgPT09ICdvbicpIHtcbiAgICAgICAgZWxbcF0gPSB2YWxcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChucykge1xuICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIHAsIHZhbClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUocCwgdmFsKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kQ2hpbGQgKGNoaWxkcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjaGlsZHMpKSByZXR1cm5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG5vZGUgPSBjaGlsZHNbaV1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgICAgIGFwcGVuZENoaWxkKG5vZGUpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgdHlwZW9mIG5vZGUgPT09ICdib29sZWFuJyB8fFxuICAgICAgICBub2RlIGluc3RhbmNlb2YgRGF0ZSB8fFxuICAgICAgICBub2RlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnRvU3RyaW5nKClcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBub2RlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoZWwubGFzdENoaWxkICYmIGVsLmxhc3RDaGlsZC5ub2RlTmFtZSA9PT0gJyN0ZXh0Jykge1xuICAgICAgICAgIGVsLmxhc3RDaGlsZC5ub2RlVmFsdWUgKz0gbm9kZVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUpXG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlICYmIG5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQobm9kZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXBwZW5kQ2hpbGQoY2hpbGRyZW4pXG5cbiAgcmV0dXJuIGVsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gaHlwZXJ4KGJlbENyZWF0ZUVsZW1lbnQpXG5tb2R1bGUuZXhwb3J0cy5jcmVhdGVFbGVtZW50ID0gYmVsQ3JlYXRlRWxlbWVudFxuIiwiXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbVZ0Y0hSNUxtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSWlMQ0ptYVd4bElqb2liM1YwTG1wekxtMWhjQ0lzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWlKZGZRPT0iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXJndW1lbnRzW2ldICE9PSB1bmRlZmluZWQpIHJldHVybiBhcmd1bWVudHNbaV07XG4gICAgfVxufTtcbiIsInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnaXMtZnVuY3Rpb24nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZvckVhY2hcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuXG5mdW5jdGlvbiBmb3JFYWNoKGxpc3QsIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKGl0ZXJhdG9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpdGVyYXRvciBtdXN0IGJlIGEgZnVuY3Rpb24nKVxuICAgIH1cblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgICAgICBjb250ZXh0ID0gdGhpc1xuICAgIH1cbiAgICBcbiAgICBpZiAodG9TdHJpbmcuY2FsbChsaXN0KSA9PT0gJ1tvYmplY3QgQXJyYXldJylcbiAgICAgICAgZm9yRWFjaEFycmF5KGxpc3QsIGl0ZXJhdG9yLCBjb250ZXh0KVxuICAgIGVsc2UgaWYgKHR5cGVvZiBsaXN0ID09PSAnc3RyaW5nJylcbiAgICAgICAgZm9yRWFjaFN0cmluZyhsaXN0LCBpdGVyYXRvciwgY29udGV4dClcbiAgICBlbHNlXG4gICAgICAgIGZvckVhY2hPYmplY3QobGlzdCwgaXRlcmF0b3IsIGNvbnRleHQpXG59XG5cbmZ1bmN0aW9uIGZvckVhY2hBcnJheShhcnJheSwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksIGkpKSB7XG4gICAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIGFycmF5W2ldLCBpLCBhcnJheSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZm9yRWFjaFN0cmluZyhzdHJpbmcsIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHN0cmluZy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAvLyBubyBzdWNoIHRoaW5nIGFzIGEgc3BhcnNlIHN0cmluZy5cbiAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBzdHJpbmcuY2hhckF0KGkpLCBpLCBzdHJpbmcpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBmb3JFYWNoT2JqZWN0KG9iamVjdCwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBmb3IgKHZhciBrIGluIG9iamVjdCkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGspKSB7XG4gICAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9iamVjdFtrXSwgaywgb2JqZWN0KVxuICAgICAgICB9XG4gICAgfVxufVxuIiwidmFyIHRvcExldmVsID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOlxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge31cbnZhciBtaW5Eb2MgPSByZXF1aXJlKCdtaW4tZG9jdW1lbnQnKTtcblxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGRvY3VtZW50O1xufSBlbHNlIHtcbiAgICB2YXIgZG9jY3kgPSB0b3BMZXZlbFsnX19HTE9CQUxfRE9DVU1FTlRfQ0FDSEVANCddO1xuXG4gICAgaWYgKCFkb2NjeSkge1xuICAgICAgICBkb2NjeSA9IHRvcExldmVsWydfX0dMT0JBTF9ET0NVTUVOVF9DQUNIRUA0J10gPSBtaW5Eb2M7XG4gICAgfVxuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBkb2NjeTtcbn1cbiIsImlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpe1xuICAgIG1vZHVsZS5leHBvcnRzID0gc2VsZjtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7fTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gYXR0cmlidXRlVG9Qcm9wZXJ0eVxuXG52YXIgdHJhbnNmb3JtID0ge1xuICAnY2xhc3MnOiAnY2xhc3NOYW1lJyxcbiAgJ2Zvcic6ICdodG1sRm9yJyxcbiAgJ2h0dHAtZXF1aXYnOiAnaHR0cEVxdWl2J1xufVxuXG5mdW5jdGlvbiBhdHRyaWJ1dGVUb1Byb3BlcnR5IChoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFnTmFtZSwgYXR0cnMsIGNoaWxkcmVuKSB7XG4gICAgZm9yICh2YXIgYXR0ciBpbiBhdHRycykge1xuICAgICAgaWYgKGF0dHIgaW4gdHJhbnNmb3JtKSB7XG4gICAgICAgIGF0dHJzW3RyYW5zZm9ybVthdHRyXV0gPSBhdHRyc1thdHRyXVxuICAgICAgICBkZWxldGUgYXR0cnNbYXR0cl1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGgodGFnTmFtZSwgYXR0cnMsIGNoaWxkcmVuKVxuICB9XG59XG4iLCJ2YXIgYXR0clRvUHJvcCA9IHJlcXVpcmUoJ2h5cGVyc2NyaXB0LWF0dHJpYnV0ZS10by1wcm9wZXJ0eScpXG5cbnZhciBWQVIgPSAwLCBURVhUID0gMSwgT1BFTiA9IDIsIENMT1NFID0gMywgQVRUUiA9IDRcbnZhciBBVFRSX0tFWSA9IDUsIEFUVFJfS0VZX1cgPSA2XG52YXIgQVRUUl9WQUxVRV9XID0gNywgQVRUUl9WQUxVRSA9IDhcbnZhciBBVFRSX1ZBTFVFX1NRID0gOSwgQVRUUl9WQUxVRV9EUSA9IDEwXG52YXIgQVRUUl9FUSA9IDExLCBBVFRSX0JSRUFLID0gMTJcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaCwgb3B0cykge1xuICBoID0gYXR0clRvUHJvcChoKVxuICBpZiAoIW9wdHMpIG9wdHMgPSB7fVxuICB2YXIgY29uY2F0ID0gb3B0cy5jb25jYXQgfHwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gU3RyaW5nKGEpICsgU3RyaW5nKGIpXG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKHN0cmluZ3MpIHtcbiAgICB2YXIgc3RhdGUgPSBURVhULCByZWcgPSAnJ1xuICAgIHZhciBhcmdsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgdmFyIHBhcnRzID0gW11cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGkgPCBhcmdsZW4gLSAxKSB7XG4gICAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbaSsxXVxuICAgICAgICB2YXIgcCA9IHBhcnNlKHN0cmluZ3NbaV0pXG4gICAgICAgIHZhciB4c3RhdGUgPSBzdGF0ZVxuICAgICAgICBpZiAoeHN0YXRlID09PSBBVFRSX1ZBTFVFX0RRKSB4c3RhdGUgPSBBVFRSX1ZBTFVFXG4gICAgICAgIGlmICh4c3RhdGUgPT09IEFUVFJfVkFMVUVfU1EpIHhzdGF0ZSA9IEFUVFJfVkFMVUVcbiAgICAgICAgaWYgKHhzdGF0ZSA9PT0gQVRUUl9WQUxVRV9XKSB4c3RhdGUgPSBBVFRSX1ZBTFVFXG4gICAgICAgIGlmICh4c3RhdGUgPT09IEFUVFIpIHhzdGF0ZSA9IEFUVFJfS0VZXG4gICAgICAgIHAucHVzaChbIFZBUiwgeHN0YXRlLCBhcmcgXSlcbiAgICAgICAgcGFydHMucHVzaC5hcHBseShwYXJ0cywgcClcbiAgICAgIH0gZWxzZSBwYXJ0cy5wdXNoLmFwcGx5KHBhcnRzLCBwYXJzZShzdHJpbmdzW2ldKSlcbiAgICB9XG5cbiAgICB2YXIgdHJlZSA9IFtudWxsLHt9LFtdXVxuICAgIHZhciBzdGFjayA9IFtbdHJlZSwtMV1dXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGN1ciA9IHN0YWNrW3N0YWNrLmxlbmd0aC0xXVswXVxuICAgICAgdmFyIHAgPSBwYXJ0c1tpXSwgcyA9IHBbMF1cbiAgICAgIGlmIChzID09PSBPUEVOICYmIC9eXFwvLy50ZXN0KHBbMV0pKSB7XG4gICAgICAgIHZhciBpeCA9IHN0YWNrW3N0YWNrLmxlbmd0aC0xXVsxXVxuICAgICAgICBpZiAoc3RhY2subGVuZ3RoID4gMSkge1xuICAgICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgICAgc3RhY2tbc3RhY2subGVuZ3RoLTFdWzBdWzJdW2l4XSA9IGgoXG4gICAgICAgICAgICBjdXJbMF0sIGN1clsxXSwgY3VyWzJdLmxlbmd0aCA/IGN1clsyXSA6IHVuZGVmaW5lZFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzID09PSBPUEVOKSB7XG4gICAgICAgIHZhciBjID0gW3BbMV0se30sW11dXG4gICAgICAgIGN1clsyXS5wdXNoKGMpXG4gICAgICAgIHN0YWNrLnB1c2goW2MsY3VyWzJdLmxlbmd0aC0xXSlcbiAgICAgIH0gZWxzZSBpZiAocyA9PT0gQVRUUl9LRVkgfHwgKHMgPT09IFZBUiAmJiBwWzFdID09PSBBVFRSX0tFWSkpIHtcbiAgICAgICAgdmFyIGtleSA9ICcnXG4gICAgICAgIHZhciBjb3B5S2V5XG4gICAgICAgIGZvciAoOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAocGFydHNbaV1bMF0gPT09IEFUVFJfS0VZKSB7XG4gICAgICAgICAgICBrZXkgPSBjb25jYXQoa2V5LCBwYXJ0c1tpXVsxXSlcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhcnRzW2ldWzBdID09PSBWQVIgJiYgcGFydHNbaV1bMV0gPT09IEFUVFJfS0VZKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnRzW2ldWzJdID09PSAnb2JqZWN0JyAmJiAha2V5KSB7XG4gICAgICAgICAgICAgIGZvciAoY29weUtleSBpbiBwYXJ0c1tpXVsyXSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0c1tpXVsyXS5oYXNPd25Qcm9wZXJ0eShjb3B5S2V5KSAmJiAhY3VyWzFdW2NvcHlLZXldKSB7XG4gICAgICAgICAgICAgICAgICBjdXJbMV1bY29weUtleV0gPSBwYXJ0c1tpXVsyXVtjb3B5S2V5XVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAga2V5ID0gY29uY2F0KGtleSwgcGFydHNbaV1bMl0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRzW2ldWzBdID09PSBBVFRSX0VRKSBpKytcbiAgICAgICAgdmFyIGogPSBpXG4gICAgICAgIGZvciAoOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAocGFydHNbaV1bMF0gPT09IEFUVFJfVkFMVUUgfHwgcGFydHNbaV1bMF0gPT09IEFUVFJfS0VZKSB7XG4gICAgICAgICAgICBpZiAoIWN1clsxXVtrZXldKSBjdXJbMV1ba2V5XSA9IHN0cmZuKHBhcnRzW2ldWzFdKVxuICAgICAgICAgICAgZWxzZSBjdXJbMV1ba2V5XSA9IGNvbmNhdChjdXJbMV1ba2V5XSwgcGFydHNbaV1bMV0pXG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJ0c1tpXVswXSA9PT0gVkFSXG4gICAgICAgICAgJiYgKHBhcnRzW2ldWzFdID09PSBBVFRSX1ZBTFVFIHx8IHBhcnRzW2ldWzFdID09PSBBVFRSX0tFWSkpIHtcbiAgICAgICAgICAgIGlmICghY3VyWzFdW2tleV0pIGN1clsxXVtrZXldID0gc3RyZm4ocGFydHNbaV1bMl0pXG4gICAgICAgICAgICBlbHNlIGN1clsxXVtrZXldID0gY29uY2F0KGN1clsxXVtrZXldLCBwYXJ0c1tpXVsyXSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGtleS5sZW5ndGggJiYgIWN1clsxXVtrZXldICYmIGkgPT09IGpcbiAgICAgICAgICAgICYmIChwYXJ0c1tpXVswXSA9PT0gQ0xPU0UgfHwgcGFydHNbaV1bMF0gPT09IEFUVFJfQlJFQUspKSB7XG4gICAgICAgICAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZnJhc3RydWN0dXJlLmh0bWwjYm9vbGVhbi1hdHRyaWJ1dGVzXG4gICAgICAgICAgICAgIC8vIGVtcHR5IHN0cmluZyBpcyBmYWxzeSwgbm90IHdlbGwgYmVoYXZlZCB2YWx1ZSBpbiBicm93c2VyXG4gICAgICAgICAgICAgIGN1clsxXVtrZXldID0ga2V5LnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHMgPT09IEFUVFJfS0VZKSB7XG4gICAgICAgIGN1clsxXVtwWzFdXSA9IHRydWVcbiAgICAgIH0gZWxzZSBpZiAocyA9PT0gVkFSICYmIHBbMV0gPT09IEFUVFJfS0VZKSB7XG4gICAgICAgIGN1clsxXVtwWzJdXSA9IHRydWVcbiAgICAgIH0gZWxzZSBpZiAocyA9PT0gQ0xPU0UpIHtcbiAgICAgICAgaWYgKHNlbGZDbG9zaW5nKGN1clswXSkgJiYgc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGl4ID0gc3RhY2tbc3RhY2subGVuZ3RoLTFdWzFdXG4gICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICBzdGFja1tzdGFjay5sZW5ndGgtMV1bMF1bMl1baXhdID0gaChcbiAgICAgICAgICAgIGN1clswXSwgY3VyWzFdLCBjdXJbMl0ubGVuZ3RoID8gY3VyWzJdIDogdW5kZWZpbmVkXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHMgPT09IFZBUiAmJiBwWzFdID09PSBURVhUKSB7XG4gICAgICAgIGlmIChwWzJdID09PSB1bmRlZmluZWQgfHwgcFsyXSA9PT0gbnVsbCkgcFsyXSA9ICcnXG4gICAgICAgIGVsc2UgaWYgKCFwWzJdKSBwWzJdID0gY29uY2F0KCcnLCBwWzJdKVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwWzJdWzBdKSkge1xuICAgICAgICAgIGN1clsyXS5wdXNoLmFwcGx5KGN1clsyXSwgcFsyXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJbMl0ucHVzaChwWzJdKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHMgPT09IFRFWFQpIHtcbiAgICAgICAgY3VyWzJdLnB1c2gocFsxXSlcbiAgICAgIH0gZWxzZSBpZiAocyA9PT0gQVRUUl9FUSB8fCBzID09PSBBVFRSX0JSRUFLKSB7XG4gICAgICAgIC8vIG5vLW9wXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuaGFuZGxlZDogJyArIHMpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRyZWVbMl0ubGVuZ3RoID4gMSAmJiAvXlxccyokLy50ZXN0KHRyZWVbMl1bMF0pKSB7XG4gICAgICB0cmVlWzJdLnNoaWZ0KClcbiAgICB9XG5cbiAgICBpZiAodHJlZVsyXS5sZW5ndGggPiAyXG4gICAgfHwgKHRyZWVbMl0ubGVuZ3RoID09PSAyICYmIC9cXFMvLnRlc3QodHJlZVsyXVsxXSkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdtdWx0aXBsZSByb290IGVsZW1lbnRzIG11c3QgYmUgd3JhcHBlZCBpbiBhbiBlbmNsb3NpbmcgdGFnJ1xuICAgICAgKVxuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmVlWzJdWzBdKSAmJiB0eXBlb2YgdHJlZVsyXVswXVswXSA9PT0gJ3N0cmluZydcbiAgICAmJiBBcnJheS5pc0FycmF5KHRyZWVbMl1bMF1bMl0pKSB7XG4gICAgICB0cmVlWzJdWzBdID0gaCh0cmVlWzJdWzBdWzBdLCB0cmVlWzJdWzBdWzFdLCB0cmVlWzJdWzBdWzJdKVxuICAgIH1cbiAgICByZXR1cm4gdHJlZVsyXVswXVxuXG4gICAgZnVuY3Rpb24gcGFyc2UgKHN0cikge1xuICAgICAgdmFyIHJlcyA9IFtdXG4gICAgICBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfVykgc3RhdGUgPSBBVFRSXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQXQoaSlcbiAgICAgICAgaWYgKHN0YXRlID09PSBURVhUICYmIGMgPT09ICc8Jykge1xuICAgICAgICAgIGlmIChyZWcubGVuZ3RoKSByZXMucHVzaChbVEVYVCwgcmVnXSlcbiAgICAgICAgICByZWcgPSAnJ1xuICAgICAgICAgIHN0YXRlID0gT1BFTlxuICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+JyAmJiAhcXVvdChzdGF0ZSkpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IE9QRU4pIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKFtPUEVOLHJlZ10pXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9LRVkpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX0tFWSxyZWddKVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUUgJiYgcmVnLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVzLnB1c2goW0FUVFJfVkFMVUUscmVnXSlcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzLnB1c2goW0NMT1NFXSlcbiAgICAgICAgICByZWcgPSAnJ1xuICAgICAgICAgIHN0YXRlID0gVEVYVFxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBURVhUKSB7XG4gICAgICAgICAgcmVnICs9IGNcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gT1BFTiAmJiAvXFxzLy50ZXN0KGMpKSB7XG4gICAgICAgICAgcmVzLnB1c2goW09QRU4sIHJlZ10pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gT1BFTikge1xuICAgICAgICAgIHJlZyArPSBjXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFIgJiYgL1tcXHctXS8udGVzdChjKSkge1xuICAgICAgICAgIHN0YXRlID0gQVRUUl9LRVlcbiAgICAgICAgICByZWcgPSBjXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFIgJiYgL1xccy8udGVzdChjKSkge1xuICAgICAgICAgIGlmIChyZWcubGVuZ3RoKSByZXMucHVzaChbQVRUUl9LRVkscmVnXSlcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9CUkVBS10pXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfS0VZICYmIC9cXHMvLnRlc3QoYykpIHtcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9LRVkscmVnXSlcbiAgICAgICAgICByZWcgPSAnJ1xuICAgICAgICAgIHN0YXRlID0gQVRUUl9LRVlfV1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX0tFWSAmJiBjID09PSAnPScpIHtcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9LRVkscmVnXSxbQVRUUl9FUV0pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJfVkFMVUVfV1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX0tFWSkge1xuICAgICAgICAgIHJlZyArPSBjXG4gICAgICAgIH0gZWxzZSBpZiAoKHN0YXRlID09PSBBVFRSX0tFWV9XIHx8IHN0YXRlID09PSBBVFRSKSAmJiBjID09PSAnPScpIHtcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9FUV0pXG4gICAgICAgICAgc3RhdGUgPSBBVFRSX1ZBTFVFX1dcbiAgICAgICAgfSBlbHNlIGlmICgoc3RhdGUgPT09IEFUVFJfS0VZX1cgfHwgc3RhdGUgPT09IEFUVFIpICYmICEvXFxzLy50ZXN0KGMpKSB7XG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfQlJFQUtdKVxuICAgICAgICAgIGlmICgvW1xcdy1dLy50ZXN0KGMpKSB7XG4gICAgICAgICAgICByZWcgKz0gY1xuICAgICAgICAgICAgc3RhdGUgPSBBVFRSX0tFWVxuICAgICAgICAgIH0gZWxzZSBzdGF0ZSA9IEFUVFJcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRV9XICYmIGMgPT09ICdcIicpIHtcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJfVkFMVUVfRFFcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRV9XICYmIGMgPT09IFwiJ1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBBVFRSX1ZBTFVFX1NRXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfRFEgJiYgYyA9PT0gJ1wiJykge1xuICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX1ZBTFVFLHJlZ10sW0FUVFJfQlJFQUtdKVxuICAgICAgICAgIHJlZyA9ICcnXG4gICAgICAgICAgc3RhdGUgPSBBVFRSXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfU1EgJiYgYyA9PT0gXCInXCIpIHtcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9WQUxVRSxyZWddLFtBVFRSX0JSRUFLXSlcbiAgICAgICAgICByZWcgPSAnJ1xuICAgICAgICAgIHN0YXRlID0gQVRUUlxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFX1cgJiYgIS9cXHMvLnRlc3QoYykpIHtcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJfVkFMVUVcbiAgICAgICAgICBpLS1cbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRSAmJiAvXFxzLy50ZXN0KGMpKSB7XG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfVkFMVUUscmVnXSxbQVRUUl9CUkVBS10pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRSB8fCBzdGF0ZSA9PT0gQVRUUl9WQUxVRV9TUVxuICAgICAgICB8fCBzdGF0ZSA9PT0gQVRUUl9WQUxVRV9EUSkge1xuICAgICAgICAgIHJlZyArPSBjXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZSA9PT0gVEVYVCAmJiByZWcubGVuZ3RoKSB7XG4gICAgICAgIHJlcy5wdXNoKFtURVhULHJlZ10pXG4gICAgICAgIHJlZyA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFICYmIHJlZy5sZW5ndGgpIHtcbiAgICAgICAgcmVzLnB1c2goW0FUVFJfVkFMVUUscmVnXSlcbiAgICAgICAgcmVnID0gJydcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfRFEgJiYgcmVnLmxlbmd0aCkge1xuICAgICAgICByZXMucHVzaChbQVRUUl9WQUxVRSxyZWddKVxuICAgICAgICByZWcgPSAnJ1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRV9TUSAmJiByZWcubGVuZ3RoKSB7XG4gICAgICAgIHJlcy5wdXNoKFtBVFRSX1ZBTFVFLHJlZ10pXG4gICAgICAgIHJlZyA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX0tFWSkge1xuICAgICAgICByZXMucHVzaChbQVRUUl9LRVkscmVnXSlcbiAgICAgICAgcmVnID0gJydcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdHJmbiAoeCkge1xuICAgIGlmICh0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHhcbiAgICBlbHNlIGlmICh0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHJldHVybiB4XG4gICAgZWxzZSBpZiAoeCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCcpIHJldHVybiB4XG4gICAgZWxzZSByZXR1cm4gY29uY2F0KCcnLCB4KVxuICB9XG59XG5cbmZ1bmN0aW9uIHF1b3QgKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZSA9PT0gQVRUUl9WQUxVRV9TUSB8fCBzdGF0ZSA9PT0gQVRUUl9WQUxVRV9EUVxufVxuXG52YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuZnVuY3Rpb24gaGFzIChvYmosIGtleSkgeyByZXR1cm4gaGFzT3duLmNhbGwob2JqLCBrZXkpIH1cblxudmFyIGNsb3NlUkUgPSBSZWdFeHAoJ14oJyArIFtcbiAgJ2FyZWEnLCAnYmFzZScsICdiYXNlZm9udCcsICdiZ3NvdW5kJywgJ2JyJywgJ2NvbCcsICdjb21tYW5kJywgJ2VtYmVkJyxcbiAgJ2ZyYW1lJywgJ2hyJywgJ2ltZycsICdpbnB1dCcsICdpc2luZGV4JywgJ2tleWdlbicsICdsaW5rJywgJ21ldGEnLCAncGFyYW0nLFxuICAnc291cmNlJywgJ3RyYWNrJywgJ3dicicsXG4gIC8vIFNWRyBUQUdTXG4gICdhbmltYXRlJywgJ2FuaW1hdGVUcmFuc2Zvcm0nLCAnY2lyY2xlJywgJ2N1cnNvcicsICdkZXNjJywgJ2VsbGlwc2UnLFxuICAnZmVCbGVuZCcsICdmZUNvbG9yTWF0cml4JywgJ2ZlQ29tcG9uZW50VHJhbnNmZXInLCAnZmVDb21wb3NpdGUnLFxuICAnZmVDb252b2x2ZU1hdHJpeCcsICdmZURpZmZ1c2VMaWdodGluZycsICdmZURpc3BsYWNlbWVudE1hcCcsXG4gICdmZURpc3RhbnRMaWdodCcsICdmZUZsb29kJywgJ2ZlRnVuY0EnLCAnZmVGdW5jQicsICdmZUZ1bmNHJywgJ2ZlRnVuY1InLFxuICAnZmVHYXVzc2lhbkJsdXInLCAnZmVJbWFnZScsICdmZU1lcmdlTm9kZScsICdmZU1vcnBob2xvZ3knLFxuICAnZmVPZmZzZXQnLCAnZmVQb2ludExpZ2h0JywgJ2ZlU3BlY3VsYXJMaWdodGluZycsICdmZVNwb3RMaWdodCcsICdmZVRpbGUnLFxuICAnZmVUdXJidWxlbmNlJywgJ2ZvbnQtZmFjZS1mb3JtYXQnLCAnZm9udC1mYWNlLW5hbWUnLCAnZm9udC1mYWNlLXVyaScsXG4gICdnbHlwaCcsICdnbHlwaFJlZicsICdoa2VybicsICdpbWFnZScsICdsaW5lJywgJ21pc3NpbmctZ2x5cGgnLCAnbXBhdGgnLFxuICAncGF0aCcsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ3JlY3QnLCAnc2V0JywgJ3N0b3AnLCAndHJlZicsICd1c2UnLCAndmlldycsXG4gICd2a2Vybidcbl0uam9pbignfCcpICsgJykoPzpbXFwuI11bYS16QS1aMC05XFx1MDA3Ri1cXHVGRkZGXzotXSspKiQnKVxuZnVuY3Rpb24gc2VsZkNsb3NpbmcgKHRhZykgeyByZXR1cm4gY2xvc2VSRS50ZXN0KHRhZykgfVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCd5by15bycpXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgc3RhcnQ6IHJlcXVpcmUoJy4vc3RhcnQnKSxcbiAgcHVsbDogcmVxdWlyZSgnLi9wdWxsJyksXG4gIGh0bWw6IHJlcXVpcmUoJy4vaHRtbCcpXG4gIC8vIGNzczogcmVxdWlyZSgnc2hlZXRpZnknKSwgP1xuICAvLyByb3V0ZXI6IHJlcXVpcmUoJ3NoZWV0LXJvdXRlcicpLCA/XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ3B1bGwtc3RyZWFtJylcbiIsInZhciBkZWZpbmVkID0gcmVxdWlyZSgnZGVmaW5lZCcpXG52YXIgcHVsbCA9IHJlcXVpcmUoJ3B1bGwtc3RyZWFtJylcbnZhciBub3RpZnkgPSByZXF1aXJlKCdwdWxsLW5vdGlmeScpXG52YXIgY2F0ID0gcmVxdWlyZSgncHVsbC1jYXQnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YXJ0XG5cbi8qXG4gIOKUjOKUgOKUgOKUgOKUgOKUgOKUgCBlZmZlY3RBY3Rpb25zU291cmNlcyDil4DilIDilIDilIDilIDilIDilIDilIDilJBcbiAg4pa8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5hY3Rpb25zIOKUgOKWtiBzdGF0ZXMg4pSA4pa2IGVmZmVjdHMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIOKWsiAgICAgICAgICB8XG4gIHwgICAgICAgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pa2IG1vZGVscyDilIDilrYgdmlld3Mg4pSA4pSQXG4gIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAICBkaXNwYXRjaCDil4DilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiovXG5cbmZ1bmN0aW9uIHN0YXJ0IChhcHApIHtcbiAgYXBwID0gZGVmaW5lZChhcHAsIHt9KVxuXG4gIHZhciBpbml0ID0gZGVmaW5lZChhcHAuaW5pdCwgZGVmYXVsdEluaXQpXG4gIHZhciB1cGRhdGUgPSBkZWZpbmVkKGFwcC51cGRhdGUsIGRlZmF1bHRVcGRhdGUpXG4gIHZhciB2aWV3ID0gZGVmaW5lZChhcHAudmlldywgbm9vcClcbiAgdmFyIHJ1biA9IGRlZmluZWQoYXBwLnJ1biwgbm9vcClcblxuICB2YXIgYWN0aW9ucyA9IG5vdGlmeSgpXG5cbiAgZnVuY3Rpb24gZGlzcGF0Y2ggKG5leHRBY3Rpb24pIHtcbiAgICBhY3Rpb25zKG5leHRBY3Rpb24pXG4gIH1cblxuICB2YXIgaW5pdGlhbFN0YXRlID0gaW5pdC5jYWxsKGFwcClcbiAgdmFyIHN0YXRlcyA9IG5vdGlmeSgpXG4gIHB1bGwoXG4gICAgYWN0aW9ucy5saXN0ZW4oKSxcbiAgICBzY2FuKGluaXRpYWxTdGF0ZSwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHJldHVybiB1cGRhdGUuY2FsbChhcHAsIHN0YXRlLm1vZGVsLCBhY3Rpb24pXG4gICAgfSksXG4gICAgcHVsbC5kcmFpbihzdGF0ZXMpXG4gIClcblxuICB2YXIgbW9kZWxzID0gbm90aWZ5KClcbiAgcHVsbChcbiAgICBzdGF0ZXMubGlzdGVuKCksXG4gICAgcHVsbC5tYXAoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGUubW9kZWxcbiAgICB9KSxcbiAgICBkaWZmZXJlbmNlKCksXG4gICAgcHVsbC5kcmFpbihtb2RlbHMpXG4gIClcblxuICB2YXIgdmlld3MgPSBub3RpZnkoKVxuICBwdWxsKFxuICAgIG1vZGVscy5saXN0ZW4oKSxcbiAgICBwdWxsLm1hcChmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgIHJldHVybiB2aWV3LmNhbGwoYXBwLCBtb2RlbCwgZGlzcGF0Y2gpXG4gICAgfSksXG4gICAgcHVsbC5maWx0ZXIoaXNOb3ROaWwpLFxuICAgIHB1bGwuZHJhaW4odmlld3MpXG4gIClcblxuICB2YXIgZWZmZWN0cyA9IG5vdGlmeSgpXG4gIHB1bGwoXG4gICAgc3RhdGVzLmxpc3RlbigpLFxuICAgIHB1bGwubWFwKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgcmV0dXJuIHN0YXRlLmVmZmVjdFxuICAgIH0pLFxuICAgIHB1bGwuZmlsdGVyKGlzTm90TmlsKSxcbiAgICBwdWxsLmRyYWluKGVmZmVjdHMpXG4gIClcblxuICB2YXIgZWZmZWN0QWN0aW9uc1NvdXJjZXMgPSBub3RpZnkoKVxuXG4gIHZhciBub3RpZnlzID0ge1xuICAgIGFjdGlvbnM6IGFjdGlvbnMsXG4gICAgc3RhdGVzOiBzdGF0ZXMsXG4gICAgbW9kZWxzOiBtb2RlbHMsXG4gICAgdmlld3M6IHZpZXdzLFxuICAgIGVmZmVjdHM6IGVmZmVjdHMsXG4gICAgZWZmZWN0QWN0aW9uc1NvdXJjZXM6IGVmZmVjdEFjdGlvbnNTb3VyY2VzXG4gIH1cblxuICB2YXIgc291cmNlcyA9IHt9XG4gIE9iamVjdC5rZXlzKG5vdGlmeXMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgbGlzdGVuID0gbm90aWZ5c1tuYW1lXS5saXN0ZW5cbiAgICBzb3VyY2VzW25hbWVdID0gKFxuICAgICAgWydzdGF0ZXMnLCAnbW9kZWxzJywgJ2VmZmVjdHMnLCAndmlld3MnXS5pbmRleE9mKG5hbWUpICE9PSAtMVxuICAgICkgPyByZXBsYXlMYXN0VmFsdWUobGlzdGVuKSA6IGxpc3RlblxuICB9KVxuXG4gIHB1bGwoXG4gICAgZWZmZWN0cy5saXN0ZW4oKSxcbiAgICBwdWxsLm1hcChmdW5jdGlvbiAoZWZmZWN0KSB7XG4gICAgICByZXR1cm4gcnVuLmNhbGwoYXBwLCBlZmZlY3QsIHNvdXJjZXMpXG4gICAgfSksXG4gICAgcHVsbC5maWx0ZXIoaXNOb3ROaWwpLFxuICAgIHB1bGwuZHJhaW4oZWZmZWN0QWN0aW9uc1NvdXJjZXMpXG4gIClcblxuICBwdWxsKFxuICAgIGVmZmVjdEFjdGlvbnNTb3VyY2VzLmxpc3RlbigpLFxuICAgIGRyYWluTWFueShhY3Rpb25zKVxuICApXG5cbiAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgc3RhdGVzKGluaXRpYWxTdGF0ZSlcbiAgfSlcblxuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc291cmNlcywgeyBzdG9wOiBzdG9wIH0pXG5cbiAgZnVuY3Rpb24gc3RvcCAoKSB7XG4gICAgT2JqZWN0LmtleXMobm90aWZ5cykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgbm90aWZ5c1tuYW1lXS5lbmQoKVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gbm9vcCAoKSB7fVxuZnVuY3Rpb24gaXNOb3ROaWwgKHgpIHsgcmV0dXJuIHggIT0gbnVsbCB9XG5mdW5jdGlvbiBkZWZhdWx0SW5pdCAoKSB7IHJldHVybiB7IG1vZGVsOiBudWxsIH0gfVxuZnVuY3Rpb24gZGVmYXVsdFVwZGF0ZSAobW9kZWwpIHsgcmV0dXJuIHsgbW9kZWw6IG1vZGVsIH0gfVxuXG4vLyBUT0RPIGV4dHJhY3Qgb3V0IGludG8gYHB1bGwtc2NhbmBcbmZ1bmN0aW9uIHNjYW4gKHZhbHVlLCBhY2N1bXVsYXRvcikge1xuICByZXR1cm4gcHVsbC5tYXAoZnVuY3Rpb24gdXBkYXRlIChuZXh0VmFsdWUpIHtcbiAgICB2YWx1ZSA9IGFjY3VtdWxhdG9yKHZhbHVlLCBuZXh0VmFsdWUpXG4gICAgcmV0dXJuIHZhbHVlXG4gIH0pXG59XG5cbi8vIFRPRE8gZXh0cmFjdCBvdXQgaW50byBgcHVsbC1kaWZmZXJlbmNlYFxuZnVuY3Rpb24gZGlmZmVyZW5jZSAoKSB7XG4gIHZhciBsYXN0VmFsdWVcbiAgcmV0dXJuIHB1bGwuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBjb25kaXRpb24gPSB2YWx1ZSAhPT0gbGFzdFZhbHVlXG4gICAgbGFzdFZhbHVlID0gdmFsdWVcbiAgICByZXR1cm4gY29uZGl0aW9uXG4gIH0pXG59XG5cbi8vIFRPRE8gZXh0cmFjdCBvdXQgaW50byBgcHVsbC1kcmFpbi1tYW55YCA/XG5mdW5jdGlvbiBkcmFpbk1hbnkgKGNiKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgcHVsbChcbiAgICAgIHNvdXJjZSxcbiAgICAgIHB1bGwuZHJhaW4oZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICBwdWxsKFxuICAgICAgICAgIHN0cmVhbSxcbiAgICAgICAgICBwdWxsLmRyYWluKGNiKVxuICAgICAgICApXG4gICAgICB9KVxuICAgIClcbiAgfVxufVxuXG5mdW5jdGlvbiByZXBsYXlMYXN0VmFsdWUgKGxpc3Rlbikge1xuICB2YXIgbGFzdFZhbHVlXG4gIHB1bGwoXG4gICAgbGlzdGVuKCksXG4gICAgcHVsbC5kcmFpbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlXG4gICAgfSlcbiAgKVxuXG4gIHJldHVybiBmdW5jdGlvbiBsaXN0ZW5XaXRoTGFzdFZhbHVlICgpIHtcbiAgICByZXR1cm4gY2F0KFtcbiAgICAgIGxhc3RWYWx1ZSA9PSBudWxsID8gdW5kZWZpbmVkIDogcHVsbC52YWx1ZXMoW2xhc3RWYWx1ZV0pLFxuICAgICAgbGlzdGVuKClcbiAgICBdKVxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGlzRnVuY3Rpb25cblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uIChmbikge1xuICB2YXIgc3RyaW5nID0gdG9TdHJpbmcuY2FsbChmbilcbiAgcmV0dXJuIHN0cmluZyA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJyB8fFxuICAgICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgc3RyaW5nICE9PSAnW29iamVjdCBSZWdFeHBdJykgfHxcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgLy8gSUU4IGFuZCBiZWxvd1xuICAgICAoZm4gPT09IHdpbmRvdy5zZXRUaW1lb3V0IHx8XG4gICAgICBmbiA9PT0gd2luZG93LmFsZXJ0IHx8XG4gICAgICBmbiA9PT0gd2luZG93LmNvbmZpcm0gfHxcbiAgICAgIGZuID09PSB3aW5kb3cucHJvbXB0KSlcbn07XG4iLCIvLyBDcmVhdGUgYSByYW5nZSBvYmplY3QgZm9yIGVmZmljZW50bHkgcmVuZGVyaW5nIHN0cmluZ3MgdG8gZWxlbWVudHMuXG52YXIgcmFuZ2U7XG5cbnZhciB0ZXN0RWwgPSAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykgP1xuICAgIGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgOlxuICAgIHt9O1xuXG52YXIgWEhUTUwgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG52YXIgRUxFTUVOVF9OT0RFID0gMTtcbnZhciBURVhUX05PREUgPSAzO1xudmFyIENPTU1FTlRfTk9ERSA9IDg7XG5cbi8vIEZpeGVzIDxodHRwczovL2dpdGh1Yi5jb20vcGF0cmljay1zdGVlbGUtaWRlbS9tb3JwaGRvbS9pc3N1ZXMvMzI+XG4vLyAoSUU3KyBzdXBwb3J0KSA8PUlFNyBkb2VzIG5vdCBzdXBwb3J0IGVsLmhhc0F0dHJpYnV0ZShuYW1lKVxudmFyIGhhc0F0dHJpYnV0ZU5TO1xuXG5pZiAodGVzdEVsLmhhc0F0dHJpYnV0ZU5TKSB7XG4gICAgaGFzQXR0cmlidXRlTlMgPSBmdW5jdGlvbihlbCwgbmFtZXNwYWNlVVJJLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBlbC5oYXNBdHRyaWJ1dGVOUyhuYW1lc3BhY2VVUkksIG5hbWUpO1xuICAgIH07XG59IGVsc2UgaWYgKHRlc3RFbC5oYXNBdHRyaWJ1dGUpIHtcbiAgICBoYXNBdHRyaWJ1dGVOUyA9IGZ1bmN0aW9uKGVsLCBuYW1lc3BhY2VVUkksIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGVsLmhhc0F0dHJpYnV0ZShuYW1lKTtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBoYXNBdHRyaWJ1dGVOUyA9IGZ1bmN0aW9uKGVsLCBuYW1lc3BhY2VVUkksIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICEhZWwuZ2V0QXR0cmlidXRlTm9kZShuYW1lKTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBlbXB0eShvKSB7XG4gICAgZm9yICh2YXIgayBpbiBvKSB7XG4gICAgICAgIGlmIChvLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHRvRWxlbWVudChzdHIpIHtcbiAgICBpZiAoIXJhbmdlICYmIGRvY3VtZW50LmNyZWF0ZVJhbmdlKSB7XG4gICAgICAgIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShkb2N1bWVudC5ib2R5KTtcbiAgICB9XG5cbiAgICB2YXIgZnJhZ21lbnQ7XG4gICAgaWYgKHJhbmdlICYmIHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCkge1xuICAgICAgICBmcmFnbWVudCA9IHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChzdHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpO1xuICAgICAgICBmcmFnbWVudC5pbm5lckhUTUwgPSBzdHI7XG4gICAgfVxuICAgIHJldHVybiBmcmFnbWVudC5jaGlsZE5vZGVzWzBdO1xufVxuXG52YXIgc3BlY2lhbEVsSGFuZGxlcnMgPSB7XG4gICAgLyoqXG4gICAgICogTmVlZGVkIGZvciBJRS4gQXBwYXJlbnRseSBJRSBkb2Vzbid0IHRoaW5rIHRoYXQgXCJzZWxlY3RlZFwiIGlzIGFuXG4gICAgICogYXR0cmlidXRlIHdoZW4gcmVhZGluZyBvdmVyIHRoZSBhdHRyaWJ1dGVzIHVzaW5nIHNlbGVjdEVsLmF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBPUFRJT046IGZ1bmN0aW9uKGZyb21FbCwgdG9FbCkge1xuICAgICAgICBmcm9tRWwuc2VsZWN0ZWQgPSB0b0VsLnNlbGVjdGVkO1xuICAgICAgICBpZiAoZnJvbUVsLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICBmcm9tRWwuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21FbC5yZW1vdmVBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJycpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUaGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSBpcyBzcGVjaWFsIGZvciB0aGUgPGlucHV0PiBlbGVtZW50IHNpbmNlIGl0IHNldHNcbiAgICAgKiB0aGUgaW5pdGlhbCB2YWx1ZS4gQ2hhbmdpbmcgdGhlIFwidmFsdWVcIiBhdHRyaWJ1dGUgd2l0aG91dCBjaGFuZ2luZyB0aGVcbiAgICAgKiBcInZhbHVlXCIgcHJvcGVydHkgd2lsbCBoYXZlIG5vIGVmZmVjdCBzaW5jZSBpdCBpcyBvbmx5IHVzZWQgdG8gdGhlIHNldCB0aGVcbiAgICAgKiBpbml0aWFsIHZhbHVlLiAgU2ltaWxhciBmb3IgdGhlIFwiY2hlY2tlZFwiIGF0dHJpYnV0ZSwgYW5kIFwiZGlzYWJsZWRcIi5cbiAgICAgKi9cbiAgICBJTlBVVDogZnVuY3Rpb24oZnJvbUVsLCB0b0VsKSB7XG4gICAgICAgIGZyb21FbC5jaGVja2VkID0gdG9FbC5jaGVja2VkO1xuICAgICAgICBpZiAoZnJvbUVsLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIGZyb21FbC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcm9tRWwucmVtb3ZlQXR0cmlidXRlKCdjaGVja2VkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJvbUVsLnZhbHVlICE9PSB0b0VsLnZhbHVlKSB7XG4gICAgICAgICAgICBmcm9tRWwudmFsdWUgPSB0b0VsLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXNBdHRyaWJ1dGVOUyh0b0VsLCBudWxsLCAndmFsdWUnKSkge1xuICAgICAgICAgICAgZnJvbUVsLnJlbW92ZUF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZyb21FbC5kaXNhYmxlZCA9IHRvRWwuZGlzYWJsZWQ7XG4gICAgICAgIGlmIChmcm9tRWwuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGZyb21FbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJvbUVsLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBURVhUQVJFQTogZnVuY3Rpb24oZnJvbUVsLCB0b0VsKSB7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IHRvRWwudmFsdWU7XG4gICAgICAgIGlmIChmcm9tRWwudmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBmcm9tRWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcm9tRWwuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgZnJvbUVsLmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdHdvIG5vZGUncyBuYW1lcyBhbmQgbmFtZXNwYWNlIFVSSXMgYXJlIHRoZSBzYW1lLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG52YXIgY29tcGFyZU5vZGVOYW1lcyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYS5ub2RlTmFtZSA9PT0gYi5ub2RlTmFtZSAmJlxuICAgICAgICAgICBhLm5hbWVzcGFjZVVSSSA9PT0gYi5uYW1lc3BhY2VVUkk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhbiBlbGVtZW50LCBvcHRpb25hbGx5IHdpdGggYSBrbm93biBuYW1lc3BhY2UgVVJJLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRoZSBlbGVtZW50IG5hbWUsIGUuZy4gJ2Rpdicgb3IgJ3N2ZydcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZXNwYWNlVVJJXSB0aGUgZWxlbWVudCdzIG5hbWVzcGFjZSBVUkksIGkuZS4gdGhlIHZhbHVlIG9mXG4gKiBpdHMgYHhtbG5zYCBhdHRyaWJ1dGUgb3IgaXRzIGluZmVycmVkIG5hbWVzcGFjZS5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50TlMobmFtZSwgbmFtZXNwYWNlVVJJKSB7XG4gICAgcmV0dXJuICFuYW1lc3BhY2VVUkkgfHwgbmFtZXNwYWNlVVJJID09PSBYSFRNTCA/XG4gICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSkgOlxuICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlVVJJLCBuYW1lKTtcbn1cblxuLyoqXG4gKiBMb29wIG92ZXIgYWxsIG9mIHRoZSBhdHRyaWJ1dGVzIG9uIHRoZSB0YXJnZXQgbm9kZSBhbmQgbWFrZSBzdXJlIHRoZSBvcmlnaW5hbFxuICogRE9NIG5vZGUgaGFzIHRoZSBzYW1lIGF0dHJpYnV0ZXMuIElmIGFuIGF0dHJpYnV0ZSBmb3VuZCBvbiB0aGUgb3JpZ2luYWwgbm9kZVxuICogaXMgbm90IG9uIHRoZSBuZXcgbm9kZSB0aGVuIHJlbW92ZSBpdCBmcm9tIHRoZSBvcmlnaW5hbCBub2RlLlxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IGZyb21Ob2RlXG4gKiBAcGFyYW0gIHtFbGVtZW50fSB0b05vZGVcbiAqL1xuZnVuY3Rpb24gbW9ycGhBdHRycyhmcm9tTm9kZSwgdG9Ob2RlKSB7XG4gICAgdmFyIGF0dHJzID0gdG9Ob2RlLmF0dHJpYnV0ZXM7XG4gICAgdmFyIGk7XG4gICAgdmFyIGF0dHI7XG4gICAgdmFyIGF0dHJOYW1lO1xuICAgIHZhciBhdHRyTmFtZXNwYWNlVVJJO1xuICAgIHZhciBhdHRyVmFsdWU7XG4gICAgdmFyIGZyb21WYWx1ZTtcblxuICAgIGZvciAoaSA9IGF0dHJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGF0dHIgPSBhdHRyc1tpXTtcbiAgICAgICAgYXR0ck5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgIGF0dHJWYWx1ZSA9IGF0dHIudmFsdWU7XG4gICAgICAgIGF0dHJOYW1lc3BhY2VVUkkgPSBhdHRyLm5hbWVzcGFjZVVSSTtcblxuICAgICAgICBpZiAoYXR0ck5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyLmxvY2FsTmFtZSB8fCBhdHRyTmFtZTtcbiAgICAgICAgICAgIGZyb21WYWx1ZSA9IGZyb21Ob2RlLmdldEF0dHJpYnV0ZU5TKGF0dHJOYW1lc3BhY2VVUkksIGF0dHJOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21WYWx1ZSA9IGZyb21Ob2RlLmdldEF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJvbVZhbHVlICE9PSBhdHRyVmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChhdHRyTmFtZXNwYWNlVVJJKSB7XG4gICAgICAgICAgICAgICAgZnJvbU5vZGUuc2V0QXR0cmlidXRlTlMoYXR0ck5hbWVzcGFjZVVSSSwgYXR0ck5hbWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZyb21Ob2RlLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbnkgZXh0cmEgYXR0cmlidXRlcyBmb3VuZCBvbiB0aGUgb3JpZ2luYWwgRE9NIGVsZW1lbnQgdGhhdFxuICAgIC8vIHdlcmVuJ3QgZm91bmQgb24gdGhlIHRhcmdldCBlbGVtZW50LlxuICAgIGF0dHJzID0gZnJvbU5vZGUuYXR0cmlidXRlcztcblxuICAgIGZvciAoaSA9IGF0dHJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGF0dHIgPSBhdHRyc1tpXTtcbiAgICAgICAgaWYgKGF0dHIuc3BlY2lmaWVkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgICAgICBhdHRyTmFtZXNwYWNlVVJJID0gYXR0ci5uYW1lc3BhY2VVUkk7XG5cbiAgICAgICAgICAgIGlmICghaGFzQXR0cmlidXRlTlModG9Ob2RlLCBhdHRyTmFtZXNwYWNlVVJJLCBhdHRyTmFtZXNwYWNlVVJJID8gYXR0ck5hbWUgPSBhdHRyLmxvY2FsTmFtZSB8fCBhdHRyTmFtZSA6IGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgICAgIGZyb21Ob2RlLnJlbW92ZUF0dHJpYnV0ZU5vZGUoYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQ29waWVzIHRoZSBjaGlsZHJlbiBvZiBvbmUgRE9NIGVsZW1lbnQgdG8gYW5vdGhlciBET00gZWxlbWVudFxuICovXG5mdW5jdGlvbiBtb3ZlQ2hpbGRyZW4oZnJvbUVsLCB0b0VsKSB7XG4gICAgdmFyIGN1ckNoaWxkID0gZnJvbUVsLmZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKGN1ckNoaWxkKSB7XG4gICAgICAgIHZhciBuZXh0Q2hpbGQgPSBjdXJDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgdG9FbC5hcHBlbmRDaGlsZChjdXJDaGlsZCk7XG4gICAgICAgIGN1ckNoaWxkID0gbmV4dENoaWxkO1xuICAgIH1cbiAgICByZXR1cm4gdG9FbDtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEdldE5vZGVLZXkobm9kZSkge1xuICAgIHJldHVybiBub2RlLmlkO1xufVxuXG5mdW5jdGlvbiBtb3JwaGRvbShmcm9tTm9kZSwgdG9Ob2RlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRvTm9kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGZyb21Ob2RlLm5vZGVOYW1lID09PSAnI2RvY3VtZW50JyB8fCBmcm9tTm9kZS5ub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgICAgICAgICB2YXIgdG9Ob2RlSHRtbCA9IHRvTm9kZTtcbiAgICAgICAgICAgIHRvTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwnKTtcbiAgICAgICAgICAgIHRvTm9kZS5pbm5lckhUTUwgPSB0b05vZGVIdG1sO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9Ob2RlID0gdG9FbGVtZW50KHRvTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBYWFggb3B0aW1pemF0aW9uOiBpZiB0aGUgbm9kZXMgYXJlIGVxdWFsLCBkb24ndCBtb3JwaCB0aGVtXG4gICAgLypcbiAgICBpZiAoZnJvbU5vZGUuaXNFcXVhbE5vZGUodG9Ob2RlKSkge1xuICAgICAgcmV0dXJuIGZyb21Ob2RlO1xuICAgIH1cbiAgICAqL1xuXG4gICAgdmFyIHNhdmVkRWxzID0ge307IC8vIFVzZWQgdG8gc2F2ZSBvZmYgRE9NIGVsZW1lbnRzIHdpdGggSURzXG4gICAgdmFyIHVubWF0Y2hlZEVscyA9IHt9O1xuICAgIHZhciBnZXROb2RlS2V5ID0gb3B0aW9ucy5nZXROb2RlS2V5IHx8IGRlZmF1bHRHZXROb2RlS2V5O1xuICAgIHZhciBvbkJlZm9yZU5vZGVBZGRlZCA9IG9wdGlvbnMub25CZWZvcmVOb2RlQWRkZWQgfHwgbm9vcDtcbiAgICB2YXIgb25Ob2RlQWRkZWQgPSBvcHRpb25zLm9uTm9kZUFkZGVkIHx8IG5vb3A7XG4gICAgdmFyIG9uQmVmb3JlRWxVcGRhdGVkID0gb3B0aW9ucy5vbkJlZm9yZUVsVXBkYXRlZCB8fCBvcHRpb25zLm9uQmVmb3JlTW9ycGhFbCB8fCBub29wO1xuICAgIHZhciBvbkVsVXBkYXRlZCA9IG9wdGlvbnMub25FbFVwZGF0ZWQgfHwgbm9vcDtcbiAgICB2YXIgb25CZWZvcmVOb2RlRGlzY2FyZGVkID0gb3B0aW9ucy5vbkJlZm9yZU5vZGVEaXNjYXJkZWQgfHwgbm9vcDtcbiAgICB2YXIgb25Ob2RlRGlzY2FyZGVkID0gb3B0aW9ucy5vbk5vZGVEaXNjYXJkZWQgfHwgbm9vcDtcbiAgICB2YXIgb25CZWZvcmVFbENoaWxkcmVuVXBkYXRlZCA9IG9wdGlvbnMub25CZWZvcmVFbENoaWxkcmVuVXBkYXRlZCB8fCBvcHRpb25zLm9uQmVmb3JlTW9ycGhFbENoaWxkcmVuIHx8IG5vb3A7XG4gICAgdmFyIGNoaWxkcmVuT25seSA9IG9wdGlvbnMuY2hpbGRyZW5Pbmx5ID09PSB0cnVlO1xuICAgIHZhciBtb3ZlZEVscyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gcmVtb3ZlTm9kZUhlbHBlcihub2RlLCBuZXN0ZWRJblNhdmVkRWwpIHtcbiAgICAgICAgdmFyIGlkID0gZ2V0Tm9kZUtleShub2RlKTtcbiAgICAgICAgLy8gSWYgdGhlIG5vZGUgaGFzIGFuIElEIHRoZW4gc2F2ZSBpdCBvZmYgc2luY2Ugd2Ugd2lsbCB3YW50XG4gICAgICAgIC8vIHRvIHJldXNlIGl0IGluIGNhc2UgdGhlIHRhcmdldCBET00gdHJlZSBoYXMgYSBET00gZWxlbWVudFxuICAgICAgICAvLyB3aXRoIHRoZSBzYW1lIElEXG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgc2F2ZWRFbHNbaWRdID0gbm9kZTtcbiAgICAgICAgfSBlbHNlIGlmICghbmVzdGVkSW5TYXZlZEVsKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgbm90IG5lc3RlZCBpbiBhIHNhdmVkIGVsZW1lbnQgdGhlbiB3ZSBrbm93IHRoYXQgdGhpcyBub2RlIGhhcyBiZWVuXG4gICAgICAgICAgICAvLyBjb21wbGV0ZWx5IGRpc2NhcmRlZCBhbmQgd2lsbCBub3QgZXhpc3QgaW4gdGhlIGZpbmFsIERPTS5cbiAgICAgICAgICAgIG9uTm9kZURpc2NhcmRlZChub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgIHZhciBjdXJDaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHdoaWxlIChjdXJDaGlsZCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZU5vZGVIZWxwZXIoY3VyQ2hpbGQsIG5lc3RlZEluU2F2ZWRFbCB8fCBpZCk7XG4gICAgICAgICAgICAgICAgY3VyQ2hpbGQgPSBjdXJDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdhbGtEaXNjYXJkZWRDaGlsZE5vZGVzKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgdmFyIGN1ckNoaWxkID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICAgICAgd2hpbGUgKGN1ckNoaWxkKSB7XG5cblxuICAgICAgICAgICAgICAgIGlmICghZ2V0Tm9kZUtleShjdXJDaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Ugb25seSB3YW50IHRvIGhhbmRsZSBub2RlcyB0aGF0IGRvbid0IGhhdmUgYW4gSUQgdG8gYXZvaWQgZG91YmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIHdhbGtpbmcgdGhlIHNhbWUgc2F2ZWQgZWxlbWVudC5cblxuICAgICAgICAgICAgICAgICAgICBvbk5vZGVEaXNjYXJkZWQoY3VyQ2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdhbGsgcmVjdXJzaXZlbHlcbiAgICAgICAgICAgICAgICAgICAgd2Fsa0Rpc2NhcmRlZENoaWxkTm9kZXMoY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1ckNoaWxkID0gY3VyQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUsIHBhcmVudE5vZGUsIGFscmVhZHlWaXNpdGVkKSB7XG4gICAgICAgIGlmIChvbkJlZm9yZU5vZGVEaXNjYXJkZWQobm9kZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgICBpZiAoYWxyZWFkeVZpc2l0ZWQpIHtcbiAgICAgICAgICAgIGlmICghZ2V0Tm9kZUtleShub2RlKSkge1xuICAgICAgICAgICAgICAgIG9uTm9kZURpc2NhcmRlZChub2RlKTtcbiAgICAgICAgICAgICAgICB3YWxrRGlzY2FyZGVkQ2hpbGROb2Rlcyhub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGVIZWxwZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb3JwaEVsKGZyb21FbCwgdG9FbCwgYWxyZWFkeVZpc2l0ZWQsIGNoaWxkcmVuT25seSkge1xuICAgICAgICB2YXIgdG9FbEtleSA9IGdldE5vZGVLZXkodG9FbCk7XG4gICAgICAgIGlmICh0b0VsS2V5KSB7XG4gICAgICAgICAgICAvLyBJZiBhbiBlbGVtZW50IHdpdGggYW4gSUQgaXMgYmVpbmcgbW9ycGhlZCB0aGVuIGl0IGlzIHdpbGwgYmUgaW4gdGhlIGZpbmFsXG4gICAgICAgICAgICAvLyBET00gc28gY2xlYXIgaXQgb3V0IG9mIHRoZSBzYXZlZCBlbGVtZW50cyBjb2xsZWN0aW9uXG4gICAgICAgICAgICBkZWxldGUgc2F2ZWRFbHNbdG9FbEtleV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNoaWxkcmVuT25seSkge1xuICAgICAgICAgICAgaWYgKG9uQmVmb3JlRWxVcGRhdGVkKGZyb21FbCwgdG9FbCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb3JwaEF0dHJzKGZyb21FbCwgdG9FbCk7XG4gICAgICAgICAgICBvbkVsVXBkYXRlZChmcm9tRWwpO1xuXG4gICAgICAgICAgICBpZiAob25CZWZvcmVFbENoaWxkcmVuVXBkYXRlZChmcm9tRWwsIHRvRWwpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcm9tRWwubm9kZU5hbWUgIT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICAgIHZhciBjdXJUb05vZGVDaGlsZCA9IHRvRWwuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHZhciBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbUVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB2YXIgY3VyVG9Ob2RlSWQ7XG5cbiAgICAgICAgICAgIHZhciBmcm9tTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB2YXIgdG9OZXh0U2libGluZztcbiAgICAgICAgICAgIHZhciBzYXZlZEVsO1xuICAgICAgICAgICAgdmFyIHVubWF0Y2hlZEVsO1xuXG4gICAgICAgICAgICBvdXRlcjogd2hpbGUgKGN1clRvTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICAgICAgdG9OZXh0U2libGluZyA9IGN1clRvTm9kZUNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIGN1clRvTm9kZUlkID0gZ2V0Tm9kZUtleShjdXJUb05vZGVDaGlsZCk7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VyRnJvbU5vZGVDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRnJvbU5vZGVJZCA9IGdldE5vZGVLZXkoY3VyRnJvbU5vZGVDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGZyb21OZXh0U2libGluZyA9IGN1ckZyb21Ob2RlQ2hpbGQubmV4dFNpYmxpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbHJlYWR5VmlzaXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckZyb21Ob2RlSWQgJiYgKHVubWF0Y2hlZEVsID0gdW5tYXRjaGVkRWxzW2N1ckZyb21Ob2RlSWRdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVubWF0Y2hlZEVsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGN1ckZyb21Ob2RlQ2hpbGQsIHVubWF0Y2hlZEVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaEVsKGN1ckZyb21Ob2RlQ2hpbGQsIHVubWF0Y2hlZEVsLCBhbHJlYWR5VmlzaXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJGcm9tTm9kZVR5cGUgPSBjdXJGcm9tTm9kZUNoaWxkLm5vZGVUeXBlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJGcm9tTm9kZVR5cGUgPT09IGN1clRvTm9kZUNoaWxkLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNDb21wYXRpYmxlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJvdGggbm9kZXMgYmVpbmcgY29tcGFyZWQgYXJlIEVsZW1lbnQgbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJGcm9tTm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wYXJlTm9kZU5hbWVzKGN1ckZyb21Ob2RlQ2hpbGQsIGN1clRvTm9kZUNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGNvbXBhdGlibGUgRE9NIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJGcm9tTm9kZUlkIHx8IGN1clRvTm9kZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBlaXRoZXIgRE9NIGVsZW1lbnQgaGFzIGFuIElEIHRoZW4gd2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSB0aG9zZSBkaWZmZXJlbnRseSBzaW5jZSB3ZSB3YW50IHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtYXRjaCB1cCBieSBJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clRvTm9kZUlkID09PSBjdXJGcm9tTm9kZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wYXRpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0aWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGZvdW5kIGNvbXBhdGlibGUgRE9NIGVsZW1lbnRzIHNvIHRyYW5zZm9ybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgY3VycmVudCBcImZyb21cIiBub2RlIHRvIG1hdGNoIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRhcmdldCBET00gbm9kZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhFbChjdXJGcm9tTm9kZUNoaWxkLCBjdXJUb05vZGVDaGlsZCwgYWxyZWFkeVZpc2l0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJvdGggbm9kZXMgYmVpbmcgY29tcGFyZWQgYXJlIFRleHQgb3IgQ29tbWVudCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1ckZyb21Ob2RlVHlwZSA9PT0gVEVYVF9OT0RFIHx8IGN1ckZyb21Ob2RlVHlwZSA9PSBDT01NRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbXBseSB1cGRhdGUgbm9kZVZhbHVlIG9uIHRoZSBvcmlnaW5hbCBub2RlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdlIHRoZSB0ZXh0IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZC5ub2RlVmFsdWUgPSBjdXJUb05vZGVDaGlsZC5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdGlibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJUb05vZGVDaGlsZCA9IHRvTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIGNvbXBhdGlibGUgbWF0Y2ggc28gcmVtb3ZlIHRoZSBvbGQgbm9kZSBmcm9tIHRoZSBET01cbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGNvbnRpbnVlIHRyeWluZyB0byBmaW5kIGEgbWF0Y2ggaW4gdGhlIG9yaWdpbmFsIERPTVxuICAgICAgICAgICAgICAgICAgICByZW1vdmVOb2RlKGN1ckZyb21Ob2RlQ2hpbGQsIGZyb21FbCwgYWxyZWFkeVZpc2l0ZWQpO1xuICAgICAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjdXJUb05vZGVJZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHNhdmVkRWwgPSBzYXZlZEVsc1tjdXJUb05vZGVJZF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGFyZU5vZGVOYW1lcyhzYXZlZEVsLCBjdXJUb05vZGVDaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaEVsKHNhdmVkRWwsIGN1clRvTm9kZUNoaWxkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSB3YW50IHRvIGFwcGVuZCB0aGUgc2F2ZWQgZWxlbWVudCBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG9Ob2RlQ2hpbGQgPSBzYXZlZEVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2F2ZWRFbHNbY3VyVG9Ob2RlSWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTm9kZURpc2NhcmRlZChzYXZlZEVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjdXJyZW50IERPTSBlbGVtZW50IGluIHRoZSB0YXJnZXQgdHJlZSBoYXMgYW4gSURcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCB3ZSBkaWQgbm90IGZpbmQgYSBtYXRjaCBpbiBhbnkgb2YgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb3JyZXNwb25kaW5nIHNpYmxpbmdzLiBXZSBqdXN0IHB1dCB0aGUgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50IGluIHRoZSBvbGQgRE9NIHRyZWUgYnV0IGlmIHdlIGxhdGVyIGZpbmQgYW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgaW4gdGhlIG9sZCBET00gdHJlZSB0aGF0IGhhcyBhIG1hdGNoaW5nIElEXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIHdlIHdpbGwgcmVwbGFjZSB0aGUgdGFyZ2V0IGVsZW1lbnQgd2l0aCB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvcnJlc3BvbmRpbmcgb2xkIGVsZW1lbnQgYW5kIG1vcnBoIHRoZSBvbGQgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5tYXRjaGVkRWxzW2N1clRvTm9kZUlkXSA9IGN1clRvTm9kZUNoaWxkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgZ290IHRoaXMgZmFyIHRoZW4gd2UgZGlkIG5vdCBmaW5kIGEgY2FuZGlkYXRlIG1hdGNoIGZvclxuICAgICAgICAgICAgICAgIC8vIG91ciBcInRvIG5vZGVcIiBhbmQgd2UgZXhoYXVzdGVkIGFsbCBvZiB0aGUgY2hpbGRyZW4gXCJmcm9tXCJcbiAgICAgICAgICAgICAgICAvLyBub2Rlcy4gVGhlcmVmb3JlLCB3ZSB3aWxsIGp1c3QgYXBwZW5kIHRoZSBjdXJyZW50IFwidG8gbm9kZVwiXG4gICAgICAgICAgICAgICAgLy8gdG8gdGhlIGVuZFxuICAgICAgICAgICAgICAgIGlmIChvbkJlZm9yZU5vZGVBZGRlZChjdXJUb05vZGVDaGlsZCkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb21FbC5hcHBlbmRDaGlsZChjdXJUb05vZGVDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIG9uTm9kZUFkZGVkKGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VyVG9Ob2RlQ2hpbGQubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSAmJlxuICAgICAgICAgICAgICAgICAgICAoY3VyVG9Ob2RlSWQgfHwgY3VyVG9Ob2RlQ2hpbGQuZmlyc3RDaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgdGhhdCB3YXMganVzdCBhZGRlZCB0byB0aGUgb3JpZ2luYWwgRE9NIG1heVxuICAgICAgICAgICAgICAgICAgICAvLyBoYXZlIHNvbWUgbmVzdGVkIGVsZW1lbnRzIHdpdGggYSBrZXkvSUQgdGhhdCBuZWVkcyB0byBiZVxuICAgICAgICAgICAgICAgICAgICAvLyBtYXRjaGVkIHVwIHdpdGggb3RoZXIgZWxlbWVudHMuIFdlJ2xsIGFkZCB0aGUgZWxlbWVudCB0b1xuICAgICAgICAgICAgICAgICAgICAvLyBhIGxpc3Qgc28gdGhhdCB3ZSBjYW4gbGF0ZXIgcHJvY2VzcyB0aGUgbmVzdGVkIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSBhbnkgdW5tYXRjaGVkIGtleWVkIGVsZW1lbnRzIHRoYXQgd2VyZVxuICAgICAgICAgICAgICAgICAgICAvLyBkaXNjYXJkZWRcbiAgICAgICAgICAgICAgICAgICAgbW92ZWRFbHMucHVzaChjdXJUb05vZGVDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VyVG9Ob2RlQ2hpbGQgPSB0b05leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFdlIGhhdmUgcHJvY2Vzc2VkIGFsbCBvZiB0aGUgXCJ0byBub2Rlc1wiLiBJZiBjdXJGcm9tTm9kZUNoaWxkIGlzXG4gICAgICAgICAgICAvLyBub24tbnVsbCB0aGVuIHdlIHN0aWxsIGhhdmUgc29tZSBmcm9tIG5vZGVzIGxlZnQgb3ZlciB0aGF0IG5lZWRcbiAgICAgICAgICAgIC8vIHRvIGJlIHJlbW92ZWRcbiAgICAgICAgICAgIHdoaWxlIChjdXJGcm9tTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICAgICAgZnJvbU5leHRTaWJsaW5nID0gY3VyRnJvbU5vZGVDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICByZW1vdmVOb2RlKGN1ckZyb21Ob2RlQ2hpbGQsIGZyb21FbCwgYWxyZWFkeVZpc2l0ZWQpO1xuICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3BlY2lhbEVsSGFuZGxlciA9IHNwZWNpYWxFbEhhbmRsZXJzW2Zyb21FbC5ub2RlTmFtZV07XG4gICAgICAgIGlmIChzcGVjaWFsRWxIYW5kbGVyKSB7XG4gICAgICAgICAgICBzcGVjaWFsRWxIYW5kbGVyKGZyb21FbCwgdG9FbCk7XG4gICAgICAgIH1cbiAgICB9IC8vIEVORDogbW9ycGhFbCguLi4pXG5cbiAgICB2YXIgbW9ycGhlZE5vZGUgPSBmcm9tTm9kZTtcbiAgICB2YXIgbW9ycGhlZE5vZGVUeXBlID0gbW9ycGhlZE5vZGUubm9kZVR5cGU7XG4gICAgdmFyIHRvTm9kZVR5cGUgPSB0b05vZGUubm9kZVR5cGU7XG5cbiAgICBpZiAoIWNoaWxkcmVuT25seSkge1xuICAgICAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgd2UgYXJlIGdpdmVuIHR3byBET00gbm9kZXMgdGhhdCBhcmUgbm90XG4gICAgICAgIC8vIGNvbXBhdGlibGUgKGUuZy4gPGRpdj4gLS0+IDxzcGFuPiBvciA8ZGl2PiAtLT4gVEVYVClcbiAgICAgICAgaWYgKG1vcnBoZWROb2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICBpZiAodG9Ob2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb21wYXJlTm9kZU5hbWVzKGZyb21Ob2RlLCB0b05vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uTm9kZURpc2NhcmRlZChmcm9tTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIG1vcnBoZWROb2RlID0gbW92ZUNoaWxkcmVuKGZyb21Ob2RlLCBjcmVhdGVFbGVtZW50TlModG9Ob2RlLm5vZGVOYW1lLCB0b05vZGUubmFtZXNwYWNlVVJJKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBHb2luZyBmcm9tIGFuIGVsZW1lbnQgbm9kZSB0byBhIHRleHQgbm9kZVxuICAgICAgICAgICAgICAgIG1vcnBoZWROb2RlID0gdG9Ob2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1vcnBoZWROb2RlVHlwZSA9PT0gVEVYVF9OT0RFIHx8IG1vcnBoZWROb2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFKSB7IC8vIFRleHQgb3IgY29tbWVudCBub2RlXG4gICAgICAgICAgICBpZiAodG9Ob2RlVHlwZSA9PT0gbW9ycGhlZE5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgbW9ycGhlZE5vZGUubm9kZVZhbHVlID0gdG9Ob2RlLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9ycGhlZE5vZGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRleHQgbm9kZSB0byBzb21ldGhpbmcgZWxzZVxuICAgICAgICAgICAgICAgIG1vcnBoZWROb2RlID0gdG9Ob2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1vcnBoZWROb2RlID09PSB0b05vZGUpIHtcbiAgICAgICAgLy8gVGhlIFwidG8gbm9kZVwiIHdhcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSBcImZyb20gbm9kZVwiIHNvIHdlIGhhZCB0b1xuICAgICAgICAvLyB0b3NzIG91dCB0aGUgXCJmcm9tIG5vZGVcIiBhbmQgdXNlIHRoZSBcInRvIG5vZGVcIlxuICAgICAgICBvbk5vZGVEaXNjYXJkZWQoZnJvbU5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1vcnBoRWwobW9ycGhlZE5vZGUsIHRvTm9kZSwgZmFsc2UsIGNoaWxkcmVuT25seSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoYXQgd2Ugd2lsbCBkbyBoZXJlIGlzIHdhbGsgdGhlIHRyZWUgZm9yIHRoZSBET00gZWxlbWVudCB0aGF0IHdhc1xuICAgICAgICAgKiBtb3ZlZCBmcm9tIHRoZSB0YXJnZXQgRE9NIHRyZWUgdG8gdGhlIG9yaWdpbmFsIERPTSB0cmVlIGFuZCB3ZSB3aWxsXG4gICAgICAgICAqIGxvb2sgZm9yIGtleWVkIGVsZW1lbnRzIHRoYXQgY291bGQgYmUgbWF0Y2hlZCB0byBrZXllZCBlbGVtZW50cyB0aGF0XG4gICAgICAgICAqIHdlcmUgZWFybGllciBkaXNjYXJkZWQuICBJZiB3ZSBmaW5kIGEgbWF0Y2ggdGhlbiB3ZSB3aWxsIG1vdmUgdGhlXG4gICAgICAgICAqIHNhdmVkIGVsZW1lbnQgaW50byB0aGUgZmluYWwgRE9NIHRyZWUuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaGFuZGxlTW92ZWRFbCA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICB2YXIgY3VyQ2hpbGQgPSBlbC5maXJzdENoaWxkO1xuICAgICAgICAgICAgd2hpbGUgKGN1ckNoaWxkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRTaWJsaW5nID0gY3VyQ2hpbGQubmV4dFNpYmxpbmc7XG5cbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gZ2V0Tm9kZUtleShjdXJDaGlsZCk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2F2ZWRFbCA9IHNhdmVkRWxzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzYXZlZEVsICYmIGNvbXBhcmVOb2RlTmFtZXMoY3VyQ2hpbGQsIHNhdmVkRWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDaGlsZC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChzYXZlZEVsLCBjdXJDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlOiBhbHJlYWR5IHZpc2l0ZWQgdGhlIHNhdmVkIGVsIHRyZWVcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoRWwoc2F2ZWRFbCwgY3VyQ2hpbGQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ2hpbGQgPSBuZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbXB0eShzYXZlZEVscykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjdXJDaGlsZC5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZU1vdmVkRWwoY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1ckNoaWxkID0gbmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVGhlIGxvb3AgYmVsb3cgaXMgdXNlZCB0byBwb3NzaWJseSBtYXRjaCB1cCBhbnkgZGlzY2FyZGVkXG4gICAgICAgIC8vIGVsZW1lbnRzIGluIHRoZSBvcmlnaW5hbCBET00gdHJlZSB3aXRoIGVsZW1lbmV0cyBmcm9tIHRoZVxuICAgICAgICAvLyB0YXJnZXQgdHJlZSB0aGF0IHdlcmUgbW92ZWQgb3ZlciB3aXRob3V0IHZpc2l0aW5nIHRoZWlyXG4gICAgICAgIC8vIGNoaWxkcmVuXG4gICAgICAgIGlmICghZW1wdHkoc2F2ZWRFbHMpKSB7XG4gICAgICAgICAgICBoYW5kbGVNb3ZlZEVsc0xvb3A6XG4gICAgICAgICAgICB3aGlsZSAobW92ZWRFbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vdmVkRWxzVGVtcCA9IG1vdmVkRWxzO1xuICAgICAgICAgICAgICAgIG1vdmVkRWxzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPG1vdmVkRWxzVGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlTW92ZWRFbChtb3ZlZEVsc1RlbXBbaV0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgYXJlIG5vIG1vcmUgdW5tYXRjaGVkIGVsZW1lbnRzIHNvIGNvbXBsZXRlbHkgZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgaGFuZGxlTW92ZWRFbHNMb29wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyZSB0aGUgXCJvbk5vZGVEaXNjYXJkZWRcIiBldmVudCBmb3IgYW55IHNhdmVkIGVsZW1lbnRzXG4gICAgICAgIC8vIHRoYXQgbmV2ZXIgZm91bmQgYSBuZXcgaG9tZSBpbiB0aGUgbW9ycGhlZCBET01cbiAgICAgICAgZm9yICh2YXIgc2F2ZWRFbElkIGluIHNhdmVkRWxzKSB7XG4gICAgICAgICAgICBpZiAoc2F2ZWRFbHMuaGFzT3duUHJvcGVydHkoc2F2ZWRFbElkKSkge1xuICAgICAgICAgICAgICAgIHZhciBzYXZlZEVsID0gc2F2ZWRFbHNbc2F2ZWRFbElkXTtcbiAgICAgICAgICAgICAgICBvbk5vZGVEaXNjYXJkZWQoc2F2ZWRFbCk7XG4gICAgICAgICAgICAgICAgd2Fsa0Rpc2NhcmRlZENoaWxkTm9kZXMoc2F2ZWRFbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWNoaWxkcmVuT25seSAmJiBtb3JwaGVkTm9kZSAhPT0gZnJvbU5vZGUgJiYgZnJvbU5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAvLyBJZiB3ZSBoYWQgdG8gc3dhcCBvdXQgdGhlIGZyb20gbm9kZSB3aXRoIGEgbmV3IG5vZGUgYmVjYXVzZSB0aGUgb2xkXG4gICAgICAgIC8vIG5vZGUgd2FzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIHRhcmdldCBub2RlIHRoZW4gd2UgbmVlZCB0b1xuICAgICAgICAvLyByZXBsYWNlIHRoZSBvbGQgRE9NIG5vZGUgaW4gdGhlIG9yaWdpbmFsIERPTSB0cmVlLiBUaGlzIGlzIG9ubHlcbiAgICAgICAgLy8gcG9zc2libGUgaWYgdGhlIG9yaWdpbmFsIERPTSBub2RlIHdhcyBwYXJ0IG9mIGEgRE9NIHRyZWUgd2hpY2hcbiAgICAgICAgLy8gd2Uga25vdyBpcyB0aGUgY2FzZSBpZiBpdCBoYXMgYSBwYXJlbnQgbm9kZS5cbiAgICAgICAgZnJvbU5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobW9ycGhlZE5vZGUsIGZyb21Ob2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9ycGhlZE5vZGU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbW9ycGhkb207XG4iLCIvKiBnbG9iYWwgTXV0YXRpb25PYnNlcnZlciAqL1xudmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnZ2xvYmFsL2RvY3VtZW50JylcbnZhciB3aW5kb3cgPSByZXF1aXJlKCdnbG9iYWwvd2luZG93JylcbnZhciB3YXRjaCA9IE9iamVjdC5jcmVhdGUobnVsbClcbnZhciBLRVlfSUQgPSAnb25sb2FkaWQnICsgKG5ldyBEYXRlKCkgJSA5ZTYpLnRvU3RyaW5nKDM2KVxudmFyIEtFWV9BVFRSID0gJ2RhdGEtJyArIEtFWV9JRFxudmFyIElOREVYID0gMFxuXG5pZiAod2luZG93ICYmIHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKSB7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHtcbiAgICBpZiAoT2JqZWN0LmtleXMod2F0Y2gpLmxlbmd0aCA8IDEpIHJldHVyblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXV0YXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobXV0YXRpb25zW2ldLmF0dHJpYnV0ZU5hbWUgPT09IEtFWV9BVFRSKSB7XG4gICAgICAgIGVhY2hBdHRyKG11dGF0aW9uc1tpXSwgdHVybm9uLCB0dXJub2ZmKVxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuICAgICAgZWFjaE11dGF0aW9uKG11dGF0aW9uc1tpXS5yZW1vdmVkTm9kZXMsIHR1cm5vZmYpXG4gICAgICBlYWNoTXV0YXRpb24obXV0YXRpb25zW2ldLmFkZGVkTm9kZXMsIHR1cm5vbilcbiAgICB9XG4gIH0pXG4gIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwge1xuICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICBzdWJ0cmVlOiB0cnVlLFxuICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgYXR0cmlidXRlT2xkVmFsdWU6IHRydWUsXG4gICAgYXR0cmlidXRlRmlsdGVyOiBbS0VZX0FUVFJdXG4gIH0pXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gb25sb2FkIChlbCwgb24sIG9mZiwgY2FsbGVyKSB7XG4gIG9uID0gb24gfHwgZnVuY3Rpb24gKCkge31cbiAgb2ZmID0gb2ZmIHx8IGZ1bmN0aW9uICgpIHt9XG4gIGVsLnNldEF0dHJpYnV0ZShLRVlfQVRUUiwgJ28nICsgSU5ERVgpXG4gIHdhdGNoWydvJyArIElOREVYXSA9IFtvbiwgb2ZmLCAwLCBjYWxsZXIgfHwgb25sb2FkLmNhbGxlcl1cbiAgSU5ERVggKz0gMVxuICByZXR1cm4gZWxcbn1cblxuZnVuY3Rpb24gdHVybm9uIChpbmRleCwgZWwpIHtcbiAgaWYgKHdhdGNoW2luZGV4XVswXSAmJiB3YXRjaFtpbmRleF1bMl0gPT09IDApIHtcbiAgICB3YXRjaFtpbmRleF1bMF0oZWwpXG4gICAgd2F0Y2hbaW5kZXhdWzJdID0gMVxuICB9XG59XG5cbmZ1bmN0aW9uIHR1cm5vZmYgKGluZGV4LCBlbCkge1xuICBpZiAod2F0Y2hbaW5kZXhdWzFdICYmIHdhdGNoW2luZGV4XVsyXSA9PT0gMSkge1xuICAgIHdhdGNoW2luZGV4XVsxXShlbClcbiAgICB3YXRjaFtpbmRleF1bMl0gPSAwXG4gIH1cbn1cblxuZnVuY3Rpb24gZWFjaEF0dHIgKG11dGF0aW9uLCBvbiwgb2ZmKSB7XG4gIHZhciBuZXdWYWx1ZSA9IG11dGF0aW9uLnRhcmdldC5nZXRBdHRyaWJ1dGUoS0VZX0FUVFIpXG4gIGlmIChzYW1lT3JpZ2luKG11dGF0aW9uLm9sZFZhbHVlLCBuZXdWYWx1ZSkpIHtcbiAgICB3YXRjaFtuZXdWYWx1ZV0gPSB3YXRjaFttdXRhdGlvbi5vbGRWYWx1ZV1cbiAgICByZXR1cm5cbiAgfVxuICBpZiAod2F0Y2hbbXV0YXRpb24ub2xkVmFsdWVdKSB7XG4gICAgb2ZmKG11dGF0aW9uLm9sZFZhbHVlLCBtdXRhdGlvbi50YXJnZXQpXG4gIH1cbiAgaWYgKHdhdGNoW25ld1ZhbHVlXSkge1xuICAgIG9uKG5ld1ZhbHVlLCBtdXRhdGlvbi50YXJnZXQpXG4gIH1cbn1cblxuZnVuY3Rpb24gc2FtZU9yaWdpbiAob2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gIGlmICghb2xkVmFsdWUgfHwgIW5ld1ZhbHVlKSByZXR1cm4gZmFsc2VcbiAgcmV0dXJuIHdhdGNoW29sZFZhbHVlXVszXSA9PT0gd2F0Y2hbbmV3VmFsdWVdWzNdXG59XG5cbmZ1bmN0aW9uIGVhY2hNdXRhdGlvbiAobm9kZXMsIGZuKSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMod2F0Y2gpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobm9kZXNbaV0gJiYgbm9kZXNbaV0uZ2V0QXR0cmlidXRlICYmIG5vZGVzW2ldLmdldEF0dHJpYnV0ZShLRVlfQVRUUikpIHtcbiAgICAgIHZhciBvbmxvYWRpZCA9IG5vZGVzW2ldLmdldEF0dHJpYnV0ZShLRVlfQVRUUilcbiAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICBpZiAob25sb2FkaWQgPT09IGspIHtcbiAgICAgICAgICBmbihrLCBub2Rlc1tpXSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgaWYgKG5vZGVzW2ldLmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgZWFjaE11dGF0aW9uKG5vZGVzW2ldLmNoaWxkTm9kZXMsIGZuKVxuICAgIH1cbiAgfVxufVxuIiwidmFyIHRyaW0gPSByZXF1aXJlKCd0cmltJylcbiAgLCBmb3JFYWNoID0gcmVxdWlyZSgnZm9yLWVhY2gnKVxuICAsIGlzQXJyYXkgPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGhlYWRlcnMpIHtcbiAgaWYgKCFoZWFkZXJzKVxuICAgIHJldHVybiB7fVxuXG4gIHZhciByZXN1bHQgPSB7fVxuXG4gIGZvckVhY2goXG4gICAgICB0cmltKGhlYWRlcnMpLnNwbGl0KCdcXG4nKVxuICAgICwgZnVuY3Rpb24gKHJvdykge1xuICAgICAgICB2YXIgaW5kZXggPSByb3cuaW5kZXhPZignOicpXG4gICAgICAgICAgLCBrZXkgPSB0cmltKHJvdy5zbGljZSgwLCBpbmRleCkpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAsIHZhbHVlID0gdHJpbShyb3cuc2xpY2UoaW5kZXggKyAxKSlcblxuICAgICAgICBpZiAodHlwZW9mKHJlc3VsdFtrZXldKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlXG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShyZXN1bHRba2V5XSkpIHtcbiAgICAgICAgICByZXN1bHRba2V5XS5wdXNoKHZhbHVlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gWyByZXN1bHRba2V5XSwgdmFsdWUgXVxuICAgICAgICB9XG4gICAgICB9XG4gIClcblxuICByZXR1cm4gcmVzdWx0XG59IiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuKGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNhY2hlZFNldFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaXMgbm90IGRlZmluZWQnKTtcbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBpcyBub3QgZGVmaW5lZCcpO1xuICAgIH1cbiAgfVxufSAoKSlcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IGNhY2hlZFNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNhY2hlZENsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgbm9vcCA9IGZ1bmN0aW9uICgpIHt9XG5cbmZ1bmN0aW9uIGFib3J0QWxsKGFyeSwgYWJvcnQsIGNiKSB7XG4gIHZhciBuID0gYXJ5Lmxlbmd0aFxuICBpZighbikgcmV0dXJuIGNiKGFib3J0KVxuICBhcnkuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuICAgIGlmKGYpIGYoYWJvcnQsIG5leHQpXG4gICAgZWxzZSBuZXh0KClcbiAgfSlcblxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIGlmKC0tbikgcmV0dXJuXG4gICAgY2IoYWJvcnQpXG4gIH1cbiAgaWYoIW4pIG5leHQoKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHJlYW1zKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYWJvcnQsIGNiKSB7XG4gICAgOyhmdW5jdGlvbiBuZXh0ICgpIHtcbiAgICAgIGlmKGFib3J0KVxuICAgICAgICBhYm9ydEFsbChzdHJlYW1zLCBhYm9ydCwgY2IpXG4gICAgICBlbHNlIGlmKCFzdHJlYW1zLmxlbmd0aClcbiAgICAgICAgY2IodHJ1ZSlcbiAgICAgIGVsc2UgaWYoIXN0cmVhbXNbMF0pXG4gICAgICAgIHN0cmVhbXMuc2hpZnQoKSwgbmV4dCgpXG4gICAgICBlbHNlXG4gICAgICAgIHN0cmVhbXNbMF0obnVsbCwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgIGlmKGVycikge1xuICAgICAgICAgICAgc3RyZWFtcy5zaGlmdCgpIC8vZHJvcCB0aGUgZmlyc3QsIGhhcyBhbHJlYWR5IGVuZGVkLlxuICAgICAgICAgICAgaWYoZXJyID09PSB0cnVlKSBuZXh0KClcbiAgICAgICAgICAgIGVsc2UgICAgICAgICAgICAgYWJvcnRBbGwoc3RyZWFtcywgZXJyLCBjYilcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgY2IobnVsbCwgZGF0YSlcbiAgICAgICAgfSlcbiAgICB9KSgpXG4gIH1cbn1cblxuXG5cblxuIiwiXG52YXIgU291cmNlID0gcmVxdWlyZSgnLi9zb3VyY2UnKVxudmFyIFNpbmsgPSByZXF1aXJlKCcuL3NpbmsnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblxuICB2YXIgc291cmNlID0gU291cmNlKClcbiAgdmFyIHNpbmsgPSBTaW5rKClcblxuICByZXR1cm4ge1xuICAgIHNvdXJjZTogc291cmNlLFxuICAgIHNpbms6IHNpbmssXG4gICAgcmVzb2x2ZTogZnVuY3Rpb24gKGR1cGxleCkge1xuICAgICAgc291cmNlLnJlc29sdmUoZHVwbGV4LnNvdXJjZSlcbiAgICAgIHNpbmsucmVzb2x2ZShkdXBsZXguc2luaylcblxuICAgIH1cbiAgfVxuXG5cbn1cbiIsIlxuZXhwb3J0cy5zb3VyY2UgPSByZXF1aXJlKCcuL3NvdXJjZScpXG5leHBvcnRzLnRocm91Z2ggPSByZXF1aXJlKCcuL3Rocm91Z2gnKVxuZXhwb3J0cy5zaW5rID0gcmVxdWlyZSgnLi9zaW5rJylcbmV4cG9ydHMuZHVwbGV4ID0gcmVxdWlyZSgnLi9kdXBsZXgnKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyZWFtKSB7XG4gIHZhciByZWFkLCBzdGFydGVkID0gZmFsc2UsIGlkID0gTWF0aC5yYW5kb20oKVxuXG4gIGZ1bmN0aW9uIGNvbnN1bWUgKF9yZWFkKSB7XG4gICAgaWYoIV9yZWFkKSB0aHJvdyBuZXcgRXJyb3IoJ211c3QgYmUgcGFzc2VkIGEgcmVhZGFibGUnKVxuICAgIHJlYWQgPSBfcmVhZFxuICAgIGlmKHN0YXJ0ZWQpIHN0cmVhbShyZWFkKVxuICB9XG5cbiAgY29uc3VtZS5yZXNvbHZlID1cbiAgY29uc3VtZS5yZWFkeSA9XG4gIGNvbnN1bWUuc3RhcnQgPSBmdW5jdGlvbiAoX3N0cmVhbSkge1xuICAgIHN0YXJ0ZWQgPSB0cnVlOyBzdHJlYW0gPSBfc3RyZWFtIHx8IHN0cmVhbVxuICAgIGlmKHJlYWQpIHN0cmVhbShyZWFkKVxuICAgIHJldHVybiBjb25zdW1lXG4gIH1cblxuICByZXR1cm4gY29uc3VtZVxufVxuIiwiXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWFkLCBfY2IsIGFib3J0Q2IsIF9lbmRcblxuICB2YXIgcmVhZCA9IGZ1bmN0aW9uIChlbmQsIGNiKSB7XG4gICAgaWYoIV9yZWFkKSB7XG4gICAgICBpZihlbmQpIHtcbiAgICAgICAgX2VuZCA9IGVuZFxuICAgICAgICBhYm9ydENiID0gY2JcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgICAgX2NiID0gY2JcbiAgICB9XG4gICAgZWxzZSBfcmVhZChlbmQsIGNiKVxuICB9XG4gIHJlYWQucmVzb2x2ZSA9IGZ1bmN0aW9uIChyZWFkKSB7XG4gICAgaWYoX3JlYWQpIHRocm93IG5ldyBFcnJvcignYWxyZWFkeSByZXNvbHZlZCcpXG4gICAgX3JlYWQgPSByZWFkXG4gICAgaWYoIV9yZWFkKSB0aHJvdyBuZXcgRXJyb3IoJ25vIHJlYWQgY2Fubm90IHJlc29sdmUhJyArIF9yZWFkKVxuICAgIGlmKF9jYikgcmVhZChudWxsLCBfY2IpXG4gICAgaWYoYWJvcnRDYikgcmVhZChfZW5kLCBhYm9ydENiKVxuICB9XG4gIHJlYWQuYWJvcnQgPSBmdW5jdGlvbihlcnIpIHtcbiAgICByZWFkLnJlc29sdmUoZnVuY3Rpb24gKF8sIGNiKSB7XG4gICAgICBjYihlcnIgfHwgdHJ1ZSlcbiAgICB9KVxuICB9XG4gIHJldHVybiByZWFkXG59XG5cbiIsIlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByZWFkLCByZWFkZXIsIGNiLCBhYm9ydCwgc3RyZWFtXG5cbiAgZnVuY3Rpb24gZGVsYXllZCAoX3JlYWQpIHtcbiAgICAvL2lmIHdlIGFscmVhZHkgaGF2ZSB0aGUgc3RyZWFtLCBnbyFcbiAgICBpZihzdHJlYW0pIHJldHVybiBzdHJlYW0oX3JlYWQpXG5cbiAgICByZWFkID0gX3JlYWRcbiAgICByZXR1cm4gZnVuY3Rpb24gKF9hYm9ydCwgX2NiKSB7XG4gICAgICBpZihyZWFkZXIpIHJlYWRlcihfYWJvcnQsIF9jYilcbiAgICAgIGVsc2UgYWJvcnQgPSBfYWJvcnQsIGNiID0gX2NiXG5cbiAgICB9XG4gIH1cblxuICBkZWxheWVkLnJlc29sdmUgPSBmdW5jdGlvbiAoX3N0cmVhbSkge1xuICAgIGlmKHN0cmVhbSkgdGhyb3cgbmV3IEVycm9yKCdhbHJlYWR5IHJlc29sdmVkJylcbiAgICBzdHJlYW0gPSBfc3RyZWFtXG4gICAgaWYoIXN0cmVhbSkgdGhyb3cgbmV3IEVycm9yKCdyZXNvbHZlICptdXN0KiBiZSBwYXNzZWQgYSB0cmFuc2Zvcm0gc3RyZWFtJylcbiAgICBpZihyZWFkKSB7XG4gICAgICByZWFkZXIgPSBzdHJlYW0ocmVhZClcbiAgICAgIGlmKGNiKSByZWFkZXIoYWJvcnQsIGNiKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZWxheWVkXG59XG4iLCJcbnZhciBwdXNoYWJsZSA9IHJlcXVpcmUoJ3B1bGwtcHVzaGFibGUnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxpc3RlbmVycyA9IFtdXG5cbiAgZnVuY3Rpb24gbm90aWZ5IChtZXNzYWdlKSB7XG4gICAgLy8gbm90aWZ5IGJ5IHB1c2hpbmcgdG8gYWxsIGxpc3RlbmVyc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0ucHVzaChtZXNzYWdlKVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZVxuICB9XG5cbiAgbm90aWZ5Lmxpc3RlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBjcmVhdGUgbGlzdGVuZXIgd2l0aCBgb25DbG9zZWAgaGFuZGxlclxuICAgIHZhciBsaXN0ZW5lciA9IHB1c2hhYmxlKGZ1bmN0aW9uIG9uQ2xvc2UgKCkge1xuICAgICAgLy8gaWYgbGlzdGVuZXIgaXMgZm91bmQsIGRlbGV0ZSBmcm9tIGxpc3RcbiAgICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKVxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSlcbiAgICB9KVxuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKVxuICAgIHJldHVybiBsaXN0ZW5lclxuICB9XG5cbiAgbm90aWZ5LmFib3J0ID0gZnVuY3Rpb24gKGVycikge1xuICAgIC8vIGFib3J0IGJ5IGVuZGluZyBhbGwgbGlzdGVuZXJzXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpIGxpc3RlbmVyc1swXS5lbmQoZXJyKVxuICB9XG5cbiAgbm90aWZ5LmVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbm90aWZ5LmFib3J0KHRydWUpXG4gIH1cblxuICByZXR1cm4gbm90aWZ5XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHB1bGxQdXNoYWJsZVxuXG5mdW5jdGlvbiBwdWxsUHVzaGFibGUgKG9uQ2xvc2UpIHtcbiAgLy8gY3JlYXRlIGEgYnVmZmVyIGZvciBkYXRhXG4gIC8vIHRoYXQgaGF2ZSBiZWVuIHB1c2hlZFxuICAvLyBidXQgbm90IHlldCBwdWxsZWQuXG4gIHZhciBidWZmZXIgPSBbXVxuXG4gIC8vIGEgcHVzaGFibGUgaXMgYSBzb3VyY2Ugc3RyZWFtXG4gIC8vIChhYm9ydCwgY2IpID0+IGNiKGVuZCwgZGF0YSlcbiAgLy9cbiAgLy8gd2hlbiBwdXNoYWJsZSBpcyBwdWxsZWQsXG4gIC8vIGtlZXAgcmVmZXJlbmNlcyB0byBhYm9ydCBhbmQgY2JcbiAgLy8gc28gd2UgY2FuIGNhbGwgYmFjayBhZnRlclxuICAvLyAuZW5kKGVuZCkgb3IgLnB1c2goZGF0YSlcbiAgdmFyIGFib3J0LCBjYlxuICBmdW5jdGlvbiByZWFkIChfYWJvcnQsIF9jYikge1xuICAgIGlmIChfYWJvcnQpIHtcbiAgICAgIGFib3J0ID0gX2Fib3J0XG4gICAgICAvLyBpZiB0aGVyZSBpcyBhbHJlYWR5IGEgY2Igd2FpdGluZywgYWJvcnQgaXQuXG4gICAgICBpZiAoY2IpIGNhbGxiYWNrKGFib3J0KVxuICAgIH1cbiAgICBjYiA9IF9jYlxuICAgIGRyYWluKClcbiAgfVxuXG4gIHZhciBlbmRlZFxuICByZWFkLmVuZCA9IGZ1bmN0aW9uIChlbmQpIHtcbiAgICBlbmRlZCA9IGVuZGVkIHx8IGVuZCB8fCB0cnVlXG4gICAgLy8gYXR0ZW1wdCB0byBkcmFpblxuICAgIGRyYWluKClcbiAgfVxuXG4gIHJlYWQucHVzaCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKGVuZGVkKSByZXR1cm5cbiAgICAvLyBpZiBzaW5rIGFscmVhZHkgd2FpdGluZyxcbiAgICAvLyB3ZSBjYW4gY2FsbCBiYWNrIGRpcmVjdGx5LlxuICAgIGlmIChjYikge1xuICAgICAgY2FsbGJhY2soYWJvcnQsIGRhdGEpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gb3RoZXJ3aXNlIHB1c2ggZGF0YSBhbmRcbiAgICAvLyBhdHRlbXB0IHRvIGRyYWluXG4gICAgYnVmZmVyLnB1c2goZGF0YSlcbiAgICBkcmFpbigpXG4gIH1cblxuICByZXR1cm4gcmVhZFxuXG4gIC8vIGBkcmFpbmAgY2FsbHMgYmFjayB0byAoaWYgYW55KSB3YWl0aW5nXG4gIC8vIHNpbmsgd2l0aCBhYm9ydCwgZW5kLCBvciBuZXh0IGRhdGEuXG4gIGZ1bmN0aW9uIGRyYWluICgpIHtcbiAgICBpZiAoIWNiKSByZXR1cm5cblxuICAgIGlmIChhYm9ydCkgY2FsbGJhY2soYWJvcnQpXG4gICAgZWxzZSBpZiAoIWJ1ZmZlci5sZW5ndGggJiYgZW5kZWQpIGNhbGxiYWNrKGVuZGVkKVxuICAgIGVsc2UgaWYgKGJ1ZmZlci5sZW5ndGgpIGNhbGxiYWNrKG51bGwsIGJ1ZmZlci5zaGlmdCgpKVxuICB9XG5cbiAgLy8gYGNhbGxiYWNrYCBjYWxscyBiYWNrIHRvIHdhaXRpbmcgc2luayxcbiAgLy8gYW5kIHJlbW92ZXMgcmVmZXJlbmNlcyB0byBzaW5rIGNiLlxuICBmdW5jdGlvbiBjYWxsYmFjayAoZXJyLCB2YWwpIHtcbiAgICB2YXIgX2NiID0gY2JcbiAgICAvLyBpZiBlcnJvciBhbmQgcHVzaGFibGUgcGFzc2VkIG9uQ2xvc2UsIGNhbGwgaXRcbiAgICAvLyB0aGUgZmlyc3QgdGltZSB0aGlzIHN0cmVhbSBlbmRzIG9yIGVycm9ycy5cbiAgICBpZiAoZXJyICYmIG9uQ2xvc2UpIHtcbiAgICAgIHZhciBjID0gb25DbG9zZVxuICAgICAgb25DbG9zZSA9IG51bGxcbiAgICAgIGMoZXJyID09PSB0cnVlID8gbnVsbCA6IGVycilcbiAgICB9XG4gICAgY2IgPSBudWxsXG4gICAgX2NiKGVyciwgdmFsKVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxudmFyIHNvdXJjZXMgID0gcmVxdWlyZSgnLi9zb3VyY2VzJylcbnZhciBzaW5rcyAgICA9IHJlcXVpcmUoJy4vc2lua3MnKVxudmFyIHRocm91Z2hzID0gcmVxdWlyZSgnLi90aHJvdWdocycpXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcHVsbCcpXG5cbmZvcih2YXIgayBpbiBzb3VyY2VzKVxuICBleHBvcnRzW2tdID0gc291cmNlc1trXVxuXG5mb3IodmFyIGsgaW4gdGhyb3VnaHMpXG4gIGV4cG9ydHNba10gPSB0aHJvdWdoc1trXVxuXG5mb3IodmFyIGsgaW4gc2lua3MpXG4gIGV4cG9ydHNba10gPSBzaW5rc1trXVxuXG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwdWxsIChhKSB7XG4gIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoXG4gIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJyAmJiBhLmxlbmd0aCA9PT0gMSkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGxlbmd0aClcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWFkKSB7XG4gICAgICBhcmdzLnVuc2hpZnQocmVhZClcbiAgICAgIHJldHVybiBwdWxsLmFwcGx5KG51bGwsIGFyZ3MpXG4gICAgfVxuICB9XG5cbiAgdmFyIHJlYWQgPSBhXG5cbiAgaWYgKHJlYWQgJiYgdHlwZW9mIHJlYWQuc291cmNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmVhZCA9IHJlYWQuc291cmNlXG4gIH1cblxuICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHMgPSBhcmd1bWVudHNbaV1cbiAgICBpZiAodHlwZW9mIHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlYWQgPSBzKHJlYWQpXG4gICAgfSBlbHNlIGlmIChzICYmIHR5cGVvZiBzID09PSAnb2JqZWN0Jykge1xuICAgICAgcy5zaW5rKHJlYWQpXG4gICAgICByZWFkID0gcy5zb3VyY2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVhZFxufVxuXG5cblxuXG5cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgcmVkdWNlID0gcmVxdWlyZSgnLi9yZWR1Y2UnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbGxlY3QgKGNiKSB7XG4gIHJldHVybiByZWR1Y2UoZnVuY3Rpb24gKGFyciwgaXRlbSkge1xuICAgIGFyci5wdXNoKGl0ZW0pXG4gICAgcmV0dXJuIGFyclxuICB9LCBbXSwgY2IpXG59XG4iLCIndXNlIHN0cmljdCdcblxudmFyIHJlZHVjZSA9IHJlcXVpcmUoJy4vcmVkdWNlJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb25jYXQgKGNiKSB7XG4gIHJldHVybiByZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYSArIGJcbiAgfSwgJycsIGNiKVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZHJhaW4gKG9wLCBkb25lKSB7XG4gIHZhciByZWFkLCBhYm9ydFxuXG4gIGZ1bmN0aW9uIHNpbmsgKF9yZWFkKSB7XG4gICAgcmVhZCA9IF9yZWFkXG4gICAgaWYoYWJvcnQpIHJldHVybiBzaW5rLmFib3J0KClcbiAgICAvL3RoaXMgZnVuY3Rpb24gaXMgbXVjaCBzaW1wbGVyIHRvIHdyaXRlIGlmIHlvdVxuICAgIC8vanVzdCB1c2UgcmVjdXJzaW9uLCBidXQgYnkgdXNpbmcgYSB3aGlsZSBsb29wXG4gICAgLy93ZSBkbyBub3QgYmxvdyB0aGUgc3RhY2sgaWYgdGhlIHN0cmVhbSBoYXBwZW5zIHRvIGJlIHN5bmMuXG4gICAgOyhmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICB2YXIgbG9vcCA9IHRydWUsIGNiZWQgPSBmYWxzZVxuICAgICAgICB3aGlsZShsb29wKSB7XG4gICAgICAgICAgY2JlZCA9IGZhbHNlXG4gICAgICAgICAgcmVhZChudWxsLCBmdW5jdGlvbiAoZW5kLCBkYXRhKSB7XG4gICAgICAgICAgICBjYmVkID0gdHJ1ZVxuICAgICAgICAgICAgaWYoZW5kID0gZW5kIHx8IGFib3J0KSB7XG4gICAgICAgICAgICAgIGxvb3AgPSBmYWxzZVxuICAgICAgICAgICAgICBpZihkb25lKSBkb25lKGVuZCA9PT0gdHJ1ZSA/IG51bGwgOiBlbmQpXG4gICAgICAgICAgICAgIGVsc2UgaWYoZW5kICYmIGVuZCAhPT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBlbmRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYob3AgJiYgZmFsc2UgPT09IG9wKGRhdGEpIHx8IGFib3J0KSB7XG4gICAgICAgICAgICAgIGxvb3AgPSBmYWxzZVxuICAgICAgICAgICAgICByZWFkKGFib3J0IHx8IHRydWUsIGRvbmUgfHwgZnVuY3Rpb24gKCkge30pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKCFsb29wKXtcbiAgICAgICAgICAgICAgbmV4dCgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICBpZighY2JlZCkge1xuICAgICAgICAgICAgbG9vcCA9IGZhbHNlXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pKClcbiAgfVxuXG4gIHNpbmsuYWJvcnQgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICAgIGlmKCdmdW5jdGlvbicgPT0gdHlwZW9mIGVycilcbiAgICAgIGNiID0gZXJyLCBlcnIgPSB0cnVlXG4gICAgYWJvcnQgPSBlcnIgfHwgdHJ1ZVxuICAgIGlmKHJlYWQpIHJldHVybiByZWFkKGFib3J0LCBjYiB8fCBmdW5jdGlvbiAoKSB7fSlcbiAgfVxuXG4gIHJldHVybiBzaW5rXG59XG4iLCIndXNlIHN0cmljdCdcblxuZnVuY3Rpb24gaWQgKGUpIHsgcmV0dXJuIGUgfVxudmFyIHByb3AgPSByZXF1aXJlKCcuLi91dGlsL3Byb3AnKVxudmFyIGRyYWluID0gcmVxdWlyZSgnLi9kcmFpbicpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmluZCAodGVzdCwgY2IpIHtcbiAgdmFyIGVuZGVkID0gZmFsc2VcbiAgaWYoIWNiKVxuICAgIGNiID0gdGVzdCwgdGVzdCA9IGlkXG4gIGVsc2VcbiAgICB0ZXN0ID0gcHJvcCh0ZXN0KSB8fCBpZFxuXG4gIHJldHVybiBkcmFpbihmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmKHRlc3QoZGF0YSkpIHtcbiAgICAgIGVuZGVkID0gdHJ1ZVxuICAgICAgY2IobnVsbCwgZGF0YSlcbiAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZihlbmRlZCkgcmV0dXJuIC8vYWxyZWFkeSBjYWxsZWQgYmFja1xuICAgIGNiKGVyciA9PT0gdHJ1ZSA/IG51bGwgOiBlcnIsIG51bGwpXG4gIH0pXG59XG5cblxuXG5cbiIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZHJhaW46IHJlcXVpcmUoJy4vZHJhaW4nKSxcbiAgb25FbmQ6IHJlcXVpcmUoJy4vb24tZW5kJyksXG4gIGxvZzogcmVxdWlyZSgnLi9sb2cnKSxcbiAgZmluZDogcmVxdWlyZSgnLi9maW5kJyksXG4gIHJlZHVjZTogcmVxdWlyZSgnLi9yZWR1Y2UnKSxcbiAgY29sbGVjdDogcmVxdWlyZSgnLi9jb2xsZWN0JyksXG4gIGNvbmNhdDogcmVxdWlyZSgnLi9jb25jYXQnKVxufVxuXG4iLCIndXNlIHN0cmljdCdcblxudmFyIGRyYWluID0gcmVxdWlyZSgnLi9kcmFpbicpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbG9nIChkb25lKSB7XG4gIHJldHVybiBkcmFpbihmdW5jdGlvbiAoZGF0YSkge1xuICAgIGNvbnNvbGUubG9nKGRhdGEpXG4gIH0sIGRvbmUpXG59XG4iLCIndXNlIHN0cmljdCdcblxudmFyIGRyYWluID0gcmVxdWlyZSgnLi9kcmFpbicpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gb25FbmQgKGRvbmUpIHtcbiAgcmV0dXJuIGRyYWluKG51bGwsIGRvbmUpXG59XG4iLCIndXNlIHN0cmljdCdcblxudmFyIGRyYWluID0gcmVxdWlyZSgnLi9kcmFpbicpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVkdWNlIChyZWR1Y2VyLCBhY2MsIGNiKSB7XG4gIHJldHVybiBkcmFpbihmdW5jdGlvbiAoZGF0YSkge1xuICAgIGFjYyA9IHJlZHVjZXIoYWNjLCBkYXRhKVxuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgY2IoZXJyLCBhY2MpXG4gIH0pXG59XG5cbiIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvdW50IChtYXgpIHtcbiAgdmFyIGkgPSAwOyBtYXggPSBtYXggfHwgSW5maW5pdHlcbiAgcmV0dXJuIGZ1bmN0aW9uIChlbmQsIGNiKSB7XG4gICAgaWYoZW5kKSByZXR1cm4gY2IgJiYgY2IoZW5kKVxuICAgIGlmKGkgPiBtYXgpXG4gICAgICByZXR1cm4gY2IodHJ1ZSlcbiAgICBjYihudWxsLCBpKyspXG4gIH1cbn1cblxuXG4iLCIndXNlIHN0cmljdCdcbi8vYSBzdHJlYW0gdGhhdCBlbmRzIGltbWVkaWF0ZWx5LlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbXB0eSAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYWJvcnQsIGNiKSB7XG4gICAgY2IodHJ1ZSlcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG4vL2Egc3RyZWFtIHRoYXQgZXJyb3JzIGltbWVkaWF0ZWx5LlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlcnJvciAoZXJyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYWJvcnQsIGNiKSB7XG4gICAgY2IoZXJyKVxuICB9XG59XG5cbiIsIid1c2Ugc3RyaWN0J1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGtleXM6IHJlcXVpcmUoJy4va2V5cycpLFxuICBvbmNlOiByZXF1aXJlKCcuL29uY2UnKSxcbiAgdmFsdWVzOiByZXF1aXJlKCcuL3ZhbHVlcycpLFxuICBjb3VudDogcmVxdWlyZSgnLi9jb3VudCcpLFxuICBpbmZpbml0ZTogcmVxdWlyZSgnLi9pbmZpbml0ZScpLFxuICBlbXB0eTogcmVxdWlyZSgnLi9lbXB0eScpLFxuICBlcnJvcjogcmVxdWlyZSgnLi9lcnJvcicpXG59XG4iLCIndXNlIHN0cmljdCdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5maW5pdGUgKGdlbmVyYXRlKSB7XG4gIGdlbmVyYXRlID0gZ2VuZXJhdGUgfHwgTWF0aC5yYW5kb21cbiAgcmV0dXJuIGZ1bmN0aW9uIChlbmQsIGNiKSB7XG4gICAgaWYoZW5kKSByZXR1cm4gY2IgJiYgY2IoZW5kKVxuICAgIHJldHVybiBjYihudWxsLCBnZW5lcmF0ZSgpKVxuICB9XG59XG5cblxuIiwiJ3VzZSBzdHJpY3QnXG52YXIgdmFsdWVzID0gcmVxdWlyZSgnLi92YWx1ZXMnKVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gIHJldHVybiB2YWx1ZXMoT2JqZWN0LmtleXMob2JqZWN0KSlcbn1cblxuXG4iLCIndXNlIHN0cmljdCdcbnZhciBhYm9ydENiID0gcmVxdWlyZSgnLi4vdXRpbC9hYm9ydC1jYicpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gb25jZSAodmFsdWUsIG9uQWJvcnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhYm9ydCwgY2IpIHtcbiAgICBpZihhYm9ydClcbiAgICAgIHJldHVybiBhYm9ydENiKGNiLCBhYm9ydCwgb25BYm9ydClcbiAgICBpZih2YWx1ZSAhPSBudWxsKSB7XG4gICAgICB2YXIgX3ZhbHVlID0gdmFsdWU7IHZhbHVlID0gbnVsbFxuICAgICAgY2IobnVsbCwgX3ZhbHVlKVxuICAgIH0gZWxzZVxuICAgICAgY2IodHJ1ZSlcbiAgfVxufVxuXG5cbiIsIid1c2Ugc3RyaWN0J1xudmFyIGFib3J0Q2IgPSByZXF1aXJlKCcuLi91dGlsL2Fib3J0LWNiJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB2YWx1ZXMgKGFycmF5LCBvbkFib3J0KSB7XG4gIGlmKCFhcnJheSlcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFib3J0LCBjYikge1xuICAgICAgaWYoYWJvcnQpIHJldHVybiBhYm9ydENiKGNiLCBhYm9ydCwgb25BYm9ydClcbiAgICAgIHJldHVybiBjYih0cnVlKVxuICAgIH1cbiAgaWYoIUFycmF5LmlzQXJyYXkoYXJyYXkpKVxuICAgIGFycmF5ID0gT2JqZWN0LmtleXMoYXJyYXkpLm1hcChmdW5jdGlvbiAoaykge1xuICAgICAgcmV0dXJuIGFycmF5W2tdXG4gICAgfSlcbiAgdmFyIGkgPSAwXG4gIHJldHVybiBmdW5jdGlvbiAoYWJvcnQsIGNiKSB7XG4gICAgaWYoYWJvcnQpXG4gICAgICByZXR1cm4gYWJvcnRDYihjYiwgYWJvcnQsIG9uQWJvcnQpXG4gICAgY2IoaSA+PSBhcnJheS5sZW5ndGggfHwgbnVsbCwgYXJyYXlbaSsrXSlcbiAgfVxufVxuXG4iLCIndXNlIHN0cmljdCdcblxuZnVuY3Rpb24gaWQgKGUpIHsgcmV0dXJuIGUgfVxudmFyIHByb3AgPSByZXF1aXJlKCcuLi91dGlsL3Byb3AnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGFzeW5jTWFwIChtYXApIHtcbiAgaWYoIW1hcCkgcmV0dXJuIGlkXG4gIG1hcCA9IHByb3AobWFwKVxuICB2YXIgYnVzeSA9IGZhbHNlLCBhYm9ydENiLCBhYm9ydGVkXG4gIHJldHVybiBmdW5jdGlvbiAocmVhZCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0IChhYm9ydCwgY2IpIHtcbiAgICAgIGlmKGFib3J0ZWQpIHJldHVybiBjYihhYm9ydGVkKVxuICAgICAgaWYoYWJvcnQpIHtcbiAgICAgICAgYWJvcnRlZCA9IGFib3J0XG4gICAgICAgIGlmKCFidXN5KSByZWFkKGFib3J0LCBjYilcbiAgICAgICAgZWxzZSByZWFkKGFib3J0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy9pZiB3ZSBhcmUgc3RpbGwgYnVzeSwgd2FpdCBmb3IgdGhlIG1hcHBlciB0byBjb21wbGV0ZS5cbiAgICAgICAgICBpZihidXN5KSBhYm9ydENiID0gY2JcbiAgICAgICAgICBlbHNlIGNiKGFib3J0KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAgICByZWFkKG51bGwsIGZ1bmN0aW9uIChlbmQsIGRhdGEpIHtcbiAgICAgICAgICBpZihlbmQpIGNiKGVuZClcbiAgICAgICAgICBlbHNlIGlmKGFib3J0ZWQpIGNiKGFib3J0ZWQpXG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBidXN5ID0gdHJ1ZVxuICAgICAgICAgICAgbWFwKGRhdGEsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgICAgYnVzeSA9IGZhbHNlXG4gICAgICAgICAgICAgIGlmKGFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICBjYihhYm9ydGVkKVxuICAgICAgICAgICAgICAgIGFib3J0Q2IoYWJvcnRlZClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmKGVycikgbmV4dCAoZXJyLCBjYilcbiAgICAgICAgICAgICAgZWxzZSBjYihudWxsLCBkYXRhKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuICB9XG59XG5cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciB0ZXN0ZXIgPSByZXF1aXJlKCcuLi91dGlsL3Rlc3RlcicpXG52YXIgZmlsdGVyID0gcmVxdWlyZSgnLi9maWx0ZXInKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZpbHRlck5vdCAodGVzdCkge1xuICB0ZXN0ID0gdGVzdGVyKHRlc3QpXG4gIHJldHVybiBmaWx0ZXIoZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuICF0ZXN0KGRhdGEpIH0pXG59XG4iLCIndXNlIHN0cmljdCdcblxudmFyIHRlc3RlciA9IHJlcXVpcmUoJy4uL3V0aWwvdGVzdGVyJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmaWx0ZXIgKHRlc3QpIHtcbiAgLy9yZWdleHBcbiAgdGVzdCA9IHRlc3Rlcih0ZXN0KVxuICByZXR1cm4gZnVuY3Rpb24gKHJlYWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCAoZW5kLCBjYikge1xuICAgICAgdmFyIHN5bmMsIGxvb3AgPSB0cnVlXG4gICAgICB3aGlsZShsb29wKSB7XG4gICAgICAgIGxvb3AgPSBmYWxzZVxuICAgICAgICBzeW5jID0gdHJ1ZVxuICAgICAgICByZWFkKGVuZCwgZnVuY3Rpb24gKGVuZCwgZGF0YSkge1xuICAgICAgICAgIGlmKCFlbmQgJiYgIXRlc3QoZGF0YSkpXG4gICAgICAgICAgICByZXR1cm4gc3luYyA/IGxvb3AgPSB0cnVlIDogbmV4dChlbmQsIGNiKVxuICAgICAgICAgIGNiKGVuZCwgZGF0YSlcbiAgICAgICAgfSlcbiAgICAgICAgc3luYyA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgdmFsdWVzID0gcmVxdWlyZSgnLi4vc291cmNlcy92YWx1ZXMnKVxudmFyIG9uY2UgPSByZXF1aXJlKCcuLi9zb3VyY2VzL29uY2UnKVxuXG4vL2NvbnZlcnQgYSBzdHJlYW0gb2YgYXJyYXlzIG9yIHN0cmVhbXMgaW50byBqdXN0IGEgc3RyZWFtLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmbGF0dGVuICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZWFkKSB7XG4gICAgdmFyIF9yZWFkXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhYm9ydCwgY2IpIHtcbiAgICAgIGlmIChhYm9ydCkgeyAvL2Fib3J0IHRoZSBjdXJyZW50IHN0cmVhbSwgYW5kIHRoZW4gc3RyZWFtIG9mIHN0cmVhbXMuXG4gICAgICAgIF9yZWFkID8gX3JlYWQoYWJvcnQsIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIHJlYWQoZXJyIHx8IGFib3J0LCBjYilcbiAgICAgICAgfSkgOiByZWFkKGFib3J0LCBjYilcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYoX3JlYWQpIG5leHRDaHVuaygpXG4gICAgICBlbHNlIG5leHRTdHJlYW0oKVxuXG4gICAgICBmdW5jdGlvbiBuZXh0Q2h1bmsgKCkge1xuICAgICAgICBfcmVhZChudWxsLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgaWYgKGVyciA9PT0gdHJ1ZSkgbmV4dFN0cmVhbSgpXG4gICAgICAgICAgZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZWFkKHRydWUsIGZ1bmN0aW9uKGFib3J0RXJyKSB7XG4gICAgICAgICAgICAgIC8vIFRPRE86IHdoYXQgZG8gd2UgZG8gd2l0aCB0aGUgYWJvcnRFcnI/XG4gICAgICAgICAgICAgIGNiKGVycilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgY2IobnVsbCwgZGF0YSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIG5leHRTdHJlYW0gKCkge1xuICAgICAgICBfcmVhZCA9IG51bGxcbiAgICAgICAgcmVhZChudWxsLCBmdW5jdGlvbiAoZW5kLCBzdHJlYW0pIHtcbiAgICAgICAgICBpZihlbmQpXG4gICAgICAgICAgICByZXR1cm4gY2IoZW5kKVxuICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkoc3RyZWFtKSB8fCBzdHJlYW0gJiYgJ29iamVjdCcgPT09IHR5cGVvZiBzdHJlYW0pXG4gICAgICAgICAgICBzdHJlYW0gPSB2YWx1ZXMoc3RyZWFtKVxuICAgICAgICAgIGVsc2UgaWYoJ2Z1bmN0aW9uJyAhPSB0eXBlb2Ygc3RyZWFtKVxuICAgICAgICAgICAgc3RyZWFtID0gb25jZShzdHJlYW0pXG4gICAgICAgICAgX3JlYWQgPSBzdHJlYW1cbiAgICAgICAgICBuZXh0Q2h1bmsoKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIG1hcDogcmVxdWlyZSgnLi9tYXAnKSxcbiAgYXN5bmNNYXA6IHJlcXVpcmUoJy4vYXN5bmMtbWFwJyksXG4gIGZpbHRlcjogcmVxdWlyZSgnLi9maWx0ZXInKSxcbiAgZmlsdGVyTm90OiByZXF1aXJlKCcuL2ZpbHRlci1ub3QnKSxcbiAgdGhyb3VnaDogcmVxdWlyZSgnLi90aHJvdWdoJyksXG4gIHRha2U6IHJlcXVpcmUoJy4vdGFrZScpLFxuICB1bmlxdWU6IHJlcXVpcmUoJy4vdW5pcXVlJyksXG4gIG5vblVuaXF1ZTogcmVxdWlyZSgnLi9ub24tdW5pcXVlJyksXG4gIGZsYXR0ZW46IHJlcXVpcmUoJy4vZmxhdHRlbicpXG59XG5cblxuXG4iLCIndXNlIHN0cmljdCdcblxuZnVuY3Rpb24gaWQgKGUpIHsgcmV0dXJuIGUgfVxudmFyIHByb3AgPSByZXF1aXJlKCcuLi91dGlsL3Byb3AnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hcCAobWFwcGVyKSB7XG4gIGlmKCFtYXBwZXIpIHJldHVybiBpZFxuICBtYXBwZXIgPSBwcm9wKG1hcHBlcilcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZWFkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhYm9ydCwgY2IpIHtcbiAgICAgIHJlYWQoYWJvcnQsIGZ1bmN0aW9uIChlbmQsIGRhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9ICFlbmQgPyBtYXBwZXIoZGF0YSkgOiBudWxsXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHJldHVybiByZWFkKGVyciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNiKGVycilcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGNiKGVuZCwgZGF0YSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxudmFyIHVuaXF1ZSA9IHJlcXVpcmUoJy4vdW5pcXVlJylcblxuLy9wYXNzZXMgYW4gaXRlbSB0aHJvdWdoIHdoZW4geW91IHNlZSBpdCBmb3IgdGhlIHNlY29uZCB0aW1lLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub25VbmlxdWUgKGZpZWxkKSB7XG4gIHJldHVybiB1bmlxdWUoZmllbGQsIHRydWUpXG59XG4iLCIndXNlIHN0cmljdCdcblxuLy9yZWFkIGEgbnVtYmVyIG9mIGl0ZW1zIGFuZCB0aGVuIHN0b3AuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRha2UgKHRlc3QsIG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge31cbiAgdmFyIGxhc3QgPSBvcHRzLmxhc3QgfHwgZmFsc2UgLy8gd2hldGhlciB0aGUgZmlyc3QgaXRlbSBmb3Igd2hpY2ggIXRlc3QoaXRlbSkgc2hvdWxkIHN0aWxsIHBhc3NcbiAgdmFyIGVuZGVkID0gZmFsc2VcbiAgaWYoJ251bWJlcicgPT09IHR5cGVvZiB0ZXN0KSB7XG4gICAgbGFzdCA9IHRydWVcbiAgICB2YXIgbiA9IHRlc3Q7IHRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gLS1uXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChyZWFkKSB7XG5cbiAgICBmdW5jdGlvbiB0ZXJtaW5hdGUgKGNiKSB7XG4gICAgICByZWFkKHRydWUsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgbGFzdCA9IGZhbHNlOyBjYihlcnIgfHwgdHJ1ZSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlbmQsIGNiKSB7XG4gICAgICBpZihlbmRlZCkgICAgICAgICAgICBsYXN0ID8gdGVybWluYXRlKGNiKSA6IGNiKGVuZGVkKVxuICAgICAgZWxzZSBpZihlbmRlZCA9IGVuZCkgcmVhZChlbmRlZCwgY2IpXG4gICAgICBlbHNlXG4gICAgICAgIHJlYWQobnVsbCwgZnVuY3Rpb24gKGVuZCwgZGF0YSkge1xuICAgICAgICAgIGlmKGVuZGVkID0gZW5kZWQgfHwgZW5kKSB7XG4gICAgICAgICAgICAvL2xhc3QgPyB0ZXJtaW5hdGUoY2IpIDpcbiAgICAgICAgICAgIGNiKGVuZGVkKVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKCF0ZXN0KGRhdGEpKSB7XG4gICAgICAgICAgICBlbmRlZCA9IHRydWVcbiAgICAgICAgICAgIGxhc3QgPyBjYihudWxsLCBkYXRhKSA6IHRlcm1pbmF0ZShjYilcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgY2IobnVsbCwgZGF0YSlcbiAgICAgICAgfSlcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG4vL2EgcGFzcyB0aHJvdWdoIHN0cmVhbSB0aGF0IGRvZXNuJ3QgY2hhbmdlIHRoZSB2YWx1ZS5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGhyb3VnaCAob3AsIG9uRW5kKSB7XG4gIHZhciBhID0gZmFsc2VcblxuICBmdW5jdGlvbiBvbmNlIChhYm9ydCkge1xuICAgIGlmKGEgfHwgIW9uRW5kKSByZXR1cm5cbiAgICBhID0gdHJ1ZVxuICAgIG9uRW5kKGFib3J0ID09PSB0cnVlID8gbnVsbCA6IGFib3J0KVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChyZWFkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlbmQsIGNiKSB7XG4gICAgICBpZihlbmQpIG9uY2UoZW5kKVxuICAgICAgcmV0dXJuIHJlYWQoZW5kLCBmdW5jdGlvbiAoZW5kLCBkYXRhKSB7XG4gICAgICAgIGlmKCFlbmQpIG9wICYmIG9wKGRhdGEpXG4gICAgICAgIGVsc2Ugb25jZShlbmQpXG4gICAgICAgIGNiKGVuZCwgZGF0YSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxuZnVuY3Rpb24gaWQgKGUpIHsgcmV0dXJuIGUgfVxudmFyIHByb3AgPSByZXF1aXJlKCcuLi91dGlsL3Byb3AnKVxudmFyIGZpbHRlciA9IHJlcXVpcmUoJy4vZmlsdGVyJylcblxuLy9kcm9wIGl0ZW1zIHlvdSBoYXZlIGFscmVhZHkgc2Vlbi5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdW5pcXVlIChmaWVsZCwgaW52ZXJ0KSB7XG4gIGZpZWxkID0gcHJvcChmaWVsZCkgfHwgaWRcbiAgdmFyIHNlZW4gPSB7fVxuICByZXR1cm4gZmlsdGVyKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGtleSA9IGZpZWxkKGRhdGEpXG4gICAgaWYoc2VlbltrZXldKSByZXR1cm4gISFpbnZlcnQgLy9mYWxzZSwgYnkgZGVmYXVsdFxuICAgIGVsc2Ugc2VlbltrZXldID0gdHJ1ZVxuICAgIHJldHVybiAhaW52ZXJ0IC8vdHJ1ZSBieSBkZWZhdWx0XG4gIH0pXG59XG5cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYWJvcnRDYihjYiwgYWJvcnQsIG9uQWJvcnQpIHtcbiAgY2IoYWJvcnQpXG4gIG9uQWJvcnQgJiYgb25BYm9ydChhYm9ydCA9PT0gdHJ1ZSA/IG51bGw6IGFib3J0KVxuICByZXR1cm5cbn1cblxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwcm9wIChrZXkpIHtcbiAgcmV0dXJuIGtleSAmJiAoXG4gICAgJ3N0cmluZycgPT0gdHlwZW9mIGtleVxuICAgID8gZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGRhdGFba2V5XSB9XG4gICAgOiAnb2JqZWN0JyA9PT0gdHlwZW9mIGtleSAmJiAnZnVuY3Rpb24nID09PSB0eXBlb2Yga2V5LmV4ZWMgLy9yZWdleHBcbiAgICA/IGZ1bmN0aW9uIChkYXRhKSB7IHZhciB2ID0ga2V5LmV4ZWMoZGF0YSk7IHJldHVybiB2ICYmIHZbMF0gfVxuICAgIDoga2V5XG4gIClcbn1cbiIsInZhciBwcm9wID0gcmVxdWlyZSgnLi9wcm9wJylcblxuZnVuY3Rpb24gaWQgKGUpIHsgcmV0dXJuIGUgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRlc3RlciAodGVzdCkge1xuICByZXR1cm4gKFxuICAgICdvYmplY3QnID09PSB0eXBlb2YgdGVzdCAmJiAnZnVuY3Rpb24nID09PSB0eXBlb2YgdGVzdC50ZXN0IC8vcmVnZXhwXG4gICAgPyBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gdGVzdC50ZXN0KGRhdGEpIH1cbiAgICA6IHByb3AgKHRlc3QpIHx8IGlkXG4gIClcbn1cbiIsIlxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gdHJpbTtcblxuZnVuY3Rpb24gdHJpbShzdHIpe1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMqfFxccyokL2csICcnKTtcbn1cblxuZXhwb3J0cy5sZWZ0ID0gZnVuY3Rpb24oc3RyKXtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKTtcbn07XG5cbmV4cG9ydHMucmlnaHQgPSBmdW5jdGlvbihzdHIpe1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xccyokLywgJycpO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIHdpbmRvdyA9IHJlcXVpcmUoXCJnbG9iYWwvd2luZG93XCIpXG52YXIgb25jZSA9IHJlcXVpcmUoXCJvbmNlXCIpXG52YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoXCJpcy1mdW5jdGlvblwiKVxudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoXCJwYXJzZS1oZWFkZXJzXCIpXG52YXIgeHRlbmQgPSByZXF1aXJlKFwieHRlbmRcIilcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVYSFJcbmNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCA9IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCB8fCBub29wXG5jcmVhdGVYSFIuWERvbWFpblJlcXVlc3QgPSBcIndpdGhDcmVkZW50aWFsc1wiIGluIChuZXcgY3JlYXRlWEhSLlhNTEh0dHBSZXF1ZXN0KCkpID8gY3JlYXRlWEhSLlhNTEh0dHBSZXF1ZXN0IDogd2luZG93LlhEb21haW5SZXF1ZXN0XG5cbmZvckVhY2hBcnJheShbXCJnZXRcIiwgXCJwdXRcIiwgXCJwb3N0XCIsIFwicGF0Y2hcIiwgXCJoZWFkXCIsIFwiZGVsZXRlXCJdLCBmdW5jdGlvbihtZXRob2QpIHtcbiAgICBjcmVhdGVYSFJbbWV0aG9kID09PSBcImRlbGV0ZVwiID8gXCJkZWxcIiA6IG1ldGhvZF0gPSBmdW5jdGlvbih1cmksIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIG9wdGlvbnMgPSBpbml0UGFyYW1zKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spXG4gICAgICAgIG9wdGlvbnMubWV0aG9kID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcbiAgICAgICAgcmV0dXJuIF9jcmVhdGVYSFIob3B0aW9ucylcbiAgICB9XG59KVxuXG5mdW5jdGlvbiBmb3JFYWNoQXJyYXkoYXJyYXksIGl0ZXJhdG9yKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRvcihhcnJheVtpXSlcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzRW1wdHkob2JqKXtcbiAgICBmb3IodmFyIGkgaW4gb2JqKXtcbiAgICAgICAgaWYob2JqLmhhc093blByb3BlcnR5KGkpKSByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gaW5pdFBhcmFtcyh1cmksIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHBhcmFtcyA9IHVyaVxuXG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zXG4gICAgICAgIGlmICh0eXBlb2YgdXJpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSB7dXJpOnVyaX1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmFtcyA9IHh0ZW5kKG9wdGlvbnMsIHt1cmk6IHVyaX0pXG4gICAgfVxuXG4gICAgcGFyYW1zLmNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICByZXR1cm4gcGFyYW1zXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVhIUih1cmksIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgb3B0aW9ucyA9IGluaXRQYXJhbXModXJpLCBvcHRpb25zLCBjYWxsYmFjaylcbiAgICByZXR1cm4gX2NyZWF0ZVhIUihvcHRpb25zKVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlWEhSKG9wdGlvbnMpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrXG4gICAgaWYodHlwZW9mIGNhbGxiYWNrID09PSBcInVuZGVmaW5lZFwiKXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FsbGJhY2sgYXJndW1lbnQgbWlzc2luZ1wiKVxuICAgIH1cbiAgICBjYWxsYmFjayA9IG9uY2UoY2FsbGJhY2spXG5cbiAgICBmdW5jdGlvbiByZWFkeXN0YXRlY2hhbmdlKCkge1xuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgIGxvYWRGdW5jKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEJvZHkoKSB7XG4gICAgICAgIC8vIENocm9tZSB3aXRoIHJlcXVlc3RUeXBlPWJsb2IgdGhyb3dzIGVycm9ycyBhcnJvdW5kIHdoZW4gZXZlbiB0ZXN0aW5nIGFjY2VzcyB0byByZXNwb25zZVRleHRcbiAgICAgICAgdmFyIGJvZHkgPSB1bmRlZmluZWRcblxuICAgICAgICBpZiAoeGhyLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICBib2R5ID0geGhyLnJlc3BvbnNlXG4gICAgICAgIH0gZWxzZSBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gXCJ0ZXh0XCIgfHwgIXhoci5yZXNwb25zZVR5cGUpIHtcbiAgICAgICAgICAgIGJvZHkgPSB4aHIucmVzcG9uc2VUZXh0IHx8IHhoci5yZXNwb25zZVhNTFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSnNvbikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBib2R5ID0gSlNPTi5wYXJzZShib2R5KVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib2R5XG4gICAgfVxuXG4gICAgdmFyIGZhaWx1cmVSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBib2R5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogMCxcbiAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICB1cmw6IHVyaSxcbiAgICAgICAgICAgICAgICByYXdSZXF1ZXN0OiB4aHJcbiAgICAgICAgICAgIH1cblxuICAgIGZ1bmN0aW9uIGVycm9yRnVuYyhldnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRUaW1lcilcbiAgICAgICAgaWYoIShldnQgaW5zdGFuY2VvZiBFcnJvcikpe1xuICAgICAgICAgICAgZXZ0ID0gbmV3IEVycm9yKFwiXCIgKyAoZXZ0IHx8IFwiVW5rbm93biBYTUxIdHRwUmVxdWVzdCBFcnJvclwiKSApXG4gICAgICAgIH1cbiAgICAgICAgZXZ0LnN0YXR1c0NvZGUgPSAwXG4gICAgICAgIGNhbGxiYWNrKGV2dCwgZmFpbHVyZVJlc3BvbnNlKVxuICAgIH1cblxuICAgIC8vIHdpbGwgbG9hZCB0aGUgZGF0YSAmIHByb2Nlc3MgdGhlIHJlc3BvbnNlIGluIGEgc3BlY2lhbCByZXNwb25zZSBvYmplY3RcbiAgICBmdW5jdGlvbiBsb2FkRnVuYygpIHtcbiAgICAgICAgaWYgKGFib3J0ZWQpIHJldHVyblxuICAgICAgICB2YXIgc3RhdHVzXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0VGltZXIpXG4gICAgICAgIGlmKG9wdGlvbnMudXNlWERSICYmIHhoci5zdGF0dXM9PT11bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vSUU4IENPUlMgR0VUIHN1Y2Nlc3NmdWwgcmVzcG9uc2UgZG9lc24ndCBoYXZlIGEgc3RhdHVzIGZpZWxkLCBidXQgYm9keSBpcyBmaW5lXG4gICAgICAgICAgICBzdGF0dXMgPSAyMDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXR1cyA9ICh4aHIuc3RhdHVzID09PSAxMjIzID8gMjA0IDogeGhyLnN0YXR1cylcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSBmYWlsdXJlUmVzcG9uc2VcbiAgICAgICAgdmFyIGVyciA9IG51bGxcblxuICAgICAgICBpZiAoc3RhdHVzICE9PSAwKXtcbiAgICAgICAgICAgIHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGJvZHk6IGdldEJvZHkoKSxcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXMsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgICAgICAgICAgdXJsOiB1cmksXG4gICAgICAgICAgICAgICAgcmF3UmVxdWVzdDogeGhyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKXsgLy9yZW1lbWJlciB4aHIgY2FuIGluIGZhY3QgYmUgWERSIGZvciBDT1JTIGluIElFXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycyA9IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoXCJJbnRlcm5hbCBYTUxIdHRwUmVxdWVzdCBFcnJvclwiKVxuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKGVyciwgcmVzcG9uc2UsIHJlc3BvbnNlLmJvZHkpXG5cbiAgICB9XG5cbiAgICB2YXIgeGhyID0gb3B0aW9ucy54aHIgfHwgbnVsbFxuXG4gICAgaWYgKCF4aHIpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29ycyB8fCBvcHRpb25zLnVzZVhEUikge1xuICAgICAgICAgICAgeGhyID0gbmV3IGNyZWF0ZVhIUi5YRG9tYWluUmVxdWVzdCgpXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgeGhyID0gbmV3IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIga2V5XG4gICAgdmFyIGFib3J0ZWRcbiAgICB2YXIgdXJpID0geGhyLnVybCA9IG9wdGlvbnMudXJpIHx8IG9wdGlvbnMudXJsXG4gICAgdmFyIG1ldGhvZCA9IHhoci5tZXRob2QgPSBvcHRpb25zLm1ldGhvZCB8fCBcIkdFVFwiXG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHkgfHwgb3B0aW9ucy5kYXRhIHx8IG51bGxcbiAgICB2YXIgaGVhZGVycyA9IHhoci5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9XG4gICAgdmFyIHN5bmMgPSAhIW9wdGlvbnMuc3luY1xuICAgIHZhciBpc0pzb24gPSBmYWxzZVxuICAgIHZhciB0aW1lb3V0VGltZXJcblxuICAgIGlmIChcImpzb25cIiBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlzSnNvbiA9IHRydWVcbiAgICAgICAgaGVhZGVyc1tcImFjY2VwdFwiXSB8fCBoZWFkZXJzW1wiQWNjZXB0XCJdIHx8IChoZWFkZXJzW1wiQWNjZXB0XCJdID0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIC8vRG9uJ3Qgb3ZlcnJpZGUgZXhpc3RpbmcgYWNjZXB0IGhlYWRlciBkZWNsYXJlZCBieSB1c2VyXG4gICAgICAgIGlmIChtZXRob2QgIT09IFwiR0VUXCIgJiYgbWV0aG9kICE9PSBcIkhFQURcIikge1xuICAgICAgICAgICAgaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSB8fCBoZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdIHx8IChoZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIC8vRG9uJ3Qgb3ZlcnJpZGUgZXhpc3RpbmcgYWNjZXB0IGhlYWRlciBkZWNsYXJlZCBieSB1c2VyXG4gICAgICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5qc29uKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHJlYWR5c3RhdGVjaGFuZ2VcbiAgICB4aHIub25sb2FkID0gbG9hZEZ1bmNcbiAgICB4aHIub25lcnJvciA9IGVycm9yRnVuY1xuICAgIC8vIElFOSBtdXN0IGhhdmUgb25wcm9ncmVzcyBiZSBzZXQgdG8gYSB1bmlxdWUgZnVuY3Rpb24uXG4gICAgeGhyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIElFIG11c3QgZGllXG4gICAgfVxuICAgIHhoci5vbnRpbWVvdXQgPSBlcnJvckZ1bmNcbiAgICB4aHIub3BlbihtZXRob2QsIHVyaSwgIXN5bmMsIG9wdGlvbnMudXNlcm5hbWUsIG9wdGlvbnMucGFzc3dvcmQpXG4gICAgLy9oYXMgdG8gYmUgYWZ0ZXIgb3BlblxuICAgIGlmKCFzeW5jKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSAhIW9wdGlvbnMud2l0aENyZWRlbnRpYWxzXG4gICAgfVxuICAgIC8vIENhbm5vdCBzZXQgdGltZW91dCB3aXRoIHN5bmMgcmVxdWVzdFxuICAgIC8vIG5vdCBzZXR0aW5nIHRpbWVvdXQgb24gdGhlIHhociBvYmplY3QsIGJlY2F1c2Ugb2Ygb2xkIHdlYmtpdHMgZXRjLiBub3QgaGFuZGxpbmcgdGhhdCBjb3JyZWN0bHlcbiAgICAvLyBib3RoIG5wbSdzIHJlcXVlc3QgYW5kIGpxdWVyeSAxLnggdXNlIHRoaXMga2luZCBvZiB0aW1lb3V0LCBzbyB0aGlzIGlzIGJlaW5nIGNvbnNpc3RlbnRcbiAgICBpZiAoIXN5bmMgJiYgb3B0aW9ucy50aW1lb3V0ID4gMCApIHtcbiAgICAgICAgdGltZW91dFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgYWJvcnRlZD10cnVlLy9JRTkgbWF5IHN0aWxsIGNhbGwgcmVhZHlzdGF0ZWNoYW5nZVxuICAgICAgICAgICAgeGhyLmFib3J0KFwidGltZW91dFwiKVxuICAgICAgICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoXCJYTUxIdHRwUmVxdWVzdCB0aW1lb3V0XCIpXG4gICAgICAgICAgICBlLmNvZGUgPSBcIkVUSU1FRE9VVFwiXG4gICAgICAgICAgICBlcnJvckZ1bmMoZSlcbiAgICAgICAgfSwgb3B0aW9ucy50aW1lb3V0IClcbiAgICB9XG5cbiAgICBpZiAoeGhyLnNldFJlcXVlc3RIZWFkZXIpIHtcbiAgICAgICAgZm9yKGtleSBpbiBoZWFkZXJzKXtcbiAgICAgICAgICAgIGlmKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSl7XG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaGVhZGVycyAmJiAhaXNFbXB0eShvcHRpb25zLmhlYWRlcnMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkhlYWRlcnMgY2Fubm90IGJlIHNldCBvbiBhbiBYRG9tYWluUmVxdWVzdCBvYmplY3RcIilcbiAgICB9XG5cbiAgICBpZiAoXCJyZXNwb25zZVR5cGVcIiBpbiBvcHRpb25zKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBvcHRpb25zLnJlc3BvbnNlVHlwZVxuICAgIH1cblxuICAgIGlmIChcImJlZm9yZVNlbmRcIiBpbiBvcHRpb25zICYmXG4gICAgICAgIHR5cGVvZiBvcHRpb25zLmJlZm9yZVNlbmQgPT09IFwiZnVuY3Rpb25cIlxuICAgICkge1xuICAgICAgICBvcHRpb25zLmJlZm9yZVNlbmQoeGhyKVxuICAgIH1cblxuICAgIHhoci5zZW5kKGJvZHkpXG5cbiAgICByZXR1cm4geGhyXG5cblxufVxuXG5mdW5jdGlvbiBub29wKCkge31cbiIsIm1vZHVsZS5leHBvcnRzID0gb25jZVxuXG5vbmNlLnByb3RvID0gb25jZShmdW5jdGlvbiAoKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdW5jdGlvbi5wcm90b3R5cGUsICdvbmNlJywge1xuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gb25jZSh0aGlzKVxuICAgIH0sXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pXG59KVxuXG5mdW5jdGlvbiBvbmNlIChmbikge1xuICB2YXIgY2FsbGVkID0gZmFsc2VcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY2FsbGVkKSByZXR1cm5cbiAgICBjYWxsZWQgPSB0cnVlXG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBleHRlbmRcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gZXh0ZW5kKCkge1xuICAgIHZhciB0YXJnZXQgPSB7fVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXVxuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXRcbn1cbiIsInZhciBiZWwgPSByZXF1aXJlKCdiZWwnKSAvLyB0dXJucyB0ZW1wbGF0ZSB0YWcgaW50byBET00gZWxlbWVudHNcbnZhciBtb3JwaGRvbSA9IHJlcXVpcmUoJ21vcnBoZG9tJykgLy8gZWZmaWNpZW50bHkgZGlmZnMgKyBtb3JwaHMgdHdvIERPTSBlbGVtZW50c1xudmFyIGRlZmF1bHRFdmVudHMgPSByZXF1aXJlKCcuL3VwZGF0ZS1ldmVudHMuanMnKSAvLyBkZWZhdWx0IGV2ZW50cyB0byBiZSBjb3BpZWQgd2hlbiBkb20gZWxlbWVudHMgdXBkYXRlXG5cbm1vZHVsZS5leHBvcnRzID0gYmVsXG5cbi8vIFRPRE8gbW92ZSB0aGlzICsgZGVmYXVsdEV2ZW50cyB0byBhIG5ldyBtb2R1bGUgb25jZSB3ZSByZWNlaXZlIG1vcmUgZmVlZGJhY2tcbm1vZHVsZS5leHBvcnRzLnVwZGF0ZSA9IGZ1bmN0aW9uIChmcm9tTm9kZSwgdG9Ob2RlLCBvcHRzKSB7XG4gIGlmICghb3B0cykgb3B0cyA9IHt9XG4gIGlmIChvcHRzLmV2ZW50cyAhPT0gZmFsc2UpIHtcbiAgICBpZiAoIW9wdHMub25CZWZvcmVNb3JwaEVsKSBvcHRzLm9uQmVmb3JlTW9ycGhFbCA9IGNvcGllclxuICB9XG5cbiAgcmV0dXJuIG1vcnBoZG9tKGZyb21Ob2RlLCB0b05vZGUsIG9wdHMpXG5cbiAgLy8gbW9ycGhkb20gb25seSBjb3BpZXMgYXR0cmlidXRlcy4gd2UgZGVjaWRlZCB3ZSBhbHNvIHdhbnRlZCB0byBjb3B5IGV2ZW50c1xuICAvLyB0aGF0IGNhbiBiZSBzZXQgdmlhIGF0dHJpYnV0ZXNcbiAgZnVuY3Rpb24gY29waWVyIChmLCB0KSB7XG4gICAgLy8gY29weSBldmVudHM6XG4gICAgdmFyIGV2ZW50cyA9IG9wdHMuZXZlbnRzIHx8IGRlZmF1bHRFdmVudHNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGV2ID0gZXZlbnRzW2ldXG4gICAgICBpZiAodFtldl0pIHsgLy8gaWYgbmV3IGVsZW1lbnQgaGFzIGEgd2hpdGVsaXN0ZWQgYXR0cmlidXRlXG4gICAgICAgIGZbZXZdID0gdFtldl0gLy8gdXBkYXRlIGV4aXN0aW5nIGVsZW1lbnRcbiAgICAgIH0gZWxzZSBpZiAoZltldl0pIHsgLy8gaWYgZXhpc3RpbmcgZWxlbWVudCBoYXMgaXQgYW5kIG5ldyBvbmUgZG9lc250XG4gICAgICAgIGZbZXZdID0gdW5kZWZpbmVkIC8vIHJlbW92ZSBpdCBmcm9tIGV4aXN0aW5nIGVsZW1lbnRcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gY29weSB2YWx1ZXMgZm9yIGZvcm0gZWxlbWVudHNcbiAgICBpZiAoKGYubm9kZU5hbWUgPT09ICdJTlBVVCcgJiYgZi50eXBlICE9PSAnZmlsZScpIHx8IGYubm9kZU5hbWUgPT09ICdURVhUQVJFQScgfHwgZi5ub2RlTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgIGlmICh0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSA9PT0gbnVsbCkgdC52YWx1ZSA9IGYudmFsdWVcbiAgICB9XG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gW1xuICAvLyBhdHRyaWJ1dGUgZXZlbnRzIChjYW4gYmUgc2V0IHdpdGggYXR0cmlidXRlcylcbiAgJ29uY2xpY2snLFxuICAnb25kYmxjbGljaycsXG4gICdvbm1vdXNlZG93bicsXG4gICdvbm1vdXNldXAnLFxuICAnb25tb3VzZW92ZXInLFxuICAnb25tb3VzZW1vdmUnLFxuICAnb25tb3VzZW91dCcsXG4gICdvbmRyYWdzdGFydCcsXG4gICdvbmRyYWcnLFxuICAnb25kcmFnZW50ZXInLFxuICAnb25kcmFnbGVhdmUnLFxuICAnb25kcmFnb3ZlcicsXG4gICdvbmRyb3AnLFxuICAnb25kcmFnZW5kJyxcbiAgJ29ua2V5ZG93bicsXG4gICdvbmtleXByZXNzJyxcbiAgJ29ua2V5dXAnLFxuICAnb251bmxvYWQnLFxuICAnb25hYm9ydCcsXG4gICdvbmVycm9yJyxcbiAgJ29ucmVzaXplJyxcbiAgJ29uc2Nyb2xsJyxcbiAgJ29uc2VsZWN0JyxcbiAgJ29uY2hhbmdlJyxcbiAgJ29uc3VibWl0JyxcbiAgJ29ucmVzZXQnLFxuICAnb25mb2N1cycsXG4gICdvbmJsdXInLFxuICAnb25pbnB1dCcsXG4gIC8vIG90aGVyIGNvbW1vbiBldmVudHNcbiAgJ29uY29udGV4dG1lbnUnLFxuICAnb25mb2N1c2luJyxcbiAgJ29uZm9jdXNvdXQnXG5dXG4iXX0=
