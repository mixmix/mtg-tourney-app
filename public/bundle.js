(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_templateObject=_taggedTemplateLiteral(["\n      <div class='main'>\n        <h1>MTG table</h1>\n        <button \n          class=\"refresh ",'"\n          onclick=','\n        >\n          <i class="fa fa-refresh ',"\" aria-hidden=\"true\"></i>\n        </button>\n        <input \n          type='text'\n          placeholder='filter'\n          oninput=",'\n        />\n\n        <table class="u-full-width">\n          <tbody>\n            ',"\n\n          </tbody>\n        </table>       \n      </div>\n    "],["\n      <div class='main'>\n        <h1>MTG table</h1>\n        <button \n          class=\"refresh ",'"\n          onclick=','\n        >\n          <i class="fa fa-refresh ',"\" aria-hidden=\"true\"></i>\n        </button>\n        <input \n          type='text'\n          placeholder='filter'\n          oninput=",'\n        />\n\n        <table class="u-full-width">\n          <tbody>\n            ',"\n\n          </tbody>\n        </table>       \n      </div>\n    "]),_templateObject2=_taggedTemplateLiteral(["\n              <tr>\n                "," \n              </tr>\n            "],["\n              <tr>\n                "," \n              </tr>\n            "]),_templateObject3=_taggedTemplateLiteral(["<td>","</td>"],["<td>","</td>"]),_inu=require("inu"),_yoYo=require("yo-yo"),_yoYo2=_interopRequireDefault(_yoYo),_pullDefer=require("pull-defer"),_pullDefer2=_interopRequireDefault(_pullDefer),_xhr=require("xhr"),_xhr2=_interopRequireDefault(_xhr),INITIAL_MODEL={refreshing:!1,pairings:[],filter:void 0,visibleColumns:["Table","Player","Team","Points","Points-"]},FETCH_PAIRINGS="FETCH_PAIRINGS",REFRESH_PAIRINGS="REFRESH_PAIRINGS",UPDATE_PAIRINGS="UPDATE_PAIRINGS",ADD_FILTER="ADD_FILTER",App={init:function(){return{model:INITIAL_MODEL,effect:{type:FETCH_PAIRINGS}}},update:function(e,t){switch(t.type){case REFRESH_PAIRINGS:return{model:Object.assign({},e,{refreshing:!0}),effect:{type:FETCH_PAIRINGS}};case UPDATE_PAIRINGS:var n=Object.assign({},e,{refreshing:!1});return n.pairings=t.pairings,{model:n};case ADD_FILTER:var r=t.filter?new RegExp(t.filter.split("").join(".*"),"i"):void 0;return{model:Object.assign({},e,{filter:r})};default:return{model:e}}},view:function(e,t){var n=e.filter?e.pairings.filter(function(t){return t.Player.match(e.filter)}):e.pairings,r=Object.keys(n[0]||[]),i=e.visibleColumns.filter(function(e){return r.indexOf(e)>-1});return(0,_yoYo2["default"])(_templateObject,e.refreshing?"button-primary":"",function(){return t({type:REFRESH_PAIRINGS})},e.refreshing?"fa-spin":"",function(e){return t({type:ADD_FILTER,filter:e.target.value})},n.map(function(e){return(0,_yoYo2["default"])(_templateObject2,i.map(function(t){return(0,_yoYo2["default"])(_templateObject3,e[t])}))}))},run:function(e){var t=function(){switch(e.type){case FETCH_PAIRINGS:var t=_pullDefer2["default"].source();return _xhr2["default"].get("/data",function(e,n){e&&console.log(e);var r=JSON.parse(n.body),i=r.pairings;console.log(JSON.stringify(r,null,2)),t.resolve(_inu.pull.values([{type:UPDATE_PAIRINGS,pairings:i}]))}),{v:t};default:console.log("some unmatched effect",e)}}();if("object"===("undefined"==typeof t?"undefined":_typeof(t)))return t.v}};exports["default"]=App;

},{"inu":12,"pull-defer":22,"xhr":60,"yo-yo":62}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var _inu=require("inu"),_yoYo=require("yo-yo"),_yoYo2=_interopRequireDefault(_yoYo),_App=require("./App"),_App2=_interopRequireDefault(_App),_start=(0,_inu.start)(_App2["default"]),views=_start.views,main=document.querySelector(".main");(0,_inu.pull)(views(),_inu.pull.drain(function(e){_yoYo2["default"].update(main,e)}));

},{"./App":1,"inu":12,"yo-yo":62}],3:[function(require,module,exports){
function belCreateElement(e,t,a){function n(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var a=e[t];if(Array.isArray(a))n(a);else{if(("number"==typeof a||"boolean"==typeof a||a instanceof Date||a instanceof RegExp)&&(a=a.toString()),"string"==typeof a){if(o.lastChild&&"#text"===o.lastChild.nodeName){o.lastChild.nodeValue+=a;continue}a=document.createTextNode(a)}a&&a.nodeType&&o.appendChild(a)}}}var o;SVG_TAGS.indexOf(e)!==-1&&(t.namespace=SVGNS);var l=!1;if(t.namespace&&(l=t.namespace,delete t.namespace),o=l?document.createElementNS(l,e):document.createElement(e),t.onload||t.onunload){var r=t.onload||function(){},i=t.onunload||function(){};onload(o,function(){r(o)},function(){i(o)},belCreateElement.caller.caller.caller),delete t.onload,delete t.onunload}for(var f in t)if(t.hasOwnProperty(f)){var c=f.toLowerCase(),s=t[f];if("classname"===c&&(c="class",f="class"),"htmlFor"===f&&(f="for"),BOOL_PROPS[c])if("true"===s)s=c;else if("false"===s)continue;"on"===c.slice(0,2)?o[f]=s:l?o.setAttributeNS(null,f,s):o.setAttribute(f,s)}return n(a),o}var document=require("global/document"),hyperx=require("hyperx"),onload=require("on-load"),SVGNS="http://www.w3.org/2000/svg",BOOL_PROPS={autofocus:1,checked:1,defaultchecked:1,disabled:1,formnovalidate:1,indeterminate:1,readonly:1,required:1,selected:1,willvalidate:1},SVG_TAGS=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"];module.exports=hyperx(belCreateElement),module.exports.createElement=belCreateElement;

},{"global/document":7,"hyperx":10,"on-load":17}],4:[function(require,module,exports){

},{}],5:[function(require,module,exports){
module.exports=function(){for(var o=0;o<arguments.length;o++)if(void 0!==arguments[o])return arguments[o]};

},{}],6:[function(require,module,exports){
function forEach(r,t,o){if(!isFunction(t))throw new TypeError("iterator must be a function");arguments.length<3&&(o=this),"[object Array]"===toString.call(r)?forEachArray(r,t,o):"string"==typeof r?forEachString(r,t,o):forEachObject(r,t,o)}function forEachArray(r,t,o){for(var n=0,a=r.length;n<a;n++)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}function forEachString(r,t,o){for(var n=0,a=r.length;n<a;n++)t.call(o,r.charAt(n),n,r)}function forEachObject(r,t,o){for(var n in r)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}var isFunction=require("is-function");module.exports=forEach;var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty;

},{"is-function":15}],7:[function(require,module,exports){
(function (global){
var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=require("min-document");if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"min-document":4}],8:[function(require,module,exports){
(function (global){
"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],9:[function(require,module,exports){
function attributeToProperty(r){return function(t,o,e){for(var n in o)n in transform&&(o[transform[n]]=o[n],delete o[n]);return r(t,o,e)}}module.exports=attributeToProperty;var transform={"class":"className","for":"htmlFor","http-equiv":"httpEquiv"};

},{}],10:[function(require,module,exports){
function quot(T){return T===ATTR_VALUE_SQ||T===ATTR_VALUE_DQ}function has(T,e){return hasOwn.call(T,e)}function selfClosing(T){return closeRE.test(T)}var attrToProp=require("hyperscript-attribute-to-property"),VAR=0,TEXT=1,OPEN=2,CLOSE=3,ATTR=4,ATTR_KEY=5,ATTR_KEY_W=6,ATTR_VALUE_W=7,ATTR_VALUE=8,ATTR_VALUE_SQ=9,ATTR_VALUE_DQ=10,ATTR_EQ=11,ATTR_BREAK=12;module.exports=function(T,e){function A(T){return"function"==typeof T?T:"string"==typeof T?T:T&&"object"==typeof T?T:t("",T)}T=attrToProp(T),e||(e={});var t=e.concat||function(T,e){return String(T)+String(e)};return function(e){function n(T){var e=[];r===ATTR_VALUE_W&&(r=ATTR);for(var A=0;A<T.length;A++){var t=T.charAt(A);r===TEXT&&"<"===t?(R.length&&e.push([TEXT,R]),R="",r=OPEN):">"!==t||quot(r)?r===TEXT?R+=t:r===OPEN&&/\s/.test(t)?(e.push([OPEN,R]),R="",r=ATTR):r===OPEN?R+=t:r===ATTR&&/[\w-]/.test(t)?(r=ATTR_KEY,R=t):r===ATTR&&/\s/.test(t)?(R.length&&e.push([ATTR_KEY,R]),e.push([ATTR_BREAK])):r===ATTR_KEY&&/\s/.test(t)?(e.push([ATTR_KEY,R]),R="",r=ATTR_KEY_W):r===ATTR_KEY&&"="===t?(e.push([ATTR_KEY,R],[ATTR_EQ]),R="",r=ATTR_VALUE_W):r===ATTR_KEY?R+=t:r!==ATTR_KEY_W&&r!==ATTR||"="!==t?r!==ATTR_KEY_W&&r!==ATTR||/\s/.test(t)?r===ATTR_VALUE_W&&'"'===t?r=ATTR_VALUE_DQ:r===ATTR_VALUE_W&&"'"===t?r=ATTR_VALUE_SQ:r===ATTR_VALUE_DQ&&'"'===t?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r===ATTR_VALUE_SQ&&"'"===t?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE_W||/\s/.test(t)?r===ATTR_VALUE&&/\s/.test(t)?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE&&r!==ATTR_VALUE_SQ&&r!==ATTR_VALUE_DQ||(R+=t):(r=ATTR_VALUE,A--):(e.push([ATTR_BREAK]),/[\w-]/.test(t)?(R+=t,r=ATTR_KEY):r=ATTR):(e.push([ATTR_EQ]),r=ATTR_VALUE_W):(r===OPEN?e.push([OPEN,R]):r===ATTR_KEY?e.push([ATTR_KEY,R]):r===ATTR_VALUE&&R.length&&e.push([ATTR_VALUE,R]),e.push([CLOSE]),R="",r=TEXT)}return r===TEXT&&R.length?(e.push([TEXT,R]),R=""):r===ATTR_VALUE&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_DQ&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_SQ&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_KEY&&(e.push([ATTR_KEY,R]),R=""),e}for(var r=TEXT,R="",E=arguments.length,_=[],s=0;s<e.length;s++)if(s<E-1){var o=arguments[s+1],l=n(e[s]),f=r;f===ATTR_VALUE_DQ&&(f=ATTR_VALUE),f===ATTR_VALUE_SQ&&(f=ATTR_VALUE),f===ATTR_VALUE_W&&(f=ATTR_VALUE),f===ATTR&&(f=ATTR_KEY),l.push([VAR,f,o]),_.push.apply(_,l)}else _.push.apply(_,n(e[s]));for(var h=[null,{},[]],i=[[h,-1]],s=0;s<_.length;s++){var a=i[i.length-1][0],l=_[s],p=l[0];if(p===OPEN&&/^\//.test(l[1])){var u=i[i.length-1][1];i.length>1&&(i.pop(),i[i.length-1][0][2][u]=T(a[0],a[1],a[2].length?a[2]:void 0))}else if(p===OPEN){var g=[l[1],{},[]];a[2].push(g),i.push([g,a[2].length-1])}else if(p===ATTR_KEY||p===VAR&&l[1]===ATTR_KEY){for(var L,V="";s<_.length;s++)if(_[s][0]===ATTR_KEY)V=t(V,_[s][1]);else{if(_[s][0]!==VAR||_[s][1]!==ATTR_KEY)break;if("object"!=typeof _[s][2]||V)V=t(V,_[s][2]);else for(L in _[s][2])_[s][2].hasOwnProperty(L)&&!a[1][L]&&(a[1][L]=_[s][2][L])}_[s][0]===ATTR_EQ&&s++;for(var U=s;s<_.length;s++)if(_[s][0]===ATTR_VALUE||_[s][0]===ATTR_KEY)a[1][V]?a[1][V]=t(a[1][V],_[s][1]):a[1][V]=A(_[s][1]);else{if(_[s][0]!==VAR||_[s][1]!==ATTR_VALUE&&_[s][1]!==ATTR_KEY){!V.length||a[1][V]||s!==U||_[s][0]!==CLOSE&&_[s][0]!==ATTR_BREAK||(a[1][V]=V.toLowerCase());break}a[1][V]?a[1][V]=t(a[1][V],_[s][2]):a[1][V]=A(_[s][2])}}else if(p===ATTR_KEY)a[1][l[1]]=!0;else if(p===VAR&&l[1]===ATTR_KEY)a[1][l[2]]=!0;else if(p===CLOSE){if(selfClosing(a[0])&&i.length){var u=i[i.length-1][1];i.pop(),i[i.length-1][0][2][u]=T(a[0],a[1],a[2].length?a[2]:void 0)}}else if(p===VAR&&l[1]===TEXT)void 0===l[2]||null===l[2]?l[2]="":l[2]||(l[2]=t("",l[2])),Array.isArray(l[2][0])?a[2].push.apply(a[2],l[2]):a[2].push(l[2]);else if(p===TEXT)a[2].push(l[1]);else if(p!==ATTR_EQ&&p!==ATTR_BREAK)throw new Error("unhandled: "+p)}if(h[2].length>1&&/^\s*$/.test(h[2][0])&&h[2].shift(),h[2].length>2||2===h[2].length&&/\S/.test(h[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(h[2][0])&&"string"==typeof h[2][0][0]&&Array.isArray(h[2][0][2])&&(h[2][0]=T(h[2][0][0],h[2][0][1],h[2][0][2])),h[2][0]}};var hasOwn=Object.prototype.hasOwnProperty,closeRE=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-ï¿¿_:-]+)*$");

},{"hyperscript-attribute-to-property":9}],11:[function(require,module,exports){
module.exports=require("yo-yo");

},{"yo-yo":62}],12:[function(require,module,exports){
module.exports={start:require("./start"),pull:require("./pull"),html:require("./html")};

},{"./html":11,"./pull":13,"./start":14}],13:[function(require,module,exports){
module.exports=require("pull-stream");

},{"pull-stream":28}],14:[function(require,module,exports){
(function (process){
function start(n){function l(n){f(n)}function t(){Object.keys(v).forEach(function(n){v[n].end()})}n=defined(n,{});var e=defined(n.init,defaultInit),u=defined(n.update,defaultUpdate),i=defined(n.view,noop),r=defined(n.run,noop),f=notify(),a=e.call(n),o=notify();pull(f.listen(),scan(a,function(l,t){return u.call(n,l.model,t)}),pull.drain(o));var c=notify();pull(o.listen(),pull.map(function(n){return n.model}),difference(),pull.drain(c));var p=notify();pull(c.listen(),pull.map(function(t){return i.call(n,t,l)}),pull.filter(isNotNil),pull.drain(p));var d=notify();pull(o.listen(),pull.map(function(n){return n.effect}),pull.filter(isNotNil),pull.drain(d));var s=notify(),v={actions:f,states:o,models:c,views:p,effects:d,effectActionsSources:s},y={};return Object.keys(v).forEach(function(n){var l=v[n].listen;y[n]=["states","models","effects","views"].indexOf(n)!==-1?replayLastValue(l):l}),pull(d.listen(),pull.map(function(l){return r.call(n,l,y)}),pull.filter(isNotNil),pull.drain(s)),pull(s.listen(),drainMany(f)),process.nextTick(function(){o(a)}),Object.assign({},y,{stop:t})}function noop(){}function isNotNil(n){return null!=n}function defaultInit(){return{model:null}}function defaultUpdate(n){return{model:n}}function scan(n,l){return pull.map(function(t){return n=l(n,t)})}function difference(){var n;return pull.filter(function(l){var t=l!==n;return n=l,t})}function drainMany(n){return function(l){pull(l,pull.drain(function(l){pull(l,pull.drain(n))}))}}function replayLastValue(n){var l;return pull(n(),pull.drain(function(n){l=n})),function(){return cat([null==l?void 0:pull.values([l]),n()])}}var defined=require("defined"),pull=require("pull-stream"),notify=require("pull-notify"),cat=require("pull-cat");module.exports=start;

}).call(this,require('_process'))

},{"_process":19,"defined":5,"pull-cat":20,"pull-notify":26,"pull-stream":28}],15:[function(require,module,exports){
function isFunction(o){var t=toString.call(o);return"[object Function]"===t||"function"==typeof o&&"[object RegExp]"!==t||"undefined"!=typeof window&&(o===window.setTimeout||o===window.alert||o===window.confirm||o===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString;

},{}],16:[function(require,module,exports){
function empty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function toElement(e){!range&&document.createRange&&(range=document.createRange(),range.selectNode(document.body));var t;return range&&range.createContextualFragment?t=range.createContextualFragment(e):(t=document.createElement("body"),t.innerHTML=e),t.childNodes[0]}function noop(){}function createElementNS(e,t){return t&&t!==XHTML?document.createElementNS(t,e):document.createElement(e)}function morphAttrs(e,t){var n,r,o,a,i,d,l=t.attributes;for(n=l.length-1;n>=0;n--)r=l[n],o=r.name,i=r.value,a=r.namespaceURI,a?(o=r.localName||o,d=e.getAttributeNS(a,o)):d=e.getAttribute(o),d!==i&&(a?e.setAttributeNS(a,o,i):e.setAttribute(o,i));for(l=e.attributes,n=l.length-1;n>=0;n--)r=l[n],r.specified!==!1&&(o=r.name,a=r.namespaceURI,hasAttributeNS(t,a,a?o=r.localName||o:o)||(a?e.removeAttributeNS(a,r.localName):e.removeAttribute(o)))}function moveChildren(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}function defaultGetNodeKey(e){return e.id}function morphdom(e,t,n){function r(e,t){var n=c(e);if(n?l[n]=e:t||p(e),e.nodeType===ELEMENT_NODE)for(var o=e.firstChild;o;)r(o,t||n),o=o.nextSibling}function o(e){if(e.nodeType===ELEMENT_NODE)for(var t=e.firstChild;t;)c(t)||(p(t),o(t)),t=t.nextSibling}function a(e,t,n){E(e)!==!1&&(t.removeChild(e),n?c(e)||(p(e),o(e)):r(e))}function i(e,t,n,r){var o=c(t);if(o&&delete l[o],!r){if(m(e,t)===!1)return;if(morphAttrs(e,t),s(e),h(e,t)===!1)return}if("TEXTAREA"!==e.nodeName){var d,E,v,T,A,g=t.firstChild,C=e.firstChild;e:for(;g;){for(v=g.nextSibling,d=c(g);C;){var y=c(C);if(E=C.nextSibling,!n&&y&&(A=u[y]))A.parentNode.replaceChild(C,A),i(C,A,n),C=E;else{var O=C.nodeType;if(O===g.nodeType){var M=!1;if(O===ELEMENT_NODE?(compareNodeNames(C,g)&&(y||d?d===y&&(M=!0):M=!0),M&&i(C,g,n)):O!==TEXT_NODE&&O!=COMMENT_NODE||(M=!0,C.nodeValue=g.nodeValue),M){g=v,C=E;continue e}}a(C,e,n),C=E}}d&&((T=l[d])?compareNodeNames(T,g)?(i(T,g,!0),g=T):(delete l[d],p(T)):u[d]=g),f(g)!==!1&&(e.appendChild(g),N(g)),g.nodeType===ELEMENT_NODE&&(d||g.firstChild)&&b.push(g),g=v,C=E}for(;C;)E=C.nextSibling,a(C,e,n),C=E}var S=specialElHandlers[e.nodeName];S&&S(e,t)}if(n||(n={}),"string"==typeof t)if("#document"===e.nodeName||"HTML"===e.nodeName){var d=t;t=document.createElement("html"),t.innerHTML=d}else t=toElement(t);var l={},u={},c=n.getNodeKey||defaultGetNodeKey,f=n.onBeforeNodeAdded||noop,N=n.onNodeAdded||noop,m=n.onBeforeElUpdated||n.onBeforeMorphEl||noop,s=n.onElUpdated||noop,E=n.onBeforeNodeDiscarded||noop,p=n.onNodeDiscarded||noop,h=n.onBeforeElChildrenUpdated||n.onBeforeMorphElChildren||noop,v=n.childrenOnly===!0,b=[],T=e,A=T.nodeType,g=t.nodeType;if(!v)if(A===ELEMENT_NODE)g===ELEMENT_NODE?compareNodeNames(e,t)||(p(e),T=moveChildren(e,createElementNS(t.nodeName,t.namespaceURI))):T=t;else if(A===TEXT_NODE||A===COMMENT_NODE){if(g===A)return T.nodeValue=t.nodeValue,T;T=t}if(T===t)p(e);else{i(T,t,!1,v);var C=function(e){for(var t=e.firstChild;t;){var n=t.nextSibling,r=c(t);if(r){var o=l[r];if(o&&compareNodeNames(t,o)){if(t.parentNode.replaceChild(o,t),i(o,t,!0),t=n,empty(l))return!1;continue}}t.nodeType===ELEMENT_NODE&&C(t),t=n}};if(!empty(l))e:for(;b.length;){var y=b;b=[];for(var O=0;O<y.length;O++)if(C(y[O])===!1)break e}for(var M in l)if(l.hasOwnProperty(M)){var S=l[M];p(S),o(S)}}return!v&&T!==e&&e.parentNode&&e.parentNode.replaceChild(T,e),T}var range,testEl="undefined"!=typeof document?document.body||document.createElement("div"):{},XHTML="http://www.w3.org/1999/xhtml",ELEMENT_NODE=1,TEXT_NODE=3,COMMENT_NODE=8,hasAttributeNS;hasAttributeNS=testEl.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:testEl.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return!!e.getAttributeNode(n)};var specialElHandlers={OPTION:function(e,t){e.selected=t.selected,e.selected?e.setAttribute("selected",""):e.removeAttribute("selected","")},INPUT:function(e,t){e.checked=t.checked,e.checked?e.setAttribute("checked",""):e.removeAttribute("checked"),e.value!==t.value&&(e.value=t.value),hasAttributeNS(t,null,"value")||e.removeAttribute("value"),e.disabled=t.disabled,e.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n),e.firstChild&&(e.firstChild.nodeValue=n)}},compareNodeNames=function(e,t){return e.nodeName===t.nodeName&&e.namespaceURI===t.namespaceURI};module.exports=morphdom;

},{}],17:[function(require,module,exports){
function turnon(t,e){watch[t][0]&&0===watch[t][2]&&(watch[t][0](e),watch[t][2]=1)}function turnoff(t,e){watch[t][1]&&1===watch[t][2]&&(watch[t][1](e),watch[t][2]=0)}function eachAttr(t,e,a){var r=t.target.getAttribute(KEY_ATTR);return sameOrigin(t.oldValue,r)?void(watch[r]=watch[t.oldValue]):(watch[t.oldValue]&&a(t.oldValue,t.target),void(watch[r]&&e(r,t.target)))}function sameOrigin(t,e){return!(!t||!e)&&watch[t][3]===watch[e][3]}function eachMutation(t,e){for(var a=Object.keys(watch),r=0;r<t.length;r++){if(t[r]&&t[r].getAttribute&&t[r].getAttribute(KEY_ATTR)){var n=t[r].getAttribute(KEY_ATTR);a.forEach(function(a){n===a&&e(a,t[r])})}t[r].childNodes.length>0&&eachMutation(t[r].childNodes,e)}}var document=require("global/document"),window=require("global/window"),watch=Object.create(null),KEY_ID="onloadid"+(new Date%9e6).toString(36),KEY_ATTR="data-"+KEY_ID,INDEX=0;if(window&&window.MutationObserver){var observer=new MutationObserver(function(t){if(!(Object.keys(watch).length<1))for(var e=0;e<t.length;e++)t[e].attributeName!==KEY_ATTR?(eachMutation(t[e].removedNodes,turnoff),eachMutation(t[e].addedNodes,turnon)):eachAttr(t[e],turnon,turnoff)});observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[KEY_ATTR]})}module.exports=function t(e,a,r,n){return a=a||function(){},r=r||function(){},e.setAttribute(KEY_ATTR,"o"+INDEX),watch["o"+INDEX]=[a,r,0,n||t.caller],INDEX+=1,e};

},{"global/document":7,"global/window":8}],18:[function(require,module,exports){
var trim=require("trim"),forEach=require("for-each"),isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)};module.exports=function(r){if(!r)return{};var e={};return forEach(trim(r).split("\n"),function(r){var t=r.indexOf(":"),i=trim(r.slice(0,t)).toLowerCase(),o=trim(r.slice(t+1));"undefined"==typeof e[i]?e[i]=o:isArray(e[i])?e[i].push(o):e[i]=[e[i],o]}),e};

},{"for-each":6,"trim":59}],19:[function(require,module,exports){
function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=cachedSetTimeout(cleanUpNextTick);draining=!0;for(var r=queue.length;r;){for(currentQueue=queue,queue=[];++queueIndex<r;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,r=queue.length}currentQueue=null,draining=!1,cachedClearTimeout(e)}}function Item(e,r){this.fun=e,this.array=r}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout=setTimeout}catch(e){cachedSetTimeout=function(){throw new Error("setTimeout is not defined")}}try{cachedClearTimeout=clearTimeout}catch(e){cachedClearTimeout=function(){throw new Error("clearTimeout is not defined")}}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];queue.push(new Item(e,r)),1!==queue.length||draining||cachedSetTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],20:[function(require,module,exports){
function abortAll(n,t,o){function l(){--u||o(t)}var u=n.length;return u?(n.forEach(function(n){n?n(t,l):l()}),void(u||l())):o(t)}var noop=function(){};module.exports=function(n){return function(t,o){!function l(){t?abortAll(n,t,o):n.length?n[0]?n[0](null,function(t,u){t?(n.shift(),t===!0?l():abortAll(n,t,o)):o(null,u)}):(n.shift(),l()):o(!0)}()}};

},{}],21:[function(require,module,exports){
var Source=require("./source"),Sink=require("./sink");module.exports=function(){var e=Source(),r=Sink();return{source:e,sink:r,resolve:function(o){e.resolve(o.source),r.resolve(o.sink)}}};

},{"./sink":23,"./source":24}],22:[function(require,module,exports){
exports.source=require("./source"),exports.through=require("./through"),exports.sink=require("./sink"),exports.duplex=require("./duplex");

},{"./duplex":21,"./sink":23,"./source":24,"./through":25}],23:[function(require,module,exports){
module.exports=function(r){function e(e){if(!e)throw new Error("must be passed a readable");t=e,n&&r(t)}var t,n=!1;Math.random();return e.resolve=e.ready=e.start=function(a){return n=!0,r=a||r,t&&r(t),e},e};

},{}],24:[function(require,module,exports){
module.exports=function(){var r,o,n,e,t=function(t,l){r?r(t,l):t?(e=t,n=l):o=l};return t.resolve=function(t){if(r)throw new Error("already resolved");if(r=t,!r)throw new Error("no read cannot resolve!"+r);o&&t(null,o),n&&t(e,n)},t.abort=function(r){t.resolve(function(o,n){n(r||!0)})},t};

},{}],25:[function(require,module,exports){
module.exports=function(){function r(r){return s?s(r):(e=r,function(r,e){o?o(r,e):(t=r,n=e)})}var e,o,n,t,s;return r.resolve=function(r){if(s)throw new Error("already resolved");if(s=r,!s)throw new Error("resolve *must* be passed a transform stream");e&&(o=s(e),n&&o(t,n))},r};

},{}],26:[function(require,module,exports){
var pushable=require("pull-pushable");module.exports=function(){function n(n){for(var e=0;e<r.length;e++)r[e].push(n);return n}var r=[];return n.listen=function(){var n=pushable(function(){var e=r.indexOf(n);e!==-1&&r.splice(e,1)});return r.push(n),n},n.abort=function(n){for(;r.length;)r[0].end(n)},n.end=function(){return n.abort(!0)},n};

},{"pull-pushable":27}],27:[function(require,module,exports){
function pullPushable(n){function u(n,u){n&&(i=n,f&&t(i)),f=u,l()}function l(){f&&(i?t(i):!o.length&&e?t(e):o.length&&t(null,o.shift()))}function t(u,l){var t=f;if(u&&n){var i=n;n=null,i(u===!0?null:u)}f=null,t(u,l)}var i,f,e,o=[];return u.end=function(n){e=e||n||!0,l()},u.push=function(n){if(!e){if(f)return void t(i,n);o.push(n),l()}},u}module.exports=pullPushable;

},{}],28:[function(require,module,exports){
"use strict";var sources=require("./sources"),sinks=require("./sinks"),throughs=require("./throughs");exports=module.exports=require("./pull");for(var k in sources)exports[k]=sources[k];for(var k in throughs)exports[k]=throughs[k];for(var k in sinks)exports[k]=sinks[k];

},{"./pull":29,"./sinks":34,"./sources":41,"./throughs":50}],29:[function(require,module,exports){
"use strict";module.exports=function r(n){var t=arguments.length;if("function"==typeof n&&1===n.length){for(var e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return function(n){return e.unshift(n),r.apply(null,e)}}var u=n;u&&"function"==typeof u.source&&(u=u.source);for(var o=1;o<t;o++){var f=arguments[o];"function"==typeof f?u=f(u):f&&"object"==typeof f&&(f.sink(u),u=f.source)}return u};

},{}],30:[function(require,module,exports){
"use strict";var reduce=require("./reduce");module.exports=function(e){return reduce(function(e,r){return e.push(r),e},[],e)};

},{"./reduce":37}],31:[function(require,module,exports){
"use strict";var reduce=require("./reduce");module.exports=function(e){return reduce(function(e,r){return e+r},"",e)};

},{"./reduce":37}],32:[function(require,module,exports){
"use strict";module.exports=function(n,t){function o(u){return i=u,r?o.abort():void function f(){for(var o=!0,u=!1;o;)if(u=!1,i(null,function(e,c){if(u=!0,e=e||r){if(o=!1,t)t(e===!0?null:e);else if(e&&e!==!0)throw e}else n&&!1===n(c)||r?(o=!1,i(r||!0,t||function(){})):o||f()}),!u)return void(o=!1)}()}var i,r;return o.abort=function(n,t){if("function"==typeof n&&(t=n,n=!0),r=n||!0,i)return i(r,t||function(){})},o};

},{}],33:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop"),drain=require("./drain");module.exports=function(r,n){var i=!1;return n?r=prop(r)||id:(n=r,r=id),drain(function(u){if(r(u))return i=!0,n(null,u),!1},function(r){i||n(r===!0?null:r,null)})};

},{"../util/prop":57,"./drain":32}],34:[function(require,module,exports){
"use strict";module.exports={drain:require("./drain"),onEnd:require("./on-end"),log:require("./log"),find:require("./find"),reduce:require("./reduce"),collect:require("./collect"),concat:require("./concat")};

},{"./collect":30,"./concat":31,"./drain":32,"./find":33,"./log":35,"./on-end":36,"./reduce":37}],35:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(r){return drain(function(r){console.log(r)},r)};

},{"./drain":32}],36:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(r){return drain(null,r)};

},{"./drain":32}],37:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(n,r,i){return drain(function(i){r=n(r,i)},function(n){i(n,r)})};

},{"./drain":32}],38:[function(require,module,exports){
"use strict";module.exports=function(n){var r=0;return n=n||1/0,function(t,u){return t?u&&u(t):r>n?u(!0):void u(null,r++)}};

},{}],39:[function(require,module,exports){
"use strict";module.exports=function(){return function(t,n){n(!0)}};

},{}],40:[function(require,module,exports){
"use strict";module.exports=function(t){return function(n,u){u(t)}};

},{}],41:[function(require,module,exports){
"use strict";module.exports={keys:require("./keys"),once:require("./once"),values:require("./values"),count:require("./count"),infinite:require("./infinite"),empty:require("./empty"),error:require("./error")};

},{"./count":38,"./empty":39,"./error":40,"./infinite":42,"./keys":43,"./once":44,"./values":45}],42:[function(require,module,exports){
"use strict";module.exports=function(n){return n=n||Math.random,function(t,r){return t?r&&r(t):r(null,n())}};

},{}],43:[function(require,module,exports){
"use strict";var values=require("./values");module.exports=function(e){return values(Object.keys(e))};

},{"./values":45}],44:[function(require,module,exports){
"use strict";var abortCb=require("../util/abort-cb");module.exports=function(r,t){return function(u,e){if(u)return abortCb(e,u,t);if(null!=r){var l=r;r=null,e(null,l)}else e(!0)}};

},{"../util/abort-cb":56}],45:[function(require,module,exports){
"use strict";var abortCb=require("../util/abort-cb");module.exports=function(r,t){if(!r)return function(r,n){return r?abortCb(n,r,t):n(!0)};Array.isArray(r)||(r=Object.keys(r).map(function(t){return r[t]}));var n=0;return function(u,e){return u?abortCb(e,u,t):void e(n>=r.length||null,r[n++])}};

},{"../util/abort-cb":56}],46:[function(require,module,exports){
"use strict";function id(n){return n}var prop=require("../util/prop");module.exports=function(n){if(!n)return id;n=prop(n);var r,u,t=!1;return function(i){return function o(e,c){return u?c(u):void(e?(u=e,t?i(e,function(){t?r=c:c(e)}):i(e,c)):i(null,function(i,e){i?c(i):u?c(u):(t=!0,n(e,function(n,i){t=!1,u?(c(u),r(u)):n?o(n,c):c(null,i)}))}))}}};

},{"../util/prop":57}],47:[function(require,module,exports){
"use strict";var tester=require("../util/tester"),filter=require("./filter");module.exports=function(e){return e=tester(e),filter(function(r){return!e(r)})};

},{"../util/tester":58,"./filter":48}],48:[function(require,module,exports){
"use strict";var tester=require("../util/tester");module.exports=function(t){return t=tester(t),function(r){return function e(n,u){for(var i,o=!0;o;)o=!1,i=!0,r(n,function(r,n){return r||t(n)?void u(r,n):i?o=!0:e(r,u)}),i=!1}}};

},{"../util/tester":58}],49:[function(require,module,exports){
"use strict";var values=require("../sources/values"),once=require("../sources/once");module.exports=function(){return function(n){var u;return function(e,o){function r(){u(null,function(u,e){u===!0?t():u?n(!0,function(n){o(u)}):o(null,e)})}function t(){u=null,n(null,function(n,e){return n?o(n):(Array.isArray(e)||e&&"object"==typeof e?e=values(e):"function"!=typeof e&&(e=once(e)),u=e,void r())})}e?u?u(e,function(u){n(u||e,o)}):n(e,o):u?r():t()}}};

},{"../sources/once":44,"../sources/values":45}],50:[function(require,module,exports){
"use strict";module.exports={map:require("./map"),asyncMap:require("./async-map"),filter:require("./filter"),filterNot:require("./filter-not"),through:require("./through"),take:require("./take"),unique:require("./unique"),nonUnique:require("./non-unique"),flatten:require("./flatten")};

},{"./async-map":46,"./filter":48,"./filter-not":47,"./flatten":49,"./map":51,"./non-unique":52,"./take":53,"./through":54,"./unique":55}],51:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop");module.exports=function(r){return r?(r=prop(r),function(n){return function(t,u){n(t,function(t,i){try{i=t?null:r(i)}catch(o){return n(o,function(){return u(o)})}u(t,i)})}}):id};

},{"../util/prop":57}],52:[function(require,module,exports){
"use strict";var unique=require("./unique");module.exports=function(u){return unique(u,!0)};

},{"./unique":55}],53:[function(require,module,exports){
"use strict";module.exports=function(n,u){u=u||{};var t=u.last||!1,r=!1;if("number"==typeof n){t=!0;var o=n;n=function(){return--o}}return function(u){function o(n){u(!0,function(u){t=!1,n(u||!0)})}return function(f,i){r?t?o(i):i(r):(r=f)?u(r,i):u(null,function(u,f){(r=r||u)?i(r):n(f)?i(null,f):(r=!0,t?i(null,f):o(i))})}}};

},{}],54:[function(require,module,exports){
"use strict";module.exports=function(n,t){function u(n){!r&&t&&(r=!0,t(n===!0?null:n))}var r=!1;return function(t){return function(r,o){return r&&u(r),t(r,function(t,r){t?u(t):n&&n(r),o(t,r)})}}};

},{}],55:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop"),filter=require("./filter");module.exports=function(r,e){r=prop(r)||id;var t={};return filter(function(i){var u=r(i);return t[u]?!!e:(t[u]=!0,!e)})};

},{"../util/prop":57,"./filter":48}],56:[function(require,module,exports){
module.exports=function(l,n,o){l(n),o&&o(n===!0?null:n)};

},{}],57:[function(require,module,exports){
module.exports=function(e){return e&&("string"==typeof e?function(t){return t[e]}:"object"==typeof e&&"function"==typeof e.exec?function(t){var n=e.exec(t);return n&&n[0]}:e)};

},{}],58:[function(require,module,exports){
function id(t){return t}var prop=require("./prop");module.exports=function(t){return"object"==typeof t&&"function"==typeof t.test?function(r){return t.test(r)}:prop(t)||id};

},{"./prop":57}],59:[function(require,module,exports){
function trim(r){return r.replace(/^\s*|\s*$/g,"")}exports=module.exports=trim,exports.left=function(r){return r.replace(/^\s*/,"")},exports.right=function(r){return r.replace(/\s*$/,"")};

},{}],60:[function(require,module,exports){
"use strict";function forEachArray(e,t){for(var r=0;r<e.length;r++)t(e[r])}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function initParams(e,t,r){var n=e;return isFunction(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=xtend(t,{uri:e}),n.callback=r,n}function createXHR(e,t,r){return t=initParams(e,t,r),_createXHR(t)}function _createXHR(e){function t(){4===i.readyState&&o()}function r(){var e=void 0;if(e=i.response?i.response:i.responseText||getXml(i),X)try{e=JSON.parse(e)}catch(t){}return e}function n(e){clearTimeout(p),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,a),s=noop}function o(){if(!c){var t;clearTimeout(p),t=e.useXDR&&void 0===i.status?200:1223===i.status?204:i.status;var n=a,o=null;0!==t?(n={body:r(),statusCode:t,method:l,headers:{},url:d,rawRequest:i},i.getAllResponseHeaders&&(n.headers=parseHeaders(i.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),s(o,n,n.body),s=noop}}var s=e.callback;if("undefined"==typeof s)throw new Error("callback argument missing");var a={body:void 0,headers:{},statusCode:0,method:l,url:d,rawRequest:i},i=e.xhr||null;i||(i=e.cors||e.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var u,c,p,d=i.url=e.uri||e.url,l=i.method=e.method||"GET",f=e.body||e.data||null,m=i.headers=e.headers||{},R=!!e.sync,X=!1;if("json"in e&&(X=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==l&&"HEAD"!==l&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),f=JSON.stringify(e.json))),i.onreadystatechange=t,i.onload=o,i.onerror=n,i.onprogress=function(){},i.ontimeout=n,i.open(l,d,!R,e.username,e.password),R||(i.withCredentials=!!e.withCredentials),!R&&e.timeout>0&&(p=setTimeout(function(){c=!0,i.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",n(e)},e.timeout)),i.setRequestHeader)for(u in m)m.hasOwnProperty(u)&&i.setRequestHeader(u,m[u]);else if(e.headers&&!isEmpty(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(i.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(i),i.send(f),i}function getXml(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function noop(){}var window=require("global/window"),isFunction=require("is-function"),parseHeaders=require("parse-headers"),xtend=require("xtend");module.exports=createXHR,createXHR.XMLHttpRequest=window.XMLHttpRequest||noop,createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window.XDomainRequest,forEachArray(["get","put","post","patch","head","delete"],function(e){createXHR["delete"===e?"del":e]=function(t,r,n){return r=initParams(t,r,n),r.method=e.toUpperCase(),_createXHR(r)}});

},{"global/window":8,"is-function":15,"parse-headers":18,"xtend":61}],61:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;

},{}],62:[function(require,module,exports){
var bel=require("bel"),morphdom=require("morphdom"),defaultEvents=require("./update-events.js");module.exports=bel,module.exports.update=function(e,o,r){function t(e,o){for(var t=r.events||defaultEvents,n=0;n<t.length;n++){var u=t[n];o[u]?e[u]=o[u]:e[u]&&(e[u]=void 0)}("INPUT"===e.nodeName&&"file"!==e.type||"TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&null===o.getAttribute("value")&&(o.value=e.value)}return r||(r={}),r.events!==!1&&(r.onBeforeMorphEl||(r.onBeforeMorphEl=t)),morphdom(e,o,r)};

},{"./update-events.js":63,"bel":3,"morphdom":16}],63:[function(require,module,exports){
module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"];

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjbGllbnQvQXBwLmpzIiwiY2xpZW50L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2JlbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyLXJlc29sdmUvZW1wdHkuanMiLCJub2RlX21vZHVsZXMvZGVmaW5lZC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9mb3ItZWFjaC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9nbG9iYWwvZG9jdW1lbnQuanMiLCJub2RlX21vZHVsZXMvZ2xvYmFsL3dpbmRvdy5qcyIsIm5vZGVfbW9kdWxlcy9oeXBlcnNjcmlwdC1hdHRyaWJ1dGUtdG8tcHJvcGVydHkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvaHlwZXJ4L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2ludS9odG1sLmpzIiwibm9kZV9tb2R1bGVzL2ludS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9pbnUvcHVsbC5qcyIsIm5vZGVfbW9kdWxlcy9pbnUvc3RhcnQuanMiLCJub2RlX21vZHVsZXMvaXMtZnVuY3Rpb24vaW5kZXguanMiLCJub2RlX21vZHVsZXMvbW9ycGhkb20vbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL29uLWxvYWQvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcGFyc2UtaGVhZGVycy9wYXJzZS1oZWFkZXJzLmpzIiwibm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWNhdC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWRlZmVyL2R1cGxleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWRlZmVyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtZGVmZXIvc2luay5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWRlZmVyL3NvdXJjZS5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWRlZmVyL3Rocm91Z2guanMiLCJub2RlX21vZHVsZXMvcHVsbC1ub3RpZnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHVsbC1wdXNoYWJsZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9wdWxsLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL2NvbGxlY3QuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc2lua3MvY29uY2F0LmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL2RyYWluLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL2ZpbmQuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc2lua3MvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc2lua3MvbG9nLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL29uLWVuZC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zaW5rcy9yZWR1Y2UuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc291cmNlcy9jb3VudC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zb3VyY2VzL2VtcHR5LmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NvdXJjZXMvZXJyb3IuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc291cmNlcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zb3VyY2VzL2luZmluaXRlLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NvdXJjZXMva2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zb3VyY2VzL29uY2UuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc291cmNlcy92YWx1ZXMuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvYXN5bmMtbWFwLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL2ZpbHRlci1ub3QuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvZmlsdGVyLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL2ZsYXR0ZW4uanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvbWFwLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL25vbi11bmlxdWUuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvdGFrZS5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS90aHJvdWdocy90aHJvdWdoLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL3VuaXF1ZS5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS91dGlsL2Fib3J0LWNiLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3V0aWwvcHJvcC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS91dGlsL3Rlc3Rlci5qcyIsIm5vZGVfbW9kdWxlcy90cmltL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3hoci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy94dGVuZC9pbW11dGFibGUuanMiLCJub2RlX21vZHVsZXMveW8teW8vaW5kZXguanMiLCJub2RlX21vZHVsZXMveW8teW8vdXBkYXRlLWV2ZW50cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtpc0RDQUEsS0FBQSxRQUFBLE9BQ0EsTUFBQSxRQUFBLDhDQUNBLFdBQUEsUUFBQSw2REFDQSxLQUFBLFFBQUEsMENBRU0sZUFDSixZQUFZLEVBQ1osWUFDQSxPQUFRLE9BQ1IsZ0JBQ0UsUUFDQSxTQUNBLE9BQ0EsU0FDQSxZQUlFLGVBQWlCLGlCQUNqQixpQkFBbUIsbUJBQ25CLGdCQUFrQixrQkFDbEIsV0FBYSxhQUViLEtBQ0osS0FB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Q0EsV0FDQSxXQUNBLFVBQ0EsVUFDQSxTQUNBLFVBRUEsZ0JBQ0EsWUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgeyBwdWxsIH0gZnJvbSAnaW51J1xuaW1wb3J0IGh0bWwgZnJvbSAneW8teW8nICAvLyBjdXJyZW50bHkgbmVlZCB0byBwdWxsIGluIHlvLXlvIGRpcmVjdGx5IHRvIGJlIGFibGUgdG8geW8teW9pZnlcbmltcG9ydCBkZWZlciBmcm9tICdwdWxsLWRlZmVyJ1xuaW1wb3J0IHJlcXVlc3QgZnJvbSAneGhyJ1xuXG5jb25zdCBJTklUSUFMX01PREVMID0ge1xuICByZWZyZXNoaW5nOiBmYWxzZSxcbiAgcGFpcmluZ3M6IFtdLFxuICBmaWx0ZXI6IHVuZGVmaW5lZCxcbiAgdmlzaWJsZUNvbHVtbnM6IFtcbiAgICAnVGFibGUnLFxuICAgICdQbGF5ZXInLFxuICAgICdUZWFtJyxcbiAgICAnUG9pbnRzJyxcbiAgICAnUG9pbnRzLScsIC8vIHNvbWUgcXVpcmsgc29tZXRpbWVzIHNlZXMgdGhlIFBvaW50cyBjb2x1bW4gaGF2ZSBhIC0gYXQgdGhlIGVuZCBvZiBpdFxuICBdLFxufVxuXG5jb25zdCBGRVRDSF9QQUlSSU5HUyA9ICdGRVRDSF9QQUlSSU5HUydcbmNvbnN0IFJFRlJFU0hfUEFJUklOR1MgPSAnUkVGUkVTSF9QQUlSSU5HUydcbmNvbnN0IFVQREFURV9QQUlSSU5HUyA9ICdVUERBVEVfUEFJUklOR1MnXG5jb25zdCBBRERfRklMVEVSID0gJ0FERF9GSUxURVInXG5cbmNvbnN0IEFwcCA9IHtcbiAgaW5pdDogKCkgPT4gKHtcbiAgICBtb2RlbDogSU5JVElBTF9NT0RFTCxcbiAgICBlZmZlY3Q6IHsgdHlwZTogRkVUQ0hfUEFJUklOR1MgfVxuICB9KSxcblxuICB1cGRhdGU6IChtb2RlbCwgYWN0aW9uKSA9PiB7XG5cbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlIFJFRlJFU0hfUEFJUklOR1M6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbW9kZWw6IE9iamVjdC5hc3NpZ24oe30sIG1vZGVsLCB7cmVmcmVzaGluZzogdHJ1ZX0pLFxuICAgICAgICAgIGVmZmVjdDoge1xuICAgICAgICAgICAgdHlwZTogRkVUQ0hfUEFJUklOR1NcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBVUERBVEVfUEFJUklOR1M6XG4gICAgICAgIGxldCBuZXdNb2RlbCA9IE9iamVjdC5hc3NpZ24oe30sIG1vZGVsLCB7cmVmcmVzaGluZzogZmFsc2V9KVxuICAgICAgICBuZXdNb2RlbC5wYWlyaW5ncyA9IGFjdGlvbi5wYWlyaW5nc1xuICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICBtb2RlbDogbmV3TW9kZWxcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIEFERF9GSUxURVI6XG4gICAgICAgIGNvbnN0IGZpbHRlciA9IChhY3Rpb24uZmlsdGVyKSA/IFxuICAgICAgICAgIG5ldyBSZWdFeHAoIGFjdGlvbi5maWx0ZXIuc3BsaXQoJycpLmpvaW4oJy4qJyksICdpJykgOiBcbiAgICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtb2RlbDogT2JqZWN0LmFzc2lnbih7fSwgbW9kZWwsIHsgZmlsdGVyIH0pXG4gICAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHsgbW9kZWwgfVxuICAgIH1cbiAgfSxcblxuICB2aWV3OiAobW9kZWwsIGRpc3BhdGNoKSA9PiB7XG4gICAgY29uc3QgcGFpcmluZ3MgPSAobW9kZWwuZmlsdGVyKSA/XG4gICAgICBtb2RlbC5wYWlyaW5ncy5maWx0ZXIoIHAgPT4gcC5QbGF5ZXIubWF0Y2gobW9kZWwuZmlsdGVyKSApIDpcbiAgICAgIG1vZGVsLnBhaXJpbmdzXG5cbiAgICBjb25zdCBmaWxsZWRDb2x1bW5zID0gT2JqZWN0LmtleXMocGFpcmluZ3NbMF0gfHwgW10pXG4gICAgY29uc3QgdmlzaWJsZUNvbHVtbnMgPSBtb2RlbC52aXNpYmxlQ29sdW1ucy5maWx0ZXIoIGNvbCA9PiBmaWxsZWRDb2x1bW5zLmluZGV4T2YoY29sKSA+IC0xIClcblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBjbGFzcz0nbWFpbic+XG4gICAgICAgIDxoMT5NVEcgdGFibGU8L2gxPlxuICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgIGNsYXNzPVwicmVmcmVzaCAkeyhtb2RlbC5yZWZyZXNoaW5nKSA/ICdidXR0b24tcHJpbWFyeScgOiAnJ31cIlxuICAgICAgICAgIG9uY2xpY2s9JHsgKCkgPT4gZGlzcGF0Y2goe1xuICAgICAgICAgICAgICB0eXBlOiBSRUZSRVNIX1BBSVJJTkdTXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgPlxuICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtcmVmcmVzaCAkeyhtb2RlbC5yZWZyZXNoaW5nKSA/ICdmYS1zcGluJyA6ICcnfVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxpbnB1dCBcbiAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgIHBsYWNlaG9sZGVyPSdmaWx0ZXInXG4gICAgICAgICAgb25pbnB1dD0keyAoZSkgPT4gZGlzcGF0Y2goe1xuICAgICAgICAgICAgICB0eXBlOiBBRERfRklMVEVSLFxuICAgICAgICAgICAgICBmaWx0ZXI6IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgLz5cblxuICAgICAgICA8dGFibGUgY2xhc3M9XCJ1LWZ1bGwtd2lkdGhcIj5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAke3BhaXJpbmdzLm1hcCggcGFpcmluZyA9PiBodG1sYFxuICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgJHt2aXNpYmxlQ29sdW1ucy5tYXAoIGNvbCA9PiBodG1sYDx0ZD4ke3BhaXJpbmdbY29sXX08L3RkPmAgKX0gXG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICBgICl9XG5cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPiAgICAgICBcbiAgICAgIDwvZGl2PlxuICAgIGBcbiAgfSxcblxuICBydW46IChlZmZlY3QpID0+IHtcbiAgICBzd2l0Y2ggKGVmZmVjdC50eXBlKSB7XG5cbiAgICAgIGNhc2UgRkVUQ0hfUEFJUklOR1M6XG4gICAgICAgIGxldCBzb3VyY2UgPSBkZWZlci5zb3VyY2UoKVxuXG4gICAgICAgIHJlcXVlc3QuZ2V0KCcvZGF0YScsIChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKGVycilcblxuICAgICAgICAgIGNvbnN0IG1vZGVsID0gSlNPTi5wYXJzZShyZXMuYm9keSlcbiAgICAgICAgICBjb25zdCBwYWlyaW5ncyA9IG1vZGVsLnBhaXJpbmdzXG4gICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkobW9kZWwsbnVsbCwyKSlcblxuICAgICAgICAgIHNvdXJjZS5yZXNvbHZlKFxuICAgICAgICAgICAgcHVsbC52YWx1ZXMoW3tcbiAgICAgICAgICAgICAgdHlwZTogVVBEQVRFX1BBSVJJTkdTLFxuICAgICAgICAgICAgICBwYWlyaW5nc1xuICAgICAgICAgICAgfV0pXG4gICAgICAgICApXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmxvZygnc29tZSB1bm1hdGNoZWQgZWZmZWN0JywgZWZmZWN0KVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcHBcblxuIiwiaW1wb3J0IHsgc3RhcnQsIHB1bGwgfSBmcm9tICdpbnUnXG5pbXBvcnQgaHRtbCBmcm9tICd5by15bydcblxuaW1wb3J0IGFwcCBmcm9tICcuL0FwcCdcblxuY29uc3QgeyB2aWV3cyB9ID0gc3RhcnQoYXBwKVxuY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluJylcblxucHVsbChcbiAgdmlld3MoKSxcbiAgcHVsbC5kcmFpbihmdW5jdGlvbiAodmlldykge1xuICAgIGh0bWwudXBkYXRlKG1haW4sIHZpZXcpXG4gIH0pXG4pIFxuXG4iLCJ2YXIgZG9jdW1lbnQgPSByZXF1aXJlKCdnbG9iYWwvZG9jdW1lbnQnKVxudmFyIGh5cGVyeCA9IHJlcXVpcmUoJ2h5cGVyeCcpXG52YXIgb25sb2FkID0gcmVxdWlyZSgnb24tbG9hZCcpXG5cbnZhciBTVkdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZydcbnZhciBCT09MX1BST1BTID0ge1xuICBhdXRvZm9jdXM6IDEsXG4gIGNoZWNrZWQ6IDEsXG4gIGRlZmF1bHRjaGVja2VkOiAxLFxuICBkaXNhYmxlZDogMSxcbiAgZm9ybW5vdmFsaWRhdGU6IDEsXG4gIGluZGV0ZXJtaW5hdGU6IDEsXG4gIHJlYWRvbmx5OiAxLFxuICByZXF1aXJlZDogMSxcbiAgc2VsZWN0ZWQ6IDEsXG4gIHdpbGx2YWxpZGF0ZTogMVxufVxudmFyIFNWR19UQUdTID0gW1xuICAnc3ZnJyxcbiAgJ2FsdEdseXBoJywgJ2FsdEdseXBoRGVmJywgJ2FsdEdseXBoSXRlbScsICdhbmltYXRlJywgJ2FuaW1hdGVDb2xvcicsXG4gICdhbmltYXRlTW90aW9uJywgJ2FuaW1hdGVUcmFuc2Zvcm0nLCAnY2lyY2xlJywgJ2NsaXBQYXRoJywgJ2NvbG9yLXByb2ZpbGUnLFxuICAnY3Vyc29yJywgJ2RlZnMnLCAnZGVzYycsICdlbGxpcHNlJywgJ2ZlQmxlbmQnLCAnZmVDb2xvck1hdHJpeCcsXG4gICdmZUNvbXBvbmVudFRyYW5zZmVyJywgJ2ZlQ29tcG9zaXRlJywgJ2ZlQ29udm9sdmVNYXRyaXgnLCAnZmVEaWZmdXNlTGlnaHRpbmcnLFxuICAnZmVEaXNwbGFjZW1lbnRNYXAnLCAnZmVEaXN0YW50TGlnaHQnLCAnZmVGbG9vZCcsICdmZUZ1bmNBJywgJ2ZlRnVuY0InLFxuICAnZmVGdW5jRycsICdmZUZ1bmNSJywgJ2ZlR2F1c3NpYW5CbHVyJywgJ2ZlSW1hZ2UnLCAnZmVNZXJnZScsICdmZU1lcmdlTm9kZScsXG4gICdmZU1vcnBob2xvZ3knLCAnZmVPZmZzZXQnLCAnZmVQb2ludExpZ2h0JywgJ2ZlU3BlY3VsYXJMaWdodGluZycsXG4gICdmZVNwb3RMaWdodCcsICdmZVRpbGUnLCAnZmVUdXJidWxlbmNlJywgJ2ZpbHRlcicsICdmb250JywgJ2ZvbnQtZmFjZScsXG4gICdmb250LWZhY2UtZm9ybWF0JywgJ2ZvbnQtZmFjZS1uYW1lJywgJ2ZvbnQtZmFjZS1zcmMnLCAnZm9udC1mYWNlLXVyaScsXG4gICdmb3JlaWduT2JqZWN0JywgJ2cnLCAnZ2x5cGgnLCAnZ2x5cGhSZWYnLCAnaGtlcm4nLCAnaW1hZ2UnLCAnbGluZScsXG4gICdsaW5lYXJHcmFkaWVudCcsICdtYXJrZXInLCAnbWFzaycsICdtZXRhZGF0YScsICdtaXNzaW5nLWdseXBoJywgJ21wYXRoJyxcbiAgJ3BhdGgnLCAncGF0dGVybicsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ3JhZGlhbEdyYWRpZW50JywgJ3JlY3QnLFxuICAnc2V0JywgJ3N0b3AnLCAnc3dpdGNoJywgJ3N5bWJvbCcsICd0ZXh0JywgJ3RleHRQYXRoJywgJ3RpdGxlJywgJ3RyZWYnLFxuICAndHNwYW4nLCAndXNlJywgJ3ZpZXcnLCAndmtlcm4nXG5dXG5cbmZ1bmN0aW9uIGJlbENyZWF0ZUVsZW1lbnQgKHRhZywgcHJvcHMsIGNoaWxkcmVuKSB7XG4gIHZhciBlbFxuXG4gIC8vIElmIGFuIHN2ZyB0YWcsIGl0IG5lZWRzIGEgbmFtZXNwYWNlXG4gIGlmIChTVkdfVEFHUy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgcHJvcHMubmFtZXNwYWNlID0gU1ZHTlNcbiAgfVxuXG4gIC8vIElmIHdlIGFyZSB1c2luZyBhIG5hbWVzcGFjZVxuICB2YXIgbnMgPSBmYWxzZVxuICBpZiAocHJvcHMubmFtZXNwYWNlKSB7XG4gICAgbnMgPSBwcm9wcy5uYW1lc3BhY2VcbiAgICBkZWxldGUgcHJvcHMubmFtZXNwYWNlXG4gIH1cblxuICAvLyBDcmVhdGUgdGhlIGVsZW1lbnRcbiAgaWYgKG5zKSB7XG4gICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZylcbiAgfSBlbHNlIHtcbiAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKVxuICB9XG5cbiAgLy8gSWYgYWRkaW5nIG9ubG9hZCBldmVudHNcbiAgaWYgKHByb3BzLm9ubG9hZCB8fCBwcm9wcy5vbnVubG9hZCkge1xuICAgIHZhciBsb2FkID0gcHJvcHMub25sb2FkIHx8IGZ1bmN0aW9uICgpIHt9XG4gICAgdmFyIHVubG9hZCA9IHByb3BzLm9udW5sb2FkIHx8IGZ1bmN0aW9uICgpIHt9XG4gICAgb25sb2FkKGVsLCBmdW5jdGlvbiBiZWxfb25sb2FkICgpIHtcbiAgICAgIGxvYWQoZWwpXG4gICAgfSwgZnVuY3Rpb24gYmVsX29udW5sb2FkICgpIHtcbiAgICAgIHVubG9hZChlbClcbiAgICB9LFxuICAgIC8vIFdlIGhhdmUgdG8gdXNlIG5vbi1zdGFuZGFyZCBgY2FsbGVyYCB0byBmaW5kIHdobyBpbnZva2VzIGBiZWxDcmVhdGVFbGVtZW50YFxuICAgIGJlbENyZWF0ZUVsZW1lbnQuY2FsbGVyLmNhbGxlci5jYWxsZXIpXG4gICAgZGVsZXRlIHByb3BzLm9ubG9hZFxuICAgIGRlbGV0ZSBwcm9wcy5vbnVubG9hZFxuICB9XG5cbiAgLy8gQ3JlYXRlIHRoZSBwcm9wZXJ0aWVzXG4gIGZvciAodmFyIHAgaW4gcHJvcHMpIHtcbiAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgIHZhciBrZXkgPSBwLnRvTG93ZXJDYXNlKClcbiAgICAgIHZhciB2YWwgPSBwcm9wc1twXVxuICAgICAgLy8gTm9ybWFsaXplIGNsYXNzTmFtZVxuICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzbmFtZScpIHtcbiAgICAgICAga2V5ID0gJ2NsYXNzJ1xuICAgICAgICBwID0gJ2NsYXNzJ1xuICAgICAgfVxuICAgICAgLy8gVGhlIGZvciBhdHRyaWJ1dGUgZ2V0cyB0cmFuc2Zvcm1lZCB0byBodG1sRm9yLCBidXQgd2UganVzdCBzZXQgYXMgZm9yXG4gICAgICBpZiAocCA9PT0gJ2h0bWxGb3InKSB7XG4gICAgICAgIHAgPSAnZm9yJ1xuICAgICAgfVxuICAgICAgLy8gSWYgYSBwcm9wZXJ0eSBpcyBib29sZWFuLCBzZXQgaXRzZWxmIHRvIHRoZSBrZXlcbiAgICAgIGlmIChCT09MX1BST1BTW2tleV0pIHtcbiAgICAgICAgaWYgKHZhbCA9PT0gJ3RydWUnKSB2YWwgPSBrZXlcbiAgICAgICAgZWxzZSBpZiAodmFsID09PSAnZmFsc2UnKSBjb250aW51ZVxuICAgICAgfVxuICAgICAgLy8gSWYgYSBwcm9wZXJ0eSBwcmVmZXJzIGJlaW5nIHNldCBkaXJlY3RseSB2cyBzZXRBdHRyaWJ1dGVcbiAgICAgIGlmIChrZXkuc2xpY2UoMCwgMikgPT09ICdvbicpIHtcbiAgICAgICAgZWxbcF0gPSB2YWxcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChucykge1xuICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIHAsIHZhbClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUocCwgdmFsKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kQ2hpbGQgKGNoaWxkcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjaGlsZHMpKSByZXR1cm5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG5vZGUgPSBjaGlsZHNbaV1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgICAgIGFwcGVuZENoaWxkKG5vZGUpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgdHlwZW9mIG5vZGUgPT09ICdib29sZWFuJyB8fFxuICAgICAgICBub2RlIGluc3RhbmNlb2YgRGF0ZSB8fFxuICAgICAgICBub2RlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnRvU3RyaW5nKClcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBub2RlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoZWwubGFzdENoaWxkICYmIGVsLmxhc3RDaGlsZC5ub2RlTmFtZSA9PT0gJyN0ZXh0Jykge1xuICAgICAgICAgIGVsLmxhc3RDaGlsZC5ub2RlVmFsdWUgKz0gbm9kZVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUpXG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlICYmIG5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQobm9kZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXBwZW5kQ2hpbGQoY2hpbGRyZW4pXG5cbiAgcmV0dXJuIGVsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gaHlwZXJ4KGJlbENyZWF0ZUVsZW1lbnQpXG5tb2R1bGUuZXhwb3J0cy5jcmVhdGVFbGVtZW50ID0gYmVsQ3JlYXRlRWxlbWVudFxuIiwiXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbVZ0Y0hSNUxtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSWlMQ0ptYVd4bElqb2liM1YwTG1wekxtMWhjQ0lzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWlKZGZRPT0iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXJndW1lbnRzW2ldICE9PSB1bmRlZmluZWQpIHJldHVybiBhcmd1bWVudHNbaV07XG4gICAgfVxufTtcbiIsInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnaXMtZnVuY3Rpb24nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZvckVhY2hcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuXG5mdW5jdGlvbiBmb3JFYWNoKGxpc3QsIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKGl0ZXJhdG9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpdGVyYXRvciBtdXN0IGJlIGEgZnVuY3Rpb24nKVxuICAgIH1cblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgICAgICBjb250ZXh0ID0gdGhpc1xuICAgIH1cbiAgICBcbiAgICBpZiAodG9TdHJpbmcuY2FsbChsaXN0KSA9PT0gJ1tvYmplY3QgQXJyYXldJylcbiAgICAgICAgZm9yRWFjaEFycmF5KGxpc3QsIGl0ZXJhdG9yLCBjb250ZXh0KVxuICAgIGVsc2UgaWYgKHR5cGVvZiBsaXN0ID09PSAnc3RyaW5nJylcbiAgICAgICAgZm9yRWFjaFN0cmluZyhsaXN0LCBpdGVyYXRvciwgY29udGV4dClcbiAgICBlbHNlXG4gICAgICAgIGZvckVhY2hPYmplY3QobGlzdCwgaXRlcmF0b3IsIGNvbnRleHQpXG59XG5cbmZ1bmN0aW9uIGZvckVhY2hBcnJheShhcnJheSwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksIGkpKSB7XG4gICAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIGFycmF5W2ldLCBpLCBhcnJheSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZm9yRWFjaFN0cmluZyhzdHJpbmcsIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHN0cmluZy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAvLyBubyBzdWNoIHRoaW5nIGFzIGEgc3BhcnNlIHN0cmluZy5cbiAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBzdHJpbmcuY2hhckF0KGkpLCBpLCBzdHJpbmcpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBmb3JFYWNoT2JqZWN0KG9iamVjdCwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBmb3IgKHZhciBrIGluIG9iamVjdCkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGspKSB7XG4gICAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9iamVjdFtrXSwgaywgb2JqZWN0KVxuICAgICAgICB9XG4gICAgfVxufVxuIiwidmFyIHRvcExldmVsID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOlxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge31cbnZhciBtaW5Eb2MgPSByZXF1aXJlKCdtaW4tZG9jdW1lbnQnKTtcblxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGRvY3VtZW50O1xufSBlbHNlIHtcbiAgICB2YXIgZG9jY3kgPSB0b3BMZXZlbFsnX19HTE9CQUxfRE9DVU1FTlRfQ0FDSEVANCddO1xuXG4gICAgaWYgKCFkb2NjeSkge1xuICAgICAgICBkb2NjeSA9IHRvcExldmVsWydfX0dMT0JBTF9ET0NVTUVOVF9DQUNIRUA0J10gPSBtaW5Eb2M7XG4gICAgfVxuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBkb2NjeTtcbn1cbiIsImlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpe1xuICAgIG1vZHVsZS5leHBvcnRzID0gc2VsZjtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7fTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gYXR0cmlidXRlVG9Qcm9wZXJ0eVxuXG52YXIgdHJhbnNmb3JtID0ge1xuICAnY2xhc3MnOiAnY2xhc3NOYW1lJyxcbiAgJ2Zvcic6ICdodG1sRm9yJyxcbiAgJ2h0dHAtZXF1aXYnOiAnaHR0cEVxdWl2J1xufVxuXG5mdW5jdGlvbiBhdHRyaWJ1dGVUb1Byb3BlcnR5IChoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFnTmFtZSwgYXR0cnMsIGNoaWxkcmVuKSB7XG4gICAgZm9yICh2YXIgYXR0ciBpbiBhdHRycykge1xuICAgICAgaWYgKGF0dHIgaW4gdHJhbnNmb3JtKSB7XG4gICAgICAgIGF0dHJzW3RyYW5zZm9ybVthdHRyXV0gPSBhdHRyc1thdHRyXVxuICAgICAgICBkZWxldGUgYXR0cnNbYXR0cl1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGgodGFnTmFtZSwgYXR0cnMsIGNoaWxkcmVuKVxuICB9XG59XG4iLCJ2YXIgYXR0clRvUHJvcCA9IHJlcXVpcmUoJ2h5cGVyc2NyaXB0LWF0dHJpYnV0ZS10by1wcm9wZXJ0eScpXG5cbnZhciBWQVIgPSAwLCBURVhUID0gMSwgT1BFTiA9IDIsIENMT1NFID0gMywgQVRUUiA9IDRcbnZhciBBVFRSX0tFWSA9IDUsIEFUVFJfS0VZX1cgPSA2XG52YXIgQVRUUl9WQUxVRV9XID0gNywgQVRUUl9WQUxVRSA9IDhcbnZhciBBVFRSX1ZBTFVFX1NRID0gOSwgQVRUUl9WQUxVRV9EUSA9IDEwXG52YXIgQVRUUl9FUSA9IDExLCBBVFRSX0JSRUFLID0gMTJcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaCwgb3B0cykge1xuICBoID0gYXR0clRvUHJvcChoKVxuICBpZiAoIW9wdHMpIG9wdHMgPSB7fVxuICB2YXIgY29uY2F0ID0gb3B0cy5jb25jYXQgfHwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gU3RyaW5nKGEpICsgU3RyaW5nKGIpXG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKHN0cmluZ3MpIHtcbiAgICB2YXIgc3RhdGUgPSBURVhULCByZWcgPSAnJ1xuICAgIHZhciBhcmdsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgdmFyIHBhcnRzID0gW11cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGkgPCBhcmdsZW4gLSAxKSB7XG4gICAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbaSsxXVxuICAgICAgICB2YXIgcCA9IHBhcnNlKHN0cmluZ3NbaV0pXG4gICAgICAgIHZhciB4c3RhdGUgPSBzdGF0ZVxuICAgICAgICBpZiAoeHN0YXRlID09PSBBVFRSX1ZBTFVFX0RRKSB4c3RhdGUgPSBBVFRSX1ZBTFVFXG4gICAgICAgIGlmICh4c3RhdGUgPT09IEFUVFJfVkFMVUVfU1EpIHhzdGF0ZSA9IEFUVFJfVkFMVUVcbiAgICAgICAgaWYgKHhzdGF0ZSA9PT0gQVRUUl9WQUxVRV9XKSB4c3RhdGUgPSBBVFRSX1ZBTFVFXG4gICAgICAgIGlmICh4c3RhdGUgPT09IEFUVFIpIHhzdGF0ZSA9IEFUVFJfS0VZXG4gICAgICAgIHAucHVzaChbIFZBUiwgeHN0YXRlLCBhcmcgXSlcbiAgICAgICAgcGFydHMucHVzaC5hcHBseShwYXJ0cywgcClcbiAgICAgIH0gZWxzZSBwYXJ0cy5wdXNoLmFwcGx5KHBhcnRzLCBwYXJzZShzdHJpbmdzW2ldKSlcbiAgICB9XG5cbiAgICB2YXIgdHJlZSA9IFtudWxsLHt9LFtdXVxuICAgIHZhciBzdGFjayA9IFtbdHJlZSwtMV1dXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGN1ciA9IHN0YWNrW3N0YWNrLmxlbmd0aC0xXVswXVxuICAgICAgdmFyIHAgPSBwYXJ0c1tpXSwgcyA9IHBbMF1cbiAgICAgIGlmIChzID09PSBPUEVOICYmIC9eXFwvLy50ZXN0KHBbMV0pKSB7XG4gICAgICAgIHZhciBpeCA9IHN0YWNrW3N0YWNrLmxlbmd0aC0xXVsxXVxuICAgICAgICBpZiAoc3RhY2subGVuZ3RoID4gMSkge1xuICAgICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgICAgc3RhY2tbc3RhY2subGVuZ3RoLTFdWzBdWzJdW2l4XSA9IGgoXG4gICAgICAgICAgICBjdXJbMF0sIGN1clsxXSwgY3VyWzJdLmxlbmd0aCA/IGN1clsyXSA6IHVuZGVmaW5lZFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzID09PSBPUEVOKSB7XG4gICAgICAgIHZhciBjID0gW3BbMV0se30sW11dXG4gICAgICAgIGN1clsyXS5wdXNoKGMpXG4gICAgICAgIHN0YWNrLnB1c2goW2MsY3VyWzJdLmxlbmd0aC0xXSlcbiAgICAgIH0gZWxzZSBpZiAocyA9PT0gQVRUUl9LRVkgfHwgKHMgPT09IFZBUiAmJiBwWzFdID09PSBBVFRSX0tFWSkpIHtcbiAgICAgICAgdmFyIGtleSA9ICcnXG4gICAgICAgIHZhciBjb3B5S2V5XG4gICAgICAgIGZvciAoOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAocGFydHNbaV1bMF0gPT09IEFUVFJfS0VZKSB7XG4gICAgICAgICAgICBrZXkgPSBjb25jYXQoa2V5LCBwYXJ0c1tpXVsxXSlcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhcnRzW2ldWzBdID09PSBWQVIgJiYgcGFydHNbaV1bMV0gPT09IEFUVFJfS0VZKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnRzW2ldWzJdID09PSAnb2JqZWN0JyAmJiAha2V5KSB7XG4gICAgICAgICAgICAgIGZvciAoY29weUtleSBpbiBwYXJ0c1tpXVsyXSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0c1tpXVsyXS5oYXNPd25Qcm9wZXJ0eShjb3B5S2V5KSAmJiAhY3VyWzFdW2NvcHlLZXldKSB7XG4gICAgICAgICAgICAgICAgICBjdXJbMV1bY29weUtleV0gPSBwYXJ0c1tpXVsyXVtjb3B5S2V5XVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAga2V5ID0gY29uY2F0KGtleSwgcGFydHNbaV1bMl0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRzW2ldWzBdID09PSBBVFRSX0VRKSBpKytcbiAgICAgICAgdmFyIGogPSBpXG4gICAgICAgIGZvciAoOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAocGFydHNbaV1bMF0gPT09IEFUVFJfVkFMVUUgfHwgcGFydHNbaV1bMF0gPT09IEFUVFJfS0VZKSB7XG4gICAgICAgICAgICBpZiAoIWN1clsxXVtrZXldKSBjdXJbMV1ba2V5XSA9IHN0cmZuKHBhcnRzW2ldWzFdKVxuICAgICAgICAgICAgZWxzZSBjdXJbMV1ba2V5XSA9IGNvbmNhdChjdXJbMV1ba2V5XSwgcGFydHNbaV1bMV0pXG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJ0c1tpXVswXSA9PT0gVkFSXG4gICAgICAgICAgJiYgKHBhcnRzW2ldWzFdID09PSBBVFRSX1ZBTFVFIHx8IHBhcnRzW2ldWzFdID09PSBBVFRSX0tFWSkpIHtcbiAgICAgICAgICAgIGlmICghY3VyWzFdW2tleV0pIGN1clsxXVtrZXldID0gc3RyZm4ocGFydHNbaV1bMl0pXG4gICAgICAgICAgICBlbHNlIGN1clsxXVtrZXldID0gY29uY2F0KGN1clsxXVtrZXldLCBwYXJ0c1tpXVsyXSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGtleS5sZW5ndGggJiYgIWN1clsxXVtrZXldICYmIGkgPT09IGpcbiAgICAgICAgICAgICYmIChwYXJ0c1tpXVswXSA9PT0gQ0xPU0UgfHwgcGFydHNbaV1bMF0gPT09IEFUVFJfQlJFQUspKSB7XG4gICAgICAgICAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZnJhc3RydWN0dXJlLmh0bWwjYm9vbGVhbi1hdHRyaWJ1dGVzXG4gICAgICAgICAgICAgIC8vIGVtcHR5IHN0cmluZyBpcyBmYWxzeSwgbm90IHdlbGwgYmVoYXZlZCB2YWx1ZSBpbiBicm93c2VyXG4gICAgICAgICAgICAgIGN1clsxXVtrZXldID0ga2V5LnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHMgPT09IEFUVFJfS0VZKSB7XG4gICAgICAgIGN1clsxXVtwWzFdXSA9IHRydWVcbiAgICAgIH0gZWxzZSBpZiAocyA9PT0gVkFSICYmIHBbMV0gPT09IEFUVFJfS0VZKSB7XG4gICAgICAgIGN1clsxXVtwWzJdXSA9IHRydWVcbiAgICAgIH0gZWxzZSBpZiAocyA9PT0gQ0xPU0UpIHtcbiAgICAgICAgaWYgKHNlbGZDbG9zaW5nKGN1clswXSkgJiYgc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGl4ID0gc3RhY2tbc3RhY2subGVuZ3RoLTFdWzFdXG4gICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICBzdGFja1tzdGFjay5sZW5ndGgtMV1bMF1bMl1baXhdID0gaChcbiAgICAgICAgICAgIGN1clswXSwgY3VyWzFdLCBjdXJbMl0ubGVuZ3RoID8gY3VyWzJdIDogdW5kZWZpbmVkXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHMgPT09IFZBUiAmJiBwWzFdID09PSBURVhUKSB7XG4gICAgICAgIGlmIChwWzJdID09PSB1bmRlZmluZWQgfHwgcFsyXSA9PT0gbnVsbCkgcFsyXSA9ICcnXG4gICAgICAgIGVsc2UgaWYgKCFwWzJdKSBwWzJdID0gY29uY2F0KCcnLCBwWzJdKVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwWzJdWzBdKSkge1xuICAgICAgICAgIGN1clsyXS5wdXNoLmFwcGx5KGN1clsyXSwgcFsyXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJbMl0ucHVzaChwWzJdKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHMgPT09IFRFWFQpIHtcbiAgICAgICAgY3VyWzJdLnB1c2gocFsxXSlcbiAgICAgIH0gZWxzZSBpZiAocyA9PT0gQVRUUl9FUSB8fCBzID09PSBBVFRSX0JSRUFLKSB7XG4gICAgICAgIC8vIG5vLW9wXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuaGFuZGxlZDogJyArIHMpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRyZWVbMl0ubGVuZ3RoID4gMSAmJiAvXlxccyokLy50ZXN0KHRyZWVbMl1bMF0pKSB7XG4gICAgICB0cmVlWzJdLnNoaWZ0KClcbiAgICB9XG5cbiAgICBpZiAodHJlZVsyXS5sZW5ndGggPiAyXG4gICAgfHwgKHRyZWVbMl0ubGVuZ3RoID09PSAyICYmIC9cXFMvLnRlc3QodHJlZVsyXVsxXSkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdtdWx0aXBsZSByb290IGVsZW1lbnRzIG11c3QgYmUgd3JhcHBlZCBpbiBhbiBlbmNsb3NpbmcgdGFnJ1xuICAgICAgKVxuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmVlWzJdWzBdKSAmJiB0eXBlb2YgdHJlZVsyXVswXVswXSA9PT0gJ3N0cmluZydcbiAgICAmJiBBcnJheS5pc0FycmF5KHRyZWVbMl1bMF1bMl0pKSB7XG4gICAgICB0cmVlWzJdWzBdID0gaCh0cmVlWzJdWzBdWzBdLCB0cmVlWzJdWzBdWzFdLCB0cmVlWzJdWzBdWzJdKVxuICAgIH1cbiAgICByZXR1cm4gdHJlZVsyXVswXVxuXG4gICAgZnVuY3Rpb24gcGFyc2UgKHN0cikge1xuICAgICAgdmFyIHJlcyA9IFtdXG4gICAgICBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfVykgc3RhdGUgPSBBVFRSXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQXQoaSlcbiAgICAgICAgaWYgKHN0YXRlID09PSBURVhUICYmIGMgPT09ICc8Jykge1xuICAgICAgICAgIGlmIChyZWcubGVuZ3RoKSByZXMucHVzaChbVEVYVCwgcmVnXSlcbiAgICAgICAgICByZWcgPSAnJ1xuICAgICAgICAgIHN0YXRlID0gT1BFTlxuICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+JyAmJiAhcXVvdChzdGF0ZSkpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IE9QRU4pIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKFtPUEVOLHJlZ10pXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9LRVkpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX0tFWSxyZWddKVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUUgJiYgcmVnLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVzLnB1c2goW0FUVFJfVkFMVUUscmVnXSlcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzLnB1c2goW0NMT1NFXSlcbiAgICAgICAgICByZWcgPSAnJ1xuICAgICAgICAgIHN0YXRlID0gVEVYVFxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBURVhUKSB7XG4gICAgICAgICAgcmVnICs9IGNcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gT1BFTiAmJiAvXFxzLy50ZXN0KGMpKSB7XG4gICAgICAgICAgcmVzLnB1c2goW09QRU4sIHJlZ10pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gT1BFTikge1xuICAgICAgICAgIHJlZyArPSBjXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFIgJiYgL1tcXHctXS8udGVzdChjKSkge1xuICAgICAgICAgIHN0YXRlID0gQVRUUl9LRVlcbiAgICAgICAgICByZWcgPSBjXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFIgJiYgL1xccy8udGVzdChjKSkge1xuICAgICAgICAgIGlmIChyZWcubGVuZ3RoKSByZXMucHVzaChbQVRUUl9LRVkscmVnXSlcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9CUkVBS10pXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfS0VZICYmIC9cXHMvLnRlc3QoYykpIHtcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9LRVkscmVnXSlcbiAgICAgICAgICByZWcgPSAnJ1xuICAgICAgICAgIHN0YXRlID0gQVRUUl9LRVlfV1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX0tFWSAmJiBjID09PSAnPScpIHtcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9LRVkscmVnXSxbQVRUUl9FUV0pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJfVkFMVUVfV1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX0tFWSkge1xuICAgICAgICAgIHJlZyArPSBjXG4gICAgICAgIH0gZWxzZSBpZiAoKHN0YXRlID09PSBBVFRSX0tFWV9XIHx8IHN0YXRlID09PSBBVFRSKSAmJiBjID09PSAnPScpIHtcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9FUV0pXG4gICAgICAgICAgc3RhdGUgPSBBVFRSX1ZBTFVFX1dcbiAgICAgICAgfSBlbHNlIGlmICgoc3RhdGUgPT09IEFUVFJfS0VZX1cgfHwgc3RhdGUgPT09IEFUVFIpICYmICEvXFxzLy50ZXN0KGMpKSB7XG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfQlJFQUtdKVxuICAgICAgICAgIGlmICgvW1xcdy1dLy50ZXN0KGMpKSB7XG4gICAgICAgICAgICByZWcgKz0gY1xuICAgICAgICAgICAgc3RhdGUgPSBBVFRSX0tFWVxuICAgICAgICAgIH0gZWxzZSBzdGF0ZSA9IEFUVFJcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRV9XICYmIGMgPT09ICdcIicpIHtcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJfVkFMVUVfRFFcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRV9XICYmIGMgPT09IFwiJ1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBBVFRSX1ZBTFVFX1NRXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfRFEgJiYgYyA9PT0gJ1wiJykge1xuICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX1ZBTFVFLHJlZ10sW0FUVFJfQlJFQUtdKVxuICAgICAgICAgIHJlZyA9ICcnXG4gICAgICAgICAgc3RhdGUgPSBBVFRSXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfU1EgJiYgYyA9PT0gXCInXCIpIHtcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9WQUxVRSxyZWddLFtBVFRSX0JSRUFLXSlcbiAgICAgICAgICByZWcgPSAnJ1xuICAgICAgICAgIHN0YXRlID0gQVRUUlxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFX1cgJiYgIS9cXHMvLnRlc3QoYykpIHtcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJfVkFMVUVcbiAgICAgICAgICBpLS1cbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRSAmJiAvXFxzLy50ZXN0KGMpKSB7XG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfVkFMVUUscmVnXSxbQVRUUl9CUkVBS10pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRSB8fCBzdGF0ZSA9PT0gQVRUUl9WQUxVRV9TUVxuICAgICAgICB8fCBzdGF0ZSA9PT0gQVRUUl9WQUxVRV9EUSkge1xuICAgICAgICAgIHJlZyArPSBjXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZSA9PT0gVEVYVCAmJiByZWcubGVuZ3RoKSB7XG4gICAgICAgIHJlcy5wdXNoKFtURVhULHJlZ10pXG4gICAgICAgIHJlZyA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFICYmIHJlZy5sZW5ndGgpIHtcbiAgICAgICAgcmVzLnB1c2goW0FUVFJfVkFMVUUscmVnXSlcbiAgICAgICAgcmVnID0gJydcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfRFEgJiYgcmVnLmxlbmd0aCkge1xuICAgICAgICByZXMucHVzaChbQVRUUl9WQUxVRSxyZWddKVxuICAgICAgICByZWcgPSAnJ1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRV9TUSAmJiByZWcubGVuZ3RoKSB7XG4gICAgICAgIHJlcy5wdXNoKFtBVFRSX1ZBTFVFLHJlZ10pXG4gICAgICAgIHJlZyA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX0tFWSkge1xuICAgICAgICByZXMucHVzaChbQVRUUl9LRVkscmVnXSlcbiAgICAgICAgcmVnID0gJydcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdHJmbiAoeCkge1xuICAgIGlmICh0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHhcbiAgICBlbHNlIGlmICh0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHJldHVybiB4XG4gICAgZWxzZSBpZiAoeCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCcpIHJldHVybiB4XG4gICAgZWxzZSByZXR1cm4gY29uY2F0KCcnLCB4KVxuICB9XG59XG5cbmZ1bmN0aW9uIHF1b3QgKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZSA9PT0gQVRUUl9WQUxVRV9TUSB8fCBzdGF0ZSA9PT0gQVRUUl9WQUxVRV9EUVxufVxuXG52YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuZnVuY3Rpb24gaGFzIChvYmosIGtleSkgeyByZXR1cm4gaGFzT3duLmNhbGwob2JqLCBrZXkpIH1cblxudmFyIGNsb3NlUkUgPSBSZWdFeHAoJ14oJyArIFtcbiAgJ2FyZWEnLCAnYmFzZScsICdiYXNlZm9udCcsICdiZ3NvdW5kJywgJ2JyJywgJ2NvbCcsICdjb21tYW5kJywgJ2VtYmVkJyxcbiAgJ2ZyYW1lJywgJ2hyJywgJ2ltZycsICdpbnB1dCcsICdpc2luZGV4JywgJ2tleWdlbicsICdsaW5rJywgJ21ldGEnLCAncGFyYW0nLFxuICAnc291cmNlJywgJ3RyYWNrJywgJ3dicicsXG4gIC8vIFNWRyBUQUdTXG4gICdhbmltYXRlJywgJ2FuaW1hdGVUcmFuc2Zvcm0nLCAnY2lyY2xlJywgJ2N1cnNvcicsICdkZXNjJywgJ2VsbGlwc2UnLFxuICAnZmVCbGVuZCcsICdmZUNvbG9yTWF0cml4JywgJ2ZlQ29tcG9uZW50VHJhbnNmZXInLCAnZmVDb21wb3NpdGUnLFxuICAnZmVDb252b2x2ZU1hdHJpeCcsICdmZURpZmZ1c2VMaWdodGluZycsICdmZURpc3BsYWNlbWVudE1hcCcsXG4gICdmZURpc3RhbnRMaWdodCcsICdmZUZsb29kJywgJ2ZlRnVuY0EnLCAnZmVGdW5jQicsICdmZUZ1bmNHJywgJ2ZlRnVuY1InLFxuICAnZmVHYXVzc2lhbkJsdXInLCAnZmVJbWFnZScsICdmZU1lcmdlTm9kZScsICdmZU1vcnBob2xvZ3knLFxuICAnZmVPZmZzZXQnLCAnZmVQb2ludExpZ2h0JywgJ2ZlU3BlY3VsYXJMaWdodGluZycsICdmZVNwb3RMaWdodCcsICdmZVRpbGUnLFxuICAnZmVUdXJidWxlbmNlJywgJ2ZvbnQtZmFjZS1mb3JtYXQnLCAnZm9udC1mYWNlLW5hbWUnLCAnZm9udC1mYWNlLXVyaScsXG4gICdnbHlwaCcsICdnbHlwaFJlZicsICdoa2VybicsICdpbWFnZScsICdsaW5lJywgJ21pc3NpbmctZ2x5cGgnLCAnbXBhdGgnLFxuICAncGF0aCcsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ3JlY3QnLCAnc2V0JywgJ3N0b3AnLCAndHJlZicsICd1c2UnLCAndmlldycsXG4gICd2a2Vybidcbl0uam9pbignfCcpICsgJykoPzpbXFwuI11bYS16QS1aMC05XFx1MDA3Ri1cXHVGRkZGXzotXSspKiQnKVxuZnVuY3Rpb24gc2VsZkNsb3NpbmcgKHRhZykgeyByZXR1cm4gY2xvc2VSRS50ZXN0KHRhZykgfVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCd5by15bycpXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgc3RhcnQ6IHJlcXVpcmUoJy4vc3RhcnQnKSxcbiAgcHVsbDogcmVxdWlyZSgnLi9wdWxsJyksXG4gIGh0bWw6IHJlcXVpcmUoJy4vaHRtbCcpXG4gIC8vIGNzczogcmVxdWlyZSgnc2hlZXRpZnknKSwgP1xuICAvLyByb3V0ZXI6IHJlcXVpcmUoJ3NoZWV0LXJvdXRlcicpLCA/XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ3B1bGwtc3RyZWFtJylcbiIsInZhciBkZWZpbmVkID0gcmVxdWlyZSgnZGVmaW5lZCcpXG52YXIgcHVsbCA9IHJlcXVpcmUoJ3B1bGwtc3RyZWFtJylcbnZhciBub3RpZnkgPSByZXF1aXJlKCdwdWxsLW5vdGlmeScpXG52YXIgY2F0ID0gcmVxdWlyZSgncHVsbC1jYXQnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YXJ0XG5cbi8qXG4gIOKUjOKUgOKUgOKUgOKUgOKUgOKUgCBlZmZlY3RBY3Rpb25zU291cmNlcyDil4DilIDilIDilIDilIDilIDilIDilIDilJBcbiAg4pa8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5hY3Rpb25zIOKUgOKWtiBzdGF0ZXMg4pSA4pa2IGVmZmVjdHMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gIOKWsiAgICAgICAgICB8XG4gIHwgICAgICAgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pa2IG1vZGVscyDilIDilrYgdmlld3Mg4pSA4pSQXG4gIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAICBkaXNwYXRjaCDil4DilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiovXG5cbmZ1bmN0aW9uIHN0YXJ0IChhcHApIHtcbiAgYXBwID0gZGVmaW5lZChhcHAsIHt9KVxuXG4gIHZhciBpbml0ID0gZGVmaW5lZChhcHAuaW5pdCwgZGVmYXVsdEluaXQpXG4gIHZhciB1cGRhdGUgPSBkZWZpbmVkKGFwcC51cGRhdGUsIGRlZmF1bHRVcGRhdGUpXG4gIHZhciB2aWV3ID0gZGVmaW5lZChhcHAudmlldywgbm9vcClcbiAgdmFyIHJ1biA9IGRlZmluZWQoYXBwLnJ1biwgbm9vcClcblxuICB2YXIgYWN0aW9ucyA9IG5vdGlmeSgpXG5cbiAgZnVuY3Rpb24gZGlzcGF0Y2ggKG5leHRBY3Rpb24pIHtcbiAgICBhY3Rpb25zKG5leHRBY3Rpb24pXG4gIH1cblxuICB2YXIgaW5pdGlhbFN0YXRlID0gaW5pdC5jYWxsKGFwcClcbiAgdmFyIHN0YXRlcyA9IG5vdGlmeSgpXG4gIHB1bGwoXG4gICAgYWN0aW9ucy5saXN0ZW4oKSxcbiAgICBzY2FuKGluaXRpYWxTdGF0ZSwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHJldHVybiB1cGRhdGUuY2FsbChhcHAsIHN0YXRlLm1vZGVsLCBhY3Rpb24pXG4gICAgfSksXG4gICAgcHVsbC5kcmFpbihzdGF0ZXMpXG4gIClcblxuICB2YXIgbW9kZWxzID0gbm90aWZ5KClcbiAgcHVsbChcbiAgICBzdGF0ZXMubGlzdGVuKCksXG4gICAgcHVsbC5tYXAoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGUubW9kZWxcbiAgICB9KSxcbiAgICBkaWZmZXJlbmNlKCksXG4gICAgcHVsbC5kcmFpbihtb2RlbHMpXG4gIClcblxuICB2YXIgdmlld3MgPSBub3RpZnkoKVxuICBwdWxsKFxuICAgIG1vZGVscy5saXN0ZW4oKSxcbiAgICBwdWxsLm1hcChmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgIHJldHVybiB2aWV3LmNhbGwoYXBwLCBtb2RlbCwgZGlzcGF0Y2gpXG4gICAgfSksXG4gICAgcHVsbC5maWx0ZXIoaXNOb3ROaWwpLFxuICAgIHB1bGwuZHJhaW4odmlld3MpXG4gIClcblxuICB2YXIgZWZmZWN0cyA9IG5vdGlmeSgpXG4gIHB1bGwoXG4gICAgc3RhdGVzLmxpc3RlbigpLFxuICAgIHB1bGwubWFwKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgcmV0dXJuIHN0YXRlLmVmZmVjdFxuICAgIH0pLFxuICAgIHB1bGwuZmlsdGVyKGlzTm90TmlsKSxcbiAgICBwdWxsLmRyYWluKGVmZmVjdHMpXG4gIClcblxuICB2YXIgZWZmZWN0QWN0aW9uc1NvdXJjZXMgPSBub3RpZnkoKVxuXG4gIHZhciBub3RpZnlzID0ge1xuICAgIGFjdGlvbnM6IGFjdGlvbnMsXG4gICAgc3RhdGVzOiBzdGF0ZXMsXG4gICAgbW9kZWxzOiBtb2RlbHMsXG4gICAgdmlld3M6IHZpZXdzLFxuICAgIGVmZmVjdHM6IGVmZmVjdHMsXG4gICAgZWZmZWN0QWN0aW9uc1NvdXJjZXM6IGVmZmVjdEFjdGlvbnNTb3VyY2VzXG4gIH1cblxuICB2YXIgc291cmNlcyA9IHt9XG4gIE9iamVjdC5rZXlzKG5vdGlmeXMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgbGlzdGVuID0gbm90aWZ5c1tuYW1lXS5saXN0ZW5cbiAgICBzb3VyY2VzW25hbWVdID0gKFxuICAgICAgWydzdGF0ZXMnLCAnbW9kZWxzJywgJ2VmZmVjdHMnLCAndmlld3MnXS5pbmRleE9mKG5hbWUpICE9PSAtMVxuICAgICkgPyByZXBsYXlMYXN0VmFsdWUobGlzdGVuKSA6IGxpc3RlblxuICB9KVxuXG4gIHB1bGwoXG4gICAgZWZmZWN0cy5saXN0ZW4oKSxcbiAgICBwdWxsLm1hcChmdW5jdGlvbiAoZWZmZWN0KSB7XG4gICAgICByZXR1cm4gcnVuLmNhbGwoYXBwLCBlZmZlY3QsIHNvdXJjZXMpXG4gICAgfSksXG4gICAgcHVsbC5maWx0ZXIoaXNOb3ROaWwpLFxuICAgIHB1bGwuZHJhaW4oZWZmZWN0QWN0aW9uc1NvdXJjZXMpXG4gIClcblxuICBwdWxsKFxuICAgIGVmZmVjdEFjdGlvbnNTb3VyY2VzLmxpc3RlbigpLFxuICAgIGRyYWluTWFueShhY3Rpb25zKVxuICApXG5cbiAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgc3RhdGVzKGluaXRpYWxTdGF0ZSlcbiAgfSlcblxuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc291cmNlcywgeyBzdG9wOiBzdG9wIH0pXG5cbiAgZnVuY3Rpb24gc3RvcCAoKSB7XG4gICAgT2JqZWN0LmtleXMobm90aWZ5cykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgbm90aWZ5c1tuYW1lXS5lbmQoKVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gbm9vcCAoKSB7fVxuZnVuY3Rpb24gaXNOb3ROaWwgKHgpIHsgcmV0dXJuIHggIT0gbnVsbCB9XG5mdW5jdGlvbiBkZWZhdWx0SW5pdCAoKSB7IHJldHVybiB7IG1vZGVsOiBudWxsIH0gfVxuZnVuY3Rpb24gZGVmYXVsdFVwZGF0ZSAobW9kZWwpIHsgcmV0dXJuIHsgbW9kZWw6IG1vZGVsIH0gfVxuXG4vLyBUT0RPIGV4dHJhY3Qgb3V0IGludG8gYHB1bGwtc2NhbmBcbmZ1bmN0aW9uIHNjYW4gKHZhbHVlLCBhY2N1bXVsYXRvcikge1xuICByZXR1cm4gcHVsbC5tYXAoZnVuY3Rpb24gdXBkYXRlIChuZXh0VmFsdWUpIHtcbiAgICB2YWx1ZSA9IGFjY3VtdWxhdG9yKHZhbHVlLCBuZXh0VmFsdWUpXG4gICAgcmV0dXJuIHZhbHVlXG4gIH0pXG59XG5cbi8vIFRPRE8gZXh0cmFjdCBvdXQgaW50byBgcHVsbC1kaWZmZXJlbmNlYFxuZnVuY3Rpb24gZGlmZmVyZW5jZSAoKSB7XG4gIHZhciBsYXN0VmFsdWVcbiAgcmV0dXJuIHB1bGwuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBjb25kaXRpb24gPSB2YWx1ZSAhPT0gbGFzdFZhbHVlXG4gICAgbGFzdFZhbHVlID0gdmFsdWVcbiAgICByZXR1cm4gY29uZGl0aW9uXG4gIH0pXG59XG5cbi8vIFRPRE8gZXh0cmFjdCBvdXQgaW50byBgcHVsbC1kcmFpbi1tYW55YCA/XG5mdW5jdGlvbiBkcmFpbk1hbnkgKGNiKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgcHVsbChcbiAgICAgIHNvdXJjZSxcbiAgICAgIHB1bGwuZHJhaW4oZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICBwdWxsKFxuICAgICAgICAgIHN0cmVhbSxcbiAgICAgICAgICBwdWxsLmRyYWluKGNiKVxuICAgICAgICApXG4gICAgICB9KVxuICAgIClcbiAgfVxufVxuXG5mdW5jdGlvbiByZXBsYXlMYXN0VmFsdWUgKGxpc3Rlbikge1xuICB2YXIgbGFzdFZhbHVlXG4gIHB1bGwoXG4gICAgbGlzdGVuKCksXG4gICAgcHVsbC5kcmFpbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlXG4gICAgfSlcbiAgKVxuXG4gIHJldHVybiBmdW5jdGlvbiBsaXN0ZW5XaXRoTGFzdFZhbHVlICgpIHtcbiAgICByZXR1cm4gY2F0KFtcbiAgICAgIGxhc3RWYWx1ZSA9PSBudWxsID8gdW5kZWZpbmVkIDogcHVsbC52YWx1ZXMoW2xhc3RWYWx1ZV0pLFxuICAgICAgbGlzdGVuKClcbiAgICBdKVxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGlzRnVuY3Rpb25cblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uIChmbikge1xuICB2YXIgc3RyaW5nID0gdG9TdHJpbmcuY2FsbChmbilcbiAgcmV0dXJuIHN0cmluZyA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJyB8fFxuICAgICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgc3RyaW5nICE9PSAnW29iamVjdCBSZWdFeHBdJykgfHxcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgLy8gSUU4IGFuZCBiZWxvd1xuICAgICAoZm4gPT09IHdpbmRvdy5zZXRUaW1lb3V0IHx8XG4gICAgICBmbiA9PT0gd2luZG93LmFsZXJ0IHx8XG4gICAgICBmbiA9PT0gd2luZG93LmNvbmZpcm0gfHxcbiAgICAgIGZuID09PSB3aW5kb3cucHJvbXB0KSlcbn07XG4iLCIvLyBDcmVhdGUgYSByYW5nZSBvYmplY3QgZm9yIGVmZmljZW50bHkgcmVuZGVyaW5nIHN0cmluZ3MgdG8gZWxlbWVudHMuXG52YXIgcmFuZ2U7XG5cbnZhciB0ZXN0RWwgPSAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykgP1xuICAgIGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgOlxuICAgIHt9O1xuXG52YXIgWEhUTUwgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG52YXIgRUxFTUVOVF9OT0RFID0gMTtcbnZhciBURVhUX05PREUgPSAzO1xudmFyIENPTU1FTlRfTk9ERSA9IDg7XG5cbi8vIEZpeGVzIDxodHRwczovL2dpdGh1Yi5jb20vcGF0cmljay1zdGVlbGUtaWRlbS9tb3JwaGRvbS9pc3N1ZXMvMzI+XG4vLyAoSUU3KyBzdXBwb3J0KSA8PUlFNyBkb2VzIG5vdCBzdXBwb3J0IGVsLmhhc0F0dHJpYnV0ZShuYW1lKVxudmFyIGhhc0F0dHJpYnV0ZU5TO1xuXG5pZiAodGVzdEVsLmhhc0F0dHJpYnV0ZU5TKSB7XG4gICAgaGFzQXR0cmlidXRlTlMgPSBmdW5jdGlvbihlbCwgbmFtZXNwYWNlVVJJLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBlbC5oYXNBdHRyaWJ1dGVOUyhuYW1lc3BhY2VVUkksIG5hbWUpO1xuICAgIH07XG59IGVsc2UgaWYgKHRlc3RFbC5oYXNBdHRyaWJ1dGUpIHtcbiAgICBoYXNBdHRyaWJ1dGVOUyA9IGZ1bmN0aW9uKGVsLCBuYW1lc3BhY2VVUkksIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGVsLmhhc0F0dHJpYnV0ZShuYW1lKTtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBoYXNBdHRyaWJ1dGVOUyA9IGZ1bmN0aW9uKGVsLCBuYW1lc3BhY2VVUkksIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICEhZWwuZ2V0QXR0cmlidXRlTm9kZShuYW1lKTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBlbXB0eShvKSB7XG4gICAgZm9yICh2YXIgayBpbiBvKSB7XG4gICAgICAgIGlmIChvLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHRvRWxlbWVudChzdHIpIHtcbiAgICBpZiAoIXJhbmdlICYmIGRvY3VtZW50LmNyZWF0ZVJhbmdlKSB7XG4gICAgICAgIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShkb2N1bWVudC5ib2R5KTtcbiAgICB9XG5cbiAgICB2YXIgZnJhZ21lbnQ7XG4gICAgaWYgKHJhbmdlICYmIHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCkge1xuICAgICAgICBmcmFnbWVudCA9IHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChzdHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpO1xuICAgICAgICBmcmFnbWVudC5pbm5lckhUTUwgPSBzdHI7XG4gICAgfVxuICAgIHJldHVybiBmcmFnbWVudC5jaGlsZE5vZGVzWzBdO1xufVxuXG52YXIgc3BlY2lhbEVsSGFuZGxlcnMgPSB7XG4gICAgLyoqXG4gICAgICogTmVlZGVkIGZvciBJRS4gQXBwYXJlbnRseSBJRSBkb2Vzbid0IHRoaW5rIHRoYXQgXCJzZWxlY3RlZFwiIGlzIGFuXG4gICAgICogYXR0cmlidXRlIHdoZW4gcmVhZGluZyBvdmVyIHRoZSBhdHRyaWJ1dGVzIHVzaW5nIHNlbGVjdEVsLmF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBPUFRJT046IGZ1bmN0aW9uKGZyb21FbCwgdG9FbCkge1xuICAgICAgICBmcm9tRWwuc2VsZWN0ZWQgPSB0b0VsLnNlbGVjdGVkO1xuICAgICAgICBpZiAoZnJvbUVsLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICBmcm9tRWwuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21FbC5yZW1vdmVBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJycpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUaGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSBpcyBzcGVjaWFsIGZvciB0aGUgPGlucHV0PiBlbGVtZW50IHNpbmNlIGl0IHNldHNcbiAgICAgKiB0aGUgaW5pdGlhbCB2YWx1ZS4gQ2hhbmdpbmcgdGhlIFwidmFsdWVcIiBhdHRyaWJ1dGUgd2l0aG91dCBjaGFuZ2luZyB0aGVcbiAgICAgKiBcInZhbHVlXCIgcHJvcGVydHkgd2lsbCBoYXZlIG5vIGVmZmVjdCBzaW5jZSBpdCBpcyBvbmx5IHVzZWQgdG8gdGhlIHNldCB0aGVcbiAgICAgKiBpbml0aWFsIHZhbHVlLiAgU2ltaWxhciBmb3IgdGhlIFwiY2hlY2tlZFwiIGF0dHJpYnV0ZSwgYW5kIFwiZGlzYWJsZWRcIi5cbiAgICAgKi9cbiAgICBJTlBVVDogZnVuY3Rpb24oZnJvbUVsLCB0b0VsKSB7XG4gICAgICAgIGZyb21FbC5jaGVja2VkID0gdG9FbC5jaGVja2VkO1xuICAgICAgICBpZiAoZnJvbUVsLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIGZyb21FbC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcm9tRWwucmVtb3ZlQXR0cmlidXRlKCdjaGVja2VkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJvbUVsLnZhbHVlICE9PSB0b0VsLnZhbHVlKSB7XG4gICAgICAgICAgICBmcm9tRWwudmFsdWUgPSB0b0VsLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXNBdHRyaWJ1dGVOUyh0b0VsLCBudWxsLCAndmFsdWUnKSkge1xuICAgICAgICAgICAgZnJvbUVsLnJlbW92ZUF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZyb21FbC5kaXNhYmxlZCA9IHRvRWwuZGlzYWJsZWQ7XG4gICAgICAgIGlmIChmcm9tRWwuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGZyb21FbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJvbUVsLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBURVhUQVJFQTogZnVuY3Rpb24oZnJvbUVsLCB0b0VsKSB7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IHRvRWwudmFsdWU7XG4gICAgICAgIGlmIChmcm9tRWwudmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBmcm9tRWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcm9tRWwuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgZnJvbUVsLmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdHdvIG5vZGUncyBuYW1lcyBhbmQgbmFtZXNwYWNlIFVSSXMgYXJlIHRoZSBzYW1lLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG52YXIgY29tcGFyZU5vZGVOYW1lcyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYS5ub2RlTmFtZSA9PT0gYi5ub2RlTmFtZSAmJlxuICAgICAgICAgICBhLm5hbWVzcGFjZVVSSSA9PT0gYi5uYW1lc3BhY2VVUkk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhbiBlbGVtZW50LCBvcHRpb25hbGx5IHdpdGggYSBrbm93biBuYW1lc3BhY2UgVVJJLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRoZSBlbGVtZW50IG5hbWUsIGUuZy4gJ2Rpdicgb3IgJ3N2ZydcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZXNwYWNlVVJJXSB0aGUgZWxlbWVudCdzIG5hbWVzcGFjZSBVUkksIGkuZS4gdGhlIHZhbHVlIG9mXG4gKiBpdHMgYHhtbG5zYCBhdHRyaWJ1dGUgb3IgaXRzIGluZmVycmVkIG5hbWVzcGFjZS5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50TlMobmFtZSwgbmFtZXNwYWNlVVJJKSB7XG4gICAgcmV0dXJuICFuYW1lc3BhY2VVUkkgfHwgbmFtZXNwYWNlVVJJID09PSBYSFRNTCA/XG4gICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSkgOlxuICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlVVJJLCBuYW1lKTtcbn1cblxuLyoqXG4gKiBMb29wIG92ZXIgYWxsIG9mIHRoZSBhdHRyaWJ1dGVzIG9uIHRoZSB0YXJnZXQgbm9kZSBhbmQgbWFrZSBzdXJlIHRoZSBvcmlnaW5hbFxuICogRE9NIG5vZGUgaGFzIHRoZSBzYW1lIGF0dHJpYnV0ZXMuIElmIGFuIGF0dHJpYnV0ZSBmb3VuZCBvbiB0aGUgb3JpZ2luYWwgbm9kZVxuICogaXMgbm90IG9uIHRoZSBuZXcgbm9kZSB0aGVuIHJlbW92ZSBpdCBmcm9tIHRoZSBvcmlnaW5hbCBub2RlLlxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IGZyb21Ob2RlXG4gKiBAcGFyYW0gIHtFbGVtZW50fSB0b05vZGVcbiAqL1xuZnVuY3Rpb24gbW9ycGhBdHRycyhmcm9tTm9kZSwgdG9Ob2RlKSB7XG4gICAgdmFyIGF0dHJzID0gdG9Ob2RlLmF0dHJpYnV0ZXM7XG4gICAgdmFyIGk7XG4gICAgdmFyIGF0dHI7XG4gICAgdmFyIGF0dHJOYW1lO1xuICAgIHZhciBhdHRyTmFtZXNwYWNlVVJJO1xuICAgIHZhciBhdHRyVmFsdWU7XG4gICAgdmFyIGZyb21WYWx1ZTtcblxuICAgIGZvciAoaSA9IGF0dHJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGF0dHIgPSBhdHRyc1tpXTtcbiAgICAgICAgYXR0ck5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgIGF0dHJWYWx1ZSA9IGF0dHIudmFsdWU7XG4gICAgICAgIGF0dHJOYW1lc3BhY2VVUkkgPSBhdHRyLm5hbWVzcGFjZVVSSTtcblxuICAgICAgICBpZiAoYXR0ck5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyLmxvY2FsTmFtZSB8fCBhdHRyTmFtZTtcbiAgICAgICAgICAgIGZyb21WYWx1ZSA9IGZyb21Ob2RlLmdldEF0dHJpYnV0ZU5TKGF0dHJOYW1lc3BhY2VVUkksIGF0dHJOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21WYWx1ZSA9IGZyb21Ob2RlLmdldEF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJvbVZhbHVlICE9PSBhdHRyVmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChhdHRyTmFtZXNwYWNlVVJJKSB7XG4gICAgICAgICAgICAgICAgZnJvbU5vZGUuc2V0QXR0cmlidXRlTlMoYXR0ck5hbWVzcGFjZVVSSSwgYXR0ck5hbWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZyb21Ob2RlLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbnkgZXh0cmEgYXR0cmlidXRlcyBmb3VuZCBvbiB0aGUgb3JpZ2luYWwgRE9NIGVsZW1lbnQgdGhhdFxuICAgIC8vIHdlcmVuJ3QgZm91bmQgb24gdGhlIHRhcmdldCBlbGVtZW50LlxuICAgIGF0dHJzID0gZnJvbU5vZGUuYXR0cmlidXRlcztcblxuICAgIGZvciAoaSA9IGF0dHJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGF0dHIgPSBhdHRyc1tpXTtcbiAgICAgICAgaWYgKGF0dHIuc3BlY2lmaWVkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgICAgICBhdHRyTmFtZXNwYWNlVVJJID0gYXR0ci5uYW1lc3BhY2VVUkk7XG5cbiAgICAgICAgICAgIGlmICghaGFzQXR0cmlidXRlTlModG9Ob2RlLCBhdHRyTmFtZXNwYWNlVVJJLCBhdHRyTmFtZXNwYWNlVVJJID8gYXR0ck5hbWUgPSBhdHRyLmxvY2FsTmFtZSB8fCBhdHRyTmFtZSA6IGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyTmFtZXNwYWNlVVJJKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb21Ob2RlLnJlbW92ZUF0dHJpYnV0ZU5TKGF0dHJOYW1lc3BhY2VVUkksIGF0dHIubG9jYWxOYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcm9tTm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIGNoaWxkcmVuIG9mIG9uZSBET00gZWxlbWVudCB0byBhbm90aGVyIERPTSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIG1vdmVDaGlsZHJlbihmcm9tRWwsIHRvRWwpIHtcbiAgICB2YXIgY3VyQ2hpbGQgPSBmcm9tRWwuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY3VyQ2hpbGQpIHtcbiAgICAgICAgdmFyIG5leHRDaGlsZCA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICB0b0VsLmFwcGVuZENoaWxkKGN1ckNoaWxkKTtcbiAgICAgICAgY3VyQ2hpbGQgPSBuZXh0Q2hpbGQ7XG4gICAgfVxuICAgIHJldHVybiB0b0VsO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0R2V0Tm9kZUtleShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuaWQ7XG59XG5cbmZ1bmN0aW9uIG1vcnBoZG9tKGZyb21Ob2RlLCB0b05vZGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdG9Ob2RlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoZnJvbU5vZGUubm9kZU5hbWUgPT09ICcjZG9jdW1lbnQnIHx8IGZyb21Ob2RlLm5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICAgICAgICAgIHZhciB0b05vZGVIdG1sID0gdG9Ob2RlO1xuICAgICAgICAgICAgdG9Ob2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHRtbCcpO1xuICAgICAgICAgICAgdG9Ob2RlLmlubmVySFRNTCA9IHRvTm9kZUh0bWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b05vZGUgPSB0b0VsZW1lbnQodG9Ob2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFhYWCBvcHRpbWl6YXRpb246IGlmIHRoZSBub2RlcyBhcmUgZXF1YWwsIGRvbid0IG1vcnBoIHRoZW1cbiAgICAvKlxuICAgIGlmIChmcm9tTm9kZS5pc0VxdWFsTm9kZSh0b05vZGUpKSB7XG4gICAgICByZXR1cm4gZnJvbU5vZGU7XG4gICAgfVxuICAgICovXG5cbiAgICB2YXIgc2F2ZWRFbHMgPSB7fTsgLy8gVXNlZCB0byBzYXZlIG9mZiBET00gZWxlbWVudHMgd2l0aCBJRHNcbiAgICB2YXIgdW5tYXRjaGVkRWxzID0ge307XG4gICAgdmFyIGdldE5vZGVLZXkgPSBvcHRpb25zLmdldE5vZGVLZXkgfHwgZGVmYXVsdEdldE5vZGVLZXk7XG4gICAgdmFyIG9uQmVmb3JlTm9kZUFkZGVkID0gb3B0aW9ucy5vbkJlZm9yZU5vZGVBZGRlZCB8fCBub29wO1xuICAgIHZhciBvbk5vZGVBZGRlZCA9IG9wdGlvbnMub25Ob2RlQWRkZWQgfHwgbm9vcDtcbiAgICB2YXIgb25CZWZvcmVFbFVwZGF0ZWQgPSBvcHRpb25zLm9uQmVmb3JlRWxVcGRhdGVkIHx8IG9wdGlvbnMub25CZWZvcmVNb3JwaEVsIHx8IG5vb3A7XG4gICAgdmFyIG9uRWxVcGRhdGVkID0gb3B0aW9ucy5vbkVsVXBkYXRlZCB8fCBub29wO1xuICAgIHZhciBvbkJlZm9yZU5vZGVEaXNjYXJkZWQgPSBvcHRpb25zLm9uQmVmb3JlTm9kZURpc2NhcmRlZCB8fCBub29wO1xuICAgIHZhciBvbk5vZGVEaXNjYXJkZWQgPSBvcHRpb25zLm9uTm9kZURpc2NhcmRlZCB8fCBub29wO1xuICAgIHZhciBvbkJlZm9yZUVsQ2hpbGRyZW5VcGRhdGVkID0gb3B0aW9ucy5vbkJlZm9yZUVsQ2hpbGRyZW5VcGRhdGVkIHx8IG9wdGlvbnMub25CZWZvcmVNb3JwaEVsQ2hpbGRyZW4gfHwgbm9vcDtcbiAgICB2YXIgY2hpbGRyZW5Pbmx5ID0gb3B0aW9ucy5jaGlsZHJlbk9ubHkgPT09IHRydWU7XG4gICAgdmFyIG1vdmVkRWxzID0gW107XG5cbiAgICBmdW5jdGlvbiByZW1vdmVOb2RlSGVscGVyKG5vZGUsIG5lc3RlZEluU2F2ZWRFbCkge1xuICAgICAgICB2YXIgaWQgPSBnZXROb2RlS2V5KG5vZGUpO1xuICAgICAgICAvLyBJZiB0aGUgbm9kZSBoYXMgYW4gSUQgdGhlbiBzYXZlIGl0IG9mZiBzaW5jZSB3ZSB3aWxsIHdhbnRcbiAgICAgICAgLy8gdG8gcmV1c2UgaXQgaW4gY2FzZSB0aGUgdGFyZ2V0IERPTSB0cmVlIGhhcyBhIERPTSBlbGVtZW50XG4gICAgICAgIC8vIHdpdGggdGhlIHNhbWUgSURcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBzYXZlZEVsc1tpZF0gPSBub2RlO1xuICAgICAgICB9IGVsc2UgaWYgKCFuZXN0ZWRJblNhdmVkRWwpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBub3QgbmVzdGVkIGluIGEgc2F2ZWQgZWxlbWVudCB0aGVuIHdlIGtub3cgdGhhdCB0aGlzIG5vZGUgaGFzIGJlZW5cbiAgICAgICAgICAgIC8vIGNvbXBsZXRlbHkgZGlzY2FyZGVkIGFuZCB3aWxsIG5vdCBleGlzdCBpbiB0aGUgZmluYWwgRE9NLlxuICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgdmFyIGN1ckNoaWxkID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICAgICAgd2hpbGUgKGN1ckNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTm9kZUhlbHBlcihjdXJDaGlsZCwgbmVzdGVkSW5TYXZlZEVsIHx8IGlkKTtcbiAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Fsa0Rpc2NhcmRlZENoaWxkTm9kZXMobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICB2YXIgY3VyQ2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAoY3VyQ2hpbGQpIHtcblxuXG4gICAgICAgICAgICAgICAgaWYgKCFnZXROb2RlS2V5KGN1ckNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gaGFuZGxlIG5vZGVzIHRoYXQgZG9uJ3QgaGF2ZSBhbiBJRCB0byBhdm9pZCBkb3VibGVcbiAgICAgICAgICAgICAgICAgICAgLy8gd2Fsa2luZyB0aGUgc2FtZSBzYXZlZCBlbGVtZW50LlxuXG4gICAgICAgICAgICAgICAgICAgIG9uTm9kZURpc2NhcmRlZChjdXJDaGlsZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gV2FsayByZWN1cnNpdmVseVxuICAgICAgICAgICAgICAgICAgICB3YWxrRGlzY2FyZGVkQ2hpbGROb2RlcyhjdXJDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VyQ2hpbGQgPSBjdXJDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSwgcGFyZW50Tm9kZSwgYWxyZWFkeVZpc2l0ZWQpIHtcbiAgICAgICAgaWYgKG9uQmVmb3JlTm9kZURpc2NhcmRlZChub2RlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgIGlmIChhbHJlYWR5VmlzaXRlZCkge1xuICAgICAgICAgICAgaWYgKCFnZXROb2RlS2V5KG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKG5vZGUpO1xuICAgICAgICAgICAgICAgIHdhbGtEaXNjYXJkZWRDaGlsZE5vZGVzKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZUhlbHBlcihub2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vcnBoRWwoZnJvbUVsLCB0b0VsLCBhbHJlYWR5VmlzaXRlZCwgY2hpbGRyZW5Pbmx5KSB7XG4gICAgICAgIHZhciB0b0VsS2V5ID0gZ2V0Tm9kZUtleSh0b0VsKTtcbiAgICAgICAgaWYgKHRvRWxLZXkpIHtcbiAgICAgICAgICAgIC8vIElmIGFuIGVsZW1lbnQgd2l0aCBhbiBJRCBpcyBiZWluZyBtb3JwaGVkIHRoZW4gaXQgaXMgd2lsbCBiZSBpbiB0aGUgZmluYWxcbiAgICAgICAgICAgIC8vIERPTSBzbyBjbGVhciBpdCBvdXQgb2YgdGhlIHNhdmVkIGVsZW1lbnRzIGNvbGxlY3Rpb25cbiAgICAgICAgICAgIGRlbGV0ZSBzYXZlZEVsc1t0b0VsS2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY2hpbGRyZW5Pbmx5KSB7XG4gICAgICAgICAgICBpZiAob25CZWZvcmVFbFVwZGF0ZWQoZnJvbUVsLCB0b0VsKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vcnBoQXR0cnMoZnJvbUVsLCB0b0VsKTtcbiAgICAgICAgICAgIG9uRWxVcGRhdGVkKGZyb21FbCk7XG5cbiAgICAgICAgICAgIGlmIChvbkJlZm9yZUVsQ2hpbGRyZW5VcGRhdGVkKGZyb21FbCwgdG9FbCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZyb21FbC5ub2RlTmFtZSAhPT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgICAgdmFyIGN1clRvTm9kZUNoaWxkID0gdG9FbC5maXJzdENoaWxkO1xuICAgICAgICAgICAgdmFyIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tRWwuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHZhciBjdXJUb05vZGVJZDtcblxuICAgICAgICAgICAgdmFyIGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgIHZhciB0b05leHRTaWJsaW5nO1xuICAgICAgICAgICAgdmFyIHNhdmVkRWw7XG4gICAgICAgICAgICB2YXIgdW5tYXRjaGVkRWw7XG5cbiAgICAgICAgICAgIG91dGVyOiB3aGlsZSAoY3VyVG9Ob2RlQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0b05leHRTaWJsaW5nID0gY3VyVG9Ob2RlQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgY3VyVG9Ob2RlSWQgPSBnZXROb2RlS2V5KGN1clRvTm9kZUNoaWxkKTtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJGcm9tTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJGcm9tTm9kZUlkID0gZ2V0Tm9kZUtleShjdXJGcm9tTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbU5leHRTaWJsaW5nID0gY3VyRnJvbU5vZGVDaGlsZC5uZXh0U2libGluZztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFscmVhZHlWaXNpdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVJZCAmJiAodW5tYXRjaGVkRWwgPSB1bm1hdGNoZWRFbHNbY3VyRnJvbU5vZGVJZF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5tYXRjaGVkRWwucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoY3VyRnJvbU5vZGVDaGlsZCwgdW5tYXRjaGVkRWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoRWwoY3VyRnJvbU5vZGVDaGlsZCwgdW5tYXRjaGVkRWwsIGFscmVhZHlWaXNpdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckZyb21Ob2RlVHlwZSA9IGN1ckZyb21Ob2RlQ2hpbGQubm9kZVR5cGU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckZyb21Ob2RlVHlwZSA9PT0gY3VyVG9Ob2RlQ2hpbGQubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0NvbXBhdGlibGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQm90aCBub2RlcyBiZWluZyBjb21wYXJlZCBhcmUgRWxlbWVudCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckZyb21Ob2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBhcmVOb2RlTmFtZXMoY3VyRnJvbU5vZGVDaGlsZCwgY3VyVG9Ob2RlQ2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgY29tcGF0aWJsZSBET00gZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckZyb21Ob2RlSWQgfHwgY3VyVG9Ob2RlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGVpdGhlciBET00gZWxlbWVudCBoYXMgYW4gSUQgdGhlbiB3ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIHRob3NlIGRpZmZlcmVudGx5IHNpbmNlIHdlIHdhbnQgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoIHVwIGJ5IElEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyVG9Ob2RlSWQgPT09IGN1ckZyb21Ob2RlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wYXRpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdGlibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgZm91bmQgY29tcGF0aWJsZSBET00gZWxlbWVudHMgc28gdHJhbnNmb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBjdXJyZW50IFwiZnJvbVwiIG5vZGUgdG8gbWF0Y2ggdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFyZ2V0IERPTSBub2RlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaEVsKGN1ckZyb21Ob2RlQ2hpbGQsIGN1clRvTm9kZUNoaWxkLCBhbHJlYWR5VmlzaXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQm90aCBub2RlcyBiZWluZyBjb21wYXJlZCBhcmUgVGV4dCBvciBDb21tZW50IG5vZGVzXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyRnJvbU5vZGVUeXBlID09PSBURVhUX05PREUgfHwgY3VyRnJvbU5vZGVUeXBlID09IENPTU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0aWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2ltcGx5IHVwZGF0ZSBub2RlVmFsdWUgb24gdGhlIG9yaWdpbmFsIG5vZGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGFuZ2UgdGhlIHRleHQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkLm5vZGVWYWx1ZSA9IGN1clRvTm9kZUNoaWxkLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0aWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gdG9OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gY29tcGF0aWJsZSBtYXRjaCBzbyByZW1vdmUgdGhlIG9sZCBub2RlIGZyb20gdGhlIERPTVxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgY29udGludWUgdHJ5aW5nIHRvIGZpbmQgYSBtYXRjaCBpbiB0aGUgb3JpZ2luYWwgRE9NXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY3VyRnJvbU5vZGVDaGlsZCwgZnJvbUVsLCBhbHJlYWR5VmlzaXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGN1clRvTm9kZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoc2F2ZWRFbCA9IHNhdmVkRWxzW2N1clRvTm9kZUlkXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wYXJlTm9kZU5hbWVzKHNhdmVkRWwsIGN1clRvTm9kZUNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoRWwoc2F2ZWRFbCwgY3VyVG9Ob2RlQ2hpbGQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gYXBwZW5kIHRoZSBzYXZlZCBlbGVtZW50IGluc3RlYWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJUb05vZGVDaGlsZCA9IHNhdmVkRWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzYXZlZEVsc1tjdXJUb05vZGVJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKHNhdmVkRWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGN1cnJlbnQgRE9NIGVsZW1lbnQgaW4gdGhlIHRhcmdldCB0cmVlIGhhcyBhbiBJRFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV0IHdlIGRpZCBub3QgZmluZCBhIG1hdGNoIGluIGFueSBvZiB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvcnJlc3BvbmRpbmcgc2libGluZ3MuIFdlIGp1c3QgcHV0IHRoZSB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgaW4gdGhlIG9sZCBET00gdHJlZSBidXQgaWYgd2UgbGF0ZXIgZmluZCBhblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudCBpbiB0aGUgb2xkIERPTSB0cmVlIHRoYXQgaGFzIGEgbWF0Y2hpbmcgSURcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gd2Ugd2lsbCByZXBsYWNlIHRoZSB0YXJnZXQgZWxlbWVudCB3aXRoIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29ycmVzcG9uZGluZyBvbGQgZWxlbWVudCBhbmQgbW9ycGggdGhlIG9sZCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB1bm1hdGNoZWRFbHNbY3VyVG9Ob2RlSWRdID0gY3VyVG9Ob2RlQ2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBnb3QgdGhpcyBmYXIgdGhlbiB3ZSBkaWQgbm90IGZpbmQgYSBjYW5kaWRhdGUgbWF0Y2ggZm9yXG4gICAgICAgICAgICAgICAgLy8gb3VyIFwidG8gbm9kZVwiIGFuZCB3ZSBleGhhdXN0ZWQgYWxsIG9mIHRoZSBjaGlsZHJlbiBcImZyb21cIlxuICAgICAgICAgICAgICAgIC8vIG5vZGVzLiBUaGVyZWZvcmUsIHdlIHdpbGwganVzdCBhcHBlbmQgdGhlIGN1cnJlbnQgXCJ0byBub2RlXCJcbiAgICAgICAgICAgICAgICAvLyB0byB0aGUgZW5kXG4gICAgICAgICAgICAgICAgaWYgKG9uQmVmb3JlTm9kZUFkZGVkKGN1clRvTm9kZUNoaWxkKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUVsLmFwcGVuZENoaWxkKGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgb25Ob2RlQWRkZWQoY3VyVG9Ob2RlQ2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjdXJUb05vZGVDaGlsZC5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFICYmXG4gICAgICAgICAgICAgICAgICAgIChjdXJUb05vZGVJZCB8fCBjdXJUb05vZGVDaGlsZC5maXJzdENoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudCB0aGF0IHdhcyBqdXN0IGFkZGVkIHRvIHRoZSBvcmlnaW5hbCBET00gbWF5XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhdmUgc29tZSBuZXN0ZWQgZWxlbWVudHMgd2l0aCBhIGtleS9JRCB0aGF0IG5lZWRzIHRvIGJlXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoZWQgdXAgd2l0aCBvdGhlciBlbGVtZW50cy4gV2UnbGwgYWRkIHRoZSBlbGVtZW50IHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgbGlzdCBzbyB0aGF0IHdlIGNhbiBsYXRlciBwcm9jZXNzIHRoZSBuZXN0ZWQgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIGFueSB1bm1hdGNoZWQga2V5ZWQgZWxlbWVudHMgdGhhdCB3ZXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc2NhcmRlZFxuICAgICAgICAgICAgICAgICAgICBtb3ZlZEVscy5wdXNoKGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdXJUb05vZGVDaGlsZCA9IHRvTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gV2UgaGF2ZSBwcm9jZXNzZWQgYWxsIG9mIHRoZSBcInRvIG5vZGVzXCIuIElmIGN1ckZyb21Ob2RlQ2hpbGQgaXNcbiAgICAgICAgICAgIC8vIG5vbi1udWxsIHRoZW4gd2Ugc3RpbGwgaGF2ZSBzb21lIGZyb20gbm9kZXMgbGVmdCBvdmVyIHRoYXQgbmVlZFxuICAgICAgICAgICAgLy8gdG8gYmUgcmVtb3ZlZFxuICAgICAgICAgICAgd2hpbGUgKGN1ckZyb21Ob2RlQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICBmcm9tTmV4dFNpYmxpbmcgPSBjdXJGcm9tTm9kZUNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY3VyRnJvbU5vZGVDaGlsZCwgZnJvbUVsLCBhbHJlYWR5VmlzaXRlZCk7XG4gICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzcGVjaWFsRWxIYW5kbGVyID0gc3BlY2lhbEVsSGFuZGxlcnNbZnJvbUVsLm5vZGVOYW1lXTtcbiAgICAgICAgaWYgKHNwZWNpYWxFbEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHNwZWNpYWxFbEhhbmRsZXIoZnJvbUVsLCB0b0VsKTtcbiAgICAgICAgfVxuICAgIH0gLy8gRU5EOiBtb3JwaEVsKC4uLilcblxuICAgIHZhciBtb3JwaGVkTm9kZSA9IGZyb21Ob2RlO1xuICAgIHZhciBtb3JwaGVkTm9kZVR5cGUgPSBtb3JwaGVkTm9kZS5ub2RlVHlwZTtcbiAgICB2YXIgdG9Ob2RlVHlwZSA9IHRvTm9kZS5ub2RlVHlwZTtcblxuICAgIGlmICghY2hpbGRyZW5Pbmx5KSB7XG4gICAgICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSB3ZSBhcmUgZ2l2ZW4gdHdvIERPTSBub2RlcyB0aGF0IGFyZSBub3RcbiAgICAgICAgLy8gY29tcGF0aWJsZSAoZS5nLiA8ZGl2PiAtLT4gPHNwYW4+IG9yIDxkaXY+IC0tPiBURVhUKVxuICAgICAgICBpZiAobW9ycGhlZE5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgIGlmICh0b05vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBhcmVOb2RlTmFtZXMoZnJvbU5vZGUsIHRvTm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKGZyb21Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhlZE5vZGUgPSBtb3ZlQ2hpbGRyZW4oZnJvbU5vZGUsIGNyZWF0ZUVsZW1lbnROUyh0b05vZGUubm9kZU5hbWUsIHRvTm9kZS5uYW1lc3BhY2VVUkkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEdvaW5nIGZyb20gYW4gZWxlbWVudCBub2RlIHRvIGEgdGV4dCBub2RlXG4gICAgICAgICAgICAgICAgbW9ycGhlZE5vZGUgPSB0b05vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobW9ycGhlZE5vZGVUeXBlID09PSBURVhUX05PREUgfHwgbW9ycGhlZE5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHsgLy8gVGV4dCBvciBjb21tZW50IG5vZGVcbiAgICAgICAgICAgIGlmICh0b05vZGVUeXBlID09PSBtb3JwaGVkTm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZS5ub2RlVmFsdWUgPSB0b05vZGUubm9kZVZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBtb3JwaGVkTm9kZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVGV4dCBub2RlIHRvIHNvbWV0aGluZyBlbHNlXG4gICAgICAgICAgICAgICAgbW9ycGhlZE5vZGUgPSB0b05vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobW9ycGhlZE5vZGUgPT09IHRvTm9kZSkge1xuICAgICAgICAvLyBUaGUgXCJ0byBub2RlXCIgd2FzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIFwiZnJvbSBub2RlXCIgc28gd2UgaGFkIHRvXG4gICAgICAgIC8vIHRvc3Mgb3V0IHRoZSBcImZyb20gbm9kZVwiIGFuZCB1c2UgdGhlIFwidG8gbm9kZVwiXG4gICAgICAgIG9uTm9kZURpc2NhcmRlZChmcm9tTm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbW9ycGhFbChtb3JwaGVkTm9kZSwgdG9Ob2RlLCBmYWxzZSwgY2hpbGRyZW5Pbmx5KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hhdCB3ZSB3aWxsIGRvIGhlcmUgaXMgd2FsayB0aGUgdHJlZSBmb3IgdGhlIERPTSBlbGVtZW50IHRoYXQgd2FzXG4gICAgICAgICAqIG1vdmVkIGZyb20gdGhlIHRhcmdldCBET00gdHJlZSB0byB0aGUgb3JpZ2luYWwgRE9NIHRyZWUgYW5kIHdlIHdpbGxcbiAgICAgICAgICogbG9vayBmb3Iga2V5ZWQgZWxlbWVudHMgdGhhdCBjb3VsZCBiZSBtYXRjaGVkIHRvIGtleWVkIGVsZW1lbnRzIHRoYXRcbiAgICAgICAgICogd2VyZSBlYXJsaWVyIGRpc2NhcmRlZC4gIElmIHdlIGZpbmQgYSBtYXRjaCB0aGVuIHdlIHdpbGwgbW92ZSB0aGVcbiAgICAgICAgICogc2F2ZWQgZWxlbWVudCBpbnRvIHRoZSBmaW5hbCBET00gdHJlZS5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBoYW5kbGVNb3ZlZEVsID0gZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIHZhciBjdXJDaGlsZCA9IGVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAoY3VyQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dFNpYmxpbmcgPSBjdXJDaGlsZC5uZXh0U2libGluZztcblxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBnZXROb2RlS2V5KGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzYXZlZEVsID0gc2F2ZWRFbHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNhdmVkRWwgJiYgY29tcGFyZU5vZGVOYW1lcyhjdXJDaGlsZCwgc2F2ZWRFbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNoaWxkLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHNhdmVkRWwsIGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWU6IGFscmVhZHkgdmlzaXRlZCB0aGUgc2F2ZWQgZWwgdHJlZVxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhFbChzYXZlZEVsLCBjdXJDaGlsZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IG5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcHR5KHNhdmVkRWxzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGN1ckNoaWxkLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlTW92ZWRFbChjdXJDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VyQ2hpbGQgPSBuZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUaGUgbG9vcCBiZWxvdyBpcyB1c2VkIHRvIHBvc3NpYmx5IG1hdGNoIHVwIGFueSBkaXNjYXJkZWRcbiAgICAgICAgLy8gZWxlbWVudHMgaW4gdGhlIG9yaWdpbmFsIERPTSB0cmVlIHdpdGggZWxlbWVuZXRzIGZyb20gdGhlXG4gICAgICAgIC8vIHRhcmdldCB0cmVlIHRoYXQgd2VyZSBtb3ZlZCBvdmVyIHdpdGhvdXQgdmlzaXRpbmcgdGhlaXJcbiAgICAgICAgLy8gY2hpbGRyZW5cbiAgICAgICAgaWYgKCFlbXB0eShzYXZlZEVscykpIHtcbiAgICAgICAgICAgIGhhbmRsZU1vdmVkRWxzTG9vcDpcbiAgICAgICAgICAgIHdoaWxlIChtb3ZlZEVscy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW92ZWRFbHNUZW1wID0gbW92ZWRFbHM7XG4gICAgICAgICAgICAgICAgbW92ZWRFbHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8bW92ZWRFbHNUZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVNb3ZlZEVsKG1vdmVkRWxzVGVtcFtpXSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBhcmUgbm8gbW9yZSB1bm1hdGNoZWQgZWxlbWVudHMgc28gY29tcGxldGVseSBlbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBsb29wXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBoYW5kbGVNb3ZlZEVsc0xvb3A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJlIHRoZSBcIm9uTm9kZURpc2NhcmRlZFwiIGV2ZW50IGZvciBhbnkgc2F2ZWQgZWxlbWVudHNcbiAgICAgICAgLy8gdGhhdCBuZXZlciBmb3VuZCBhIG5ldyBob21lIGluIHRoZSBtb3JwaGVkIERPTVxuICAgICAgICBmb3IgKHZhciBzYXZlZEVsSWQgaW4gc2F2ZWRFbHMpIHtcbiAgICAgICAgICAgIGlmIChzYXZlZEVscy5oYXNPd25Qcm9wZXJ0eShzYXZlZEVsSWQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNhdmVkRWwgPSBzYXZlZEVsc1tzYXZlZEVsSWRdO1xuICAgICAgICAgICAgICAgIG9uTm9kZURpc2NhcmRlZChzYXZlZEVsKTtcbiAgICAgICAgICAgICAgICB3YWxrRGlzY2FyZGVkQ2hpbGROb2RlcyhzYXZlZEVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghY2hpbGRyZW5Pbmx5ICYmIG1vcnBoZWROb2RlICE9PSBmcm9tTm9kZSAmJiBmcm9tTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIC8vIElmIHdlIGhhZCB0byBzd2FwIG91dCB0aGUgZnJvbSBub2RlIHdpdGggYSBuZXcgbm9kZSBiZWNhdXNlIHRoZSBvbGRcbiAgICAgICAgLy8gbm9kZSB3YXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgdGFyZ2V0IG5vZGUgdGhlbiB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIHJlcGxhY2UgdGhlIG9sZCBET00gbm9kZSBpbiB0aGUgb3JpZ2luYWwgRE9NIHRyZWUuIFRoaXMgaXMgb25seVxuICAgICAgICAvLyBwb3NzaWJsZSBpZiB0aGUgb3JpZ2luYWwgRE9NIG5vZGUgd2FzIHBhcnQgb2YgYSBET00gdHJlZSB3aGljaFxuICAgICAgICAvLyB3ZSBrbm93IGlzIHRoZSBjYXNlIGlmIGl0IGhhcyBhIHBhcmVudCBub2RlLlxuICAgICAgICBmcm9tTm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChtb3JwaGVkTm9kZSwgZnJvbU5vZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBtb3JwaGVkTm9kZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtb3JwaGRvbTtcbiIsIi8qIGdsb2JhbCBNdXRhdGlvbk9ic2VydmVyICovXG52YXIgZG9jdW1lbnQgPSByZXF1aXJlKCdnbG9iYWwvZG9jdW1lbnQnKVxudmFyIHdpbmRvdyA9IHJlcXVpcmUoJ2dsb2JhbC93aW5kb3cnKVxudmFyIHdhdGNoID0gT2JqZWN0LmNyZWF0ZShudWxsKVxudmFyIEtFWV9JRCA9ICdvbmxvYWRpZCcgKyAobmV3IERhdGUoKSAlIDllNikudG9TdHJpbmcoMzYpXG52YXIgS0VZX0FUVFIgPSAnZGF0YS0nICsgS0VZX0lEXG52YXIgSU5ERVggPSAwXG5cbmlmICh3aW5kb3cgJiYgd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgIGlmIChPYmplY3Qua2V5cyh3YXRjaCkubGVuZ3RoIDwgMSkgcmV0dXJuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChtdXRhdGlvbnNbaV0uYXR0cmlidXRlTmFtZSA9PT0gS0VZX0FUVFIpIHtcbiAgICAgICAgZWFjaEF0dHIobXV0YXRpb25zW2ldLCB0dXJub24sIHR1cm5vZmYpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBlYWNoTXV0YXRpb24obXV0YXRpb25zW2ldLnJlbW92ZWROb2RlcywgdHVybm9mZilcbiAgICAgIGVhY2hNdXRhdGlvbihtdXRhdGlvbnNbaV0uYWRkZWROb2RlcywgdHVybm9uKVxuICAgIH1cbiAgfSlcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XG4gICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIHN1YnRyZWU6IHRydWUsXG4gICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSxcbiAgICBhdHRyaWJ1dGVGaWx0ZXI6IFtLRVlfQVRUUl1cbiAgfSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBvbmxvYWQgKGVsLCBvbiwgb2ZmLCBjYWxsZXIpIHtcbiAgb24gPSBvbiB8fCBmdW5jdGlvbiAoKSB7fVxuICBvZmYgPSBvZmYgfHwgZnVuY3Rpb24gKCkge31cbiAgZWwuc2V0QXR0cmlidXRlKEtFWV9BVFRSLCAnbycgKyBJTkRFWClcbiAgd2F0Y2hbJ28nICsgSU5ERVhdID0gW29uLCBvZmYsIDAsIGNhbGxlciB8fCBvbmxvYWQuY2FsbGVyXVxuICBJTkRFWCArPSAxXG4gIHJldHVybiBlbFxufVxuXG5mdW5jdGlvbiB0dXJub24gKGluZGV4LCBlbCkge1xuICBpZiAod2F0Y2hbaW5kZXhdWzBdICYmIHdhdGNoW2luZGV4XVsyXSA9PT0gMCkge1xuICAgIHdhdGNoW2luZGV4XVswXShlbClcbiAgICB3YXRjaFtpbmRleF1bMl0gPSAxXG4gIH1cbn1cblxuZnVuY3Rpb24gdHVybm9mZiAoaW5kZXgsIGVsKSB7XG4gIGlmICh3YXRjaFtpbmRleF1bMV0gJiYgd2F0Y2hbaW5kZXhdWzJdID09PSAxKSB7XG4gICAgd2F0Y2hbaW5kZXhdWzFdKGVsKVxuICAgIHdhdGNoW2luZGV4XVsyXSA9IDBcbiAgfVxufVxuXG5mdW5jdGlvbiBlYWNoQXR0ciAobXV0YXRpb24sIG9uLCBvZmYpIHtcbiAgdmFyIG5ld1ZhbHVlID0gbXV0YXRpb24udGFyZ2V0LmdldEF0dHJpYnV0ZShLRVlfQVRUUilcbiAgaWYgKHNhbWVPcmlnaW4obXV0YXRpb24ub2xkVmFsdWUsIG5ld1ZhbHVlKSkge1xuICAgIHdhdGNoW25ld1ZhbHVlXSA9IHdhdGNoW211dGF0aW9uLm9sZFZhbHVlXVxuICAgIHJldHVyblxuICB9XG4gIGlmICh3YXRjaFttdXRhdGlvbi5vbGRWYWx1ZV0pIHtcbiAgICBvZmYobXV0YXRpb24ub2xkVmFsdWUsIG11dGF0aW9uLnRhcmdldClcbiAgfVxuICBpZiAod2F0Y2hbbmV3VmFsdWVdKSB7XG4gICAgb24obmV3VmFsdWUsIG11dGF0aW9uLnRhcmdldClcbiAgfVxufVxuXG5mdW5jdGlvbiBzYW1lT3JpZ2luIChvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgaWYgKCFvbGRWYWx1ZSB8fCAhbmV3VmFsdWUpIHJldHVybiBmYWxzZVxuICByZXR1cm4gd2F0Y2hbb2xkVmFsdWVdWzNdID09PSB3YXRjaFtuZXdWYWx1ZV1bM11cbn1cblxuZnVuY3Rpb24gZWFjaE11dGF0aW9uIChub2RlcywgZm4pIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh3YXRjaClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChub2Rlc1tpXSAmJiBub2Rlc1tpXS5nZXRBdHRyaWJ1dGUgJiYgbm9kZXNbaV0uZ2V0QXR0cmlidXRlKEtFWV9BVFRSKSkge1xuICAgICAgdmFyIG9ubG9hZGlkID0gbm9kZXNbaV0uZ2V0QXR0cmlidXRlKEtFWV9BVFRSKVxuICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIGlmIChvbmxvYWRpZCA9PT0gaykge1xuICAgICAgICAgIGZuKGssIG5vZGVzW2ldKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAobm9kZXNbaV0uY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICBlYWNoTXV0YXRpb24obm9kZXNbaV0uY2hpbGROb2RlcywgZm4pXG4gICAgfVxuICB9XG59XG4iLCJ2YXIgdHJpbSA9IHJlcXVpcmUoJ3RyaW0nKVxuICAsIGZvckVhY2ggPSByZXF1aXJlKCdmb3ItZWFjaCcpXG4gICwgaXNBcnJheSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaGVhZGVycykge1xuICBpZiAoIWhlYWRlcnMpXG4gICAgcmV0dXJuIHt9XG5cbiAgdmFyIHJlc3VsdCA9IHt9XG5cbiAgZm9yRWFjaChcbiAgICAgIHRyaW0oaGVhZGVycykuc3BsaXQoJ1xcbicpXG4gICAgLCBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJvdy5pbmRleE9mKCc6JylcbiAgICAgICAgICAsIGtleSA9IHRyaW0ocm93LnNsaWNlKDAsIGluZGV4KSkudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICwgdmFsdWUgPSB0cmltKHJvdy5zbGljZShpbmRleCArIDEpKVxuXG4gICAgICAgIGlmICh0eXBlb2YocmVzdWx0W2tleV0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWVcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHJlc3VsdFtrZXldKSkge1xuICAgICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSBbIHJlc3VsdFtrZXldLCB2YWx1ZSBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgKVxuXG4gIHJldHVybiByZXN1bHRcbn0iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG4oZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkU2V0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBpcyBub3QgZGVmaW5lZCcpO1xuICAgIH1cbiAgfVxuICB0cnkge1xuICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGlzIG5vdCBkZWZpbmVkJyk7XG4gICAgfVxuICB9XG59ICgpKVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gY2FjaGVkU2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dChkcmFpblF1ZXVlLCAwKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsInZhciBub29wID0gZnVuY3Rpb24gKCkge31cblxuZnVuY3Rpb24gYWJvcnRBbGwoYXJ5LCBhYm9ydCwgY2IpIHtcbiAgdmFyIG4gPSBhcnkubGVuZ3RoXG4gIGlmKCFuKSByZXR1cm4gY2IoYWJvcnQpXG4gIGFyeS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgaWYoZikgZihhYm9ydCwgbmV4dClcbiAgICBlbHNlIG5leHQoKVxuICB9KVxuXG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgaWYoLS1uKSByZXR1cm5cbiAgICBjYihhYm9ydClcbiAgfVxuICBpZighbikgbmV4dCgpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0cmVhbXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhYm9ydCwgY2IpIHtcbiAgICA7KGZ1bmN0aW9uIG5leHQgKCkge1xuICAgICAgaWYoYWJvcnQpXG4gICAgICAgIGFib3J0QWxsKHN0cmVhbXMsIGFib3J0LCBjYilcbiAgICAgIGVsc2UgaWYoIXN0cmVhbXMubGVuZ3RoKVxuICAgICAgICBjYih0cnVlKVxuICAgICAgZWxzZSBpZighc3RyZWFtc1swXSlcbiAgICAgICAgc3RyZWFtcy5zaGlmdCgpLCBuZXh0KClcbiAgICAgIGVsc2VcbiAgICAgICAgc3RyZWFtc1swXShudWxsLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgaWYoZXJyKSB7XG4gICAgICAgICAgICBzdHJlYW1zLnNoaWZ0KCkgLy9kcm9wIHRoZSBmaXJzdCwgaGFzIGFscmVhZHkgZW5kZWQuXG4gICAgICAgICAgICBpZihlcnIgPT09IHRydWUpIG5leHQoKVxuICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICBhYm9ydEFsbChzdHJlYW1zLCBlcnIsIGNiKVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBjYihudWxsLCBkYXRhKVxuICAgICAgICB9KVxuICAgIH0pKClcbiAgfVxufVxuXG5cblxuXG4iLCJcbnZhciBTb3VyY2UgPSByZXF1aXJlKCcuL3NvdXJjZScpXG52YXIgU2luayA9IHJlcXVpcmUoJy4vc2luaycpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXG4gIHZhciBzb3VyY2UgPSBTb3VyY2UoKVxuICB2YXIgc2luayA9IFNpbmsoKVxuXG4gIHJldHVybiB7XG4gICAgc291cmNlOiBzb3VyY2UsXG4gICAgc2luazogc2luayxcbiAgICByZXNvbHZlOiBmdW5jdGlvbiAoZHVwbGV4KSB7XG4gICAgICBzb3VyY2UucmVzb2x2ZShkdXBsZXguc291cmNlKVxuICAgICAgc2luay5yZXNvbHZlKGR1cGxleC5zaW5rKVxuXG4gICAgfVxuICB9XG5cblxufVxuIiwiXG5leHBvcnRzLnNvdXJjZSA9IHJlcXVpcmUoJy4vc291cmNlJylcbmV4cG9ydHMudGhyb3VnaCA9IHJlcXVpcmUoJy4vdGhyb3VnaCcpXG5leHBvcnRzLnNpbmsgPSByZXF1aXJlKCcuL3NpbmsnKVxuZXhwb3J0cy5kdXBsZXggPSByZXF1aXJlKCcuL2R1cGxleCcpXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgdmFyIHJlYWQsIHN0YXJ0ZWQgPSBmYWxzZSwgaWQgPSBNYXRoLnJhbmRvbSgpXG5cbiAgZnVuY3Rpb24gY29uc3VtZSAoX3JlYWQpIHtcbiAgICBpZighX3JlYWQpIHRocm93IG5ldyBFcnJvcignbXVzdCBiZSBwYXNzZWQgYSByZWFkYWJsZScpXG4gICAgcmVhZCA9IF9yZWFkXG4gICAgaWYoc3RhcnRlZCkgc3RyZWFtKHJlYWQpXG4gIH1cblxuICBjb25zdW1lLnJlc29sdmUgPVxuICBjb25zdW1lLnJlYWR5ID1cbiAgY29uc3VtZS5zdGFydCA9IGZ1bmN0aW9uIChfc3RyZWFtKSB7XG4gICAgc3RhcnRlZCA9IHRydWU7IHN0cmVhbSA9IF9zdHJlYW0gfHwgc3RyZWFtXG4gICAgaWYocmVhZCkgc3RyZWFtKHJlYWQpXG4gICAgcmV0dXJuIGNvbnN1bWVcbiAgfVxuXG4gIHJldHVybiBjb25zdW1lXG59XG4iLCJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlYWQsIF9jYiwgYWJvcnRDYiwgX2VuZFxuXG4gIHZhciByZWFkID0gZnVuY3Rpb24gKGVuZCwgY2IpIHtcbiAgICBpZighX3JlYWQpIHtcbiAgICAgIGlmKGVuZCkge1xuICAgICAgICBfZW5kID0gZW5kXG4gICAgICAgIGFib3J0Q2IgPSBjYlxuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAgICBfY2IgPSBjYlxuICAgIH1cbiAgICBlbHNlIF9yZWFkKGVuZCwgY2IpXG4gIH1cbiAgcmVhZC5yZXNvbHZlID0gZnVuY3Rpb24gKHJlYWQpIHtcbiAgICBpZihfcmVhZCkgdGhyb3cgbmV3IEVycm9yKCdhbHJlYWR5IHJlc29sdmVkJylcbiAgICBfcmVhZCA9IHJlYWRcbiAgICBpZighX3JlYWQpIHRocm93IG5ldyBFcnJvcignbm8gcmVhZCBjYW5ub3QgcmVzb2x2ZSEnICsgX3JlYWQpXG4gICAgaWYoX2NiKSByZWFkKG51bGwsIF9jYilcbiAgICBpZihhYm9ydENiKSByZWFkKF9lbmQsIGFib3J0Q2IpXG4gIH1cbiAgcmVhZC5hYm9ydCA9IGZ1bmN0aW9uKGVycikge1xuICAgIHJlYWQucmVzb2x2ZShmdW5jdGlvbiAoXywgY2IpIHtcbiAgICAgIGNiKGVyciB8fCB0cnVlKVxuICAgIH0pXG4gIH1cbiAgcmV0dXJuIHJlYWRcbn1cblxuIiwiXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlYWQsIHJlYWRlciwgY2IsIGFib3J0LCBzdHJlYW1cblxuICBmdW5jdGlvbiBkZWxheWVkIChfcmVhZCkge1xuICAgIC8vaWYgd2UgYWxyZWFkeSBoYXZlIHRoZSBzdHJlYW0sIGdvIVxuICAgIGlmKHN0cmVhbSkgcmV0dXJuIHN0cmVhbShfcmVhZClcblxuICAgIHJlYWQgPSBfcmVhZFxuICAgIHJldHVybiBmdW5jdGlvbiAoX2Fib3J0LCBfY2IpIHtcbiAgICAgIGlmKHJlYWRlcikgcmVhZGVyKF9hYm9ydCwgX2NiKVxuICAgICAgZWxzZSBhYm9ydCA9IF9hYm9ydCwgY2IgPSBfY2JcblxuICAgIH1cbiAgfVxuXG4gIGRlbGF5ZWQucmVzb2x2ZSA9IGZ1bmN0aW9uIChfc3RyZWFtKSB7XG4gICAgaWYoc3RyZWFtKSB0aHJvdyBuZXcgRXJyb3IoJ2FscmVhZHkgcmVzb2x2ZWQnKVxuICAgIHN0cmVhbSA9IF9zdHJlYW1cbiAgICBpZighc3RyZWFtKSB0aHJvdyBuZXcgRXJyb3IoJ3Jlc29sdmUgKm11c3QqIGJlIHBhc3NlZCBhIHRyYW5zZm9ybSBzdHJlYW0nKVxuICAgIGlmKHJlYWQpIHtcbiAgICAgIHJlYWRlciA9IHN0cmVhbShyZWFkKVxuICAgICAgaWYoY2IpIHJlYWRlcihhYm9ydCwgY2IpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRlbGF5ZWRcbn1cbiIsIlxudmFyIHB1c2hhYmxlID0gcmVxdWlyZSgncHVsbC1wdXNoYWJsZScpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbGlzdGVuZXJzID0gW11cblxuICBmdW5jdGlvbiBub3RpZnkgKG1lc3NhZ2UpIHtcbiAgICAvLyBub3RpZnkgYnkgcHVzaGluZyB0byBhbGwgbGlzdGVuZXJzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxpc3RlbmVyc1tpXS5wdXNoKG1lc3NhZ2UpXG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlXG4gIH1cblxuICBub3RpZnkubGlzdGVuID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIGNyZWF0ZSBsaXN0ZW5lciB3aXRoIGBvbkNsb3NlYCBoYW5kbGVyXG4gICAgdmFyIGxpc3RlbmVyID0gcHVzaGFibGUoZnVuY3Rpb24gb25DbG9zZSAoKSB7XG4gICAgICAvLyBpZiBsaXN0ZW5lciBpcyBmb3VuZCwgZGVsZXRlIGZyb20gbGlzdFxuICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKVxuICAgIH0pXG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpXG4gICAgcmV0dXJuIGxpc3RlbmVyXG4gIH1cblxuICBub3RpZnkuYWJvcnQgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgLy8gYWJvcnQgYnkgZW5kaW5nIGFsbCBsaXN0ZW5lcnNcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aCkgbGlzdGVuZXJzWzBdLmVuZChlcnIpXG4gIH1cblxuICBub3RpZnkuZW5kID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBub3RpZnkuYWJvcnQodHJ1ZSlcbiAgfVxuXG4gIHJldHVybiBub3RpZnlcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcHVsbFB1c2hhYmxlXG5cbmZ1bmN0aW9uIHB1bGxQdXNoYWJsZSAob25DbG9zZSkge1xuICAvLyBjcmVhdGUgYSBidWZmZXIgZm9yIGRhdGFcbiAgLy8gdGhhdCBoYXZlIGJlZW4gcHVzaGVkXG4gIC8vIGJ1dCBub3QgeWV0IHB1bGxlZC5cbiAgdmFyIGJ1ZmZlciA9IFtdXG5cbiAgLy8gYSBwdXNoYWJsZSBpcyBhIHNvdXJjZSBzdHJlYW1cbiAgLy8gKGFib3J0LCBjYikgPT4gY2IoZW5kLCBkYXRhKVxuICAvL1xuICAvLyB3aGVuIHB1c2hhYmxlIGlzIHB1bGxlZCxcbiAgLy8ga2VlcCByZWZlcmVuY2VzIHRvIGFib3J0IGFuZCBjYlxuICAvLyBzbyB3ZSBjYW4gY2FsbCBiYWNrIGFmdGVyXG4gIC8vIC5lbmQoZW5kKSBvciAucHVzaChkYXRhKVxuICB2YXIgYWJvcnQsIGNiXG4gIGZ1bmN0aW9uIHJlYWQgKF9hYm9ydCwgX2NiKSB7XG4gICAgaWYgKF9hYm9ydCkge1xuICAgICAgYWJvcnQgPSBfYWJvcnRcbiAgICAgIC8vIGlmIHRoZXJlIGlzIGFscmVhZHkgYSBjYiB3YWl0aW5nLCBhYm9ydCBpdC5cbiAgICAgIGlmIChjYikgY2FsbGJhY2soYWJvcnQpXG4gICAgfVxuICAgIGNiID0gX2NiXG4gICAgZHJhaW4oKVxuICB9XG5cbiAgdmFyIGVuZGVkXG4gIHJlYWQuZW5kID0gZnVuY3Rpb24gKGVuZCkge1xuICAgIGVuZGVkID0gZW5kZWQgfHwgZW5kIHx8IHRydWVcbiAgICAvLyBhdHRlbXB0IHRvIGRyYWluXG4gICAgZHJhaW4oKVxuICB9XG5cbiAgcmVhZC5wdXNoID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoZW5kZWQpIHJldHVyblxuICAgIC8vIGlmIHNpbmsgYWxyZWFkeSB3YWl0aW5nLFxuICAgIC8vIHdlIGNhbiBjYWxsIGJhY2sgZGlyZWN0bHkuXG4gICAgaWYgKGNiKSB7XG4gICAgICBjYWxsYmFjayhhYm9ydCwgZGF0YSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyBvdGhlcndpc2UgcHVzaCBkYXRhIGFuZFxuICAgIC8vIGF0dGVtcHQgdG8gZHJhaW5cbiAgICBidWZmZXIucHVzaChkYXRhKVxuICAgIGRyYWluKClcbiAgfVxuXG4gIHJldHVybiByZWFkXG5cbiAgLy8gYGRyYWluYCBjYWxscyBiYWNrIHRvIChpZiBhbnkpIHdhaXRpbmdcbiAgLy8gc2luayB3aXRoIGFib3J0LCBlbmQsIG9yIG5leHQgZGF0YS5cbiAgZnVuY3Rpb24gZHJhaW4gKCkge1xuICAgIGlmICghY2IpIHJldHVyblxuXG4gICAgaWYgKGFib3J0KSBjYWxsYmFjayhhYm9ydClcbiAgICBlbHNlIGlmICghYnVmZmVyLmxlbmd0aCAmJiBlbmRlZCkgY2FsbGJhY2soZW5kZWQpXG4gICAgZWxzZSBpZiAoYnVmZmVyLmxlbmd0aCkgY2FsbGJhY2sobnVsbCwgYnVmZmVyLnNoaWZ0KCkpXG4gIH1cblxuICAvLyBgY2FsbGJhY2tgIGNhbGxzIGJhY2sgdG8gd2FpdGluZyBzaW5rLFxuICAvLyBhbmQgcmVtb3ZlcyByZWZlcmVuY2VzIHRvIHNpbmsgY2IuXG4gIGZ1bmN0aW9uIGNhbGxiYWNrIChlcnIsIHZhbCkge1xuICAgIHZhciBfY2IgPSBjYlxuICAgIC8vIGlmIGVycm9yIGFuZCBwdXNoYWJsZSBwYXNzZWQgb25DbG9zZSwgY2FsbCBpdFxuICAgIC8vIHRoZSBmaXJzdCB0aW1lIHRoaXMgc3RyZWFtIGVuZHMgb3IgZXJyb3JzLlxuICAgIGlmIChlcnIgJiYgb25DbG9zZSkge1xuICAgICAgdmFyIGMgPSBvbkNsb3NlXG4gICAgICBvbkNsb3NlID0gbnVsbFxuICAgICAgYyhlcnIgPT09IHRydWUgPyBudWxsIDogZXJyKVxuICAgIH1cbiAgICBjYiA9IG51bGxcbiAgICBfY2IoZXJyLCB2YWwpXG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgc291cmNlcyAgPSByZXF1aXJlKCcuL3NvdXJjZXMnKVxudmFyIHNpbmtzICAgID0gcmVxdWlyZSgnLi9zaW5rcycpXG52YXIgdGhyb3VnaHMgPSByZXF1aXJlKCcuL3Rocm91Z2hzJylcblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9wdWxsJylcblxuZm9yKHZhciBrIGluIHNvdXJjZXMpXG4gIGV4cG9ydHNba10gPSBzb3VyY2VzW2tdXG5cbmZvcih2YXIgayBpbiB0aHJvdWdocylcbiAgZXhwb3J0c1trXSA9IHRocm91Z2hzW2tdXG5cbmZvcih2YXIgayBpbiBzaW5rcylcbiAgZXhwb3J0c1trXSA9IHNpbmtzW2tdXG5cbiIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHB1bGwgKGEpIHtcbiAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgaWYgKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nICYmIGEubGVuZ3RoID09PSAxKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkobGVuZ3RoKVxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlYWQpIHtcbiAgICAgIGFyZ3MudW5zaGlmdChyZWFkKVxuICAgICAgcmV0dXJuIHB1bGwuYXBwbHkobnVsbCwgYXJncylcbiAgICB9XG4gIH1cblxuICB2YXIgcmVhZCA9IGFcblxuICBpZiAocmVhZCAmJiB0eXBlb2YgcmVhZC5zb3VyY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZWFkID0gcmVhZC5zb3VyY2VcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcyA9IGFyZ3VtZW50c1tpXVxuICAgIGlmICh0eXBlb2YgcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVhZCA9IHMocmVhZClcbiAgICB9IGVsc2UgaWYgKHMgJiYgdHlwZW9mIHMgPT09ICdvYmplY3QnKSB7XG4gICAgICBzLnNpbmsocmVhZClcbiAgICAgIHJlYWQgPSBzLnNvdXJjZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZWFkXG59XG5cblxuXG5cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciByZWR1Y2UgPSByZXF1aXJlKCcuL3JlZHVjZScpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29sbGVjdCAoY2IpIHtcbiAgcmV0dXJuIHJlZHVjZShmdW5jdGlvbiAoYXJyLCBpdGVtKSB7XG4gICAgYXJyLnB1c2goaXRlbSlcbiAgICByZXR1cm4gYXJyXG4gIH0sIFtdLCBjYilcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgcmVkdWNlID0gcmVxdWlyZSgnLi9yZWR1Y2UnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbmNhdCAoY2IpIHtcbiAgcmV0dXJuIHJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhICsgYlxuICB9LCAnJywgY2IpXG59XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkcmFpbiAob3AsIGRvbmUpIHtcbiAgdmFyIHJlYWQsIGFib3J0XG5cbiAgZnVuY3Rpb24gc2luayAoX3JlYWQpIHtcbiAgICByZWFkID0gX3JlYWRcbiAgICBpZihhYm9ydCkgcmV0dXJuIHNpbmsuYWJvcnQoKVxuICAgIC8vdGhpcyBmdW5jdGlvbiBpcyBtdWNoIHNpbXBsZXIgdG8gd3JpdGUgaWYgeW91XG4gICAgLy9qdXN0IHVzZSByZWN1cnNpb24sIGJ1dCBieSB1c2luZyBhIHdoaWxlIGxvb3BcbiAgICAvL3dlIGRvIG5vdCBibG93IHRoZSBzdGFjayBpZiB0aGUgc3RyZWFtIGhhcHBlbnMgdG8gYmUgc3luYy5cbiAgICA7KGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIHZhciBsb29wID0gdHJ1ZSwgY2JlZCA9IGZhbHNlXG4gICAgICAgIHdoaWxlKGxvb3ApIHtcbiAgICAgICAgICBjYmVkID0gZmFsc2VcbiAgICAgICAgICByZWFkKG51bGwsIGZ1bmN0aW9uIChlbmQsIGRhdGEpIHtcbiAgICAgICAgICAgIGNiZWQgPSB0cnVlXG4gICAgICAgICAgICBpZihlbmQgPSBlbmQgfHwgYWJvcnQpIHtcbiAgICAgICAgICAgICAgbG9vcCA9IGZhbHNlXG4gICAgICAgICAgICAgIGlmKGRvbmUpIGRvbmUoZW5kID09PSB0cnVlID8gbnVsbCA6IGVuZClcbiAgICAgICAgICAgICAgZWxzZSBpZihlbmQgJiYgZW5kICE9PSB0cnVlKVxuICAgICAgICAgICAgICAgIHRocm93IGVuZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihvcCAmJiBmYWxzZSA9PT0gb3AoZGF0YSkgfHwgYWJvcnQpIHtcbiAgICAgICAgICAgICAgbG9vcCA9IGZhbHNlXG4gICAgICAgICAgICAgIHJlYWQoYWJvcnQgfHwgdHJ1ZSwgZG9uZSB8fCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoIWxvb3Ape1xuICAgICAgICAgICAgICBuZXh0KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIGlmKCFjYmVkKSB7XG4gICAgICAgICAgICBsb29wID0gZmFsc2VcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkoKVxuICB9XG5cbiAgc2luay5hYm9ydCA9IGZ1bmN0aW9uIChlcnIsIGNiKSB7XG4gICAgaWYoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZXJyKVxuICAgICAgY2IgPSBlcnIsIGVyciA9IHRydWVcbiAgICBhYm9ydCA9IGVyciB8fCB0cnVlXG4gICAgaWYocmVhZCkgcmV0dXJuIHJlYWQoYWJvcnQsIGNiIHx8IGZ1bmN0aW9uICgpIHt9KVxuICB9XG5cbiAgcmV0dXJuIHNpbmtcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5mdW5jdGlvbiBpZCAoZSkgeyByZXR1cm4gZSB9XG52YXIgcHJvcCA9IHJlcXVpcmUoJy4uL3V0aWwvcHJvcCcpXG52YXIgZHJhaW4gPSByZXF1aXJlKCcuL2RyYWluJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmaW5kICh0ZXN0LCBjYikge1xuICB2YXIgZW5kZWQgPSBmYWxzZVxuICBpZighY2IpXG4gICAgY2IgPSB0ZXN0LCB0ZXN0ID0gaWRcbiAgZWxzZVxuICAgIHRlc3QgPSBwcm9wKHRlc3QpIHx8IGlkXG5cbiAgcmV0dXJuIGRyYWluKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYodGVzdChkYXRhKSkge1xuICAgICAgZW5kZWQgPSB0cnVlXG4gICAgICBjYihudWxsLCBkYXRhKVxuICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmKGVuZGVkKSByZXR1cm4gLy9hbHJlYWR5IGNhbGxlZCBiYWNrXG4gICAgY2IoZXJyID09PSB0cnVlID8gbnVsbCA6IGVyciwgbnVsbClcbiAgfSlcbn1cblxuXG5cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkcmFpbjogcmVxdWlyZSgnLi9kcmFpbicpLFxuICBvbkVuZDogcmVxdWlyZSgnLi9vbi1lbmQnKSxcbiAgbG9nOiByZXF1aXJlKCcuL2xvZycpLFxuICBmaW5kOiByZXF1aXJlKCcuL2ZpbmQnKSxcbiAgcmVkdWNlOiByZXF1aXJlKCcuL3JlZHVjZScpLFxuICBjb2xsZWN0OiByZXF1aXJlKCcuL2NvbGxlY3QnKSxcbiAgY29uY2F0OiByZXF1aXJlKCcuL2NvbmNhdCcpXG59XG5cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgZHJhaW4gPSByZXF1aXJlKCcuL2RyYWluJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBsb2cgKGRvbmUpIHtcbiAgcmV0dXJuIGRyYWluKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgY29uc29sZS5sb2coZGF0YSlcbiAgfSwgZG9uZSlcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgZHJhaW4gPSByZXF1aXJlKCcuL2RyYWluJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBvbkVuZCAoZG9uZSkge1xuICByZXR1cm4gZHJhaW4obnVsbCwgZG9uZSlcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgZHJhaW4gPSByZXF1aXJlKCcuL2RyYWluJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZWR1Y2UgKHJlZHVjZXIsIGFjYywgY2IpIHtcbiAgcmV0dXJuIGRyYWluKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgYWNjID0gcmVkdWNlcihhY2MsIGRhdGEpXG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBjYihlcnIsIGFjYylcbiAgfSlcbn1cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY291bnQgKG1heCkge1xuICB2YXIgaSA9IDA7IG1heCA9IG1heCB8fCBJbmZpbml0eVxuICByZXR1cm4gZnVuY3Rpb24gKGVuZCwgY2IpIHtcbiAgICBpZihlbmQpIHJldHVybiBjYiAmJiBjYihlbmQpXG4gICAgaWYoaSA+IG1heClcbiAgICAgIHJldHVybiBjYih0cnVlKVxuICAgIGNiKG51bGwsIGkrKylcbiAgfVxufVxuXG5cbiIsIid1c2Ugc3RyaWN0J1xuLy9hIHN0cmVhbSB0aGF0IGVuZHMgaW1tZWRpYXRlbHkuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVtcHR5ICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhYm9ydCwgY2IpIHtcbiAgICBjYih0cnVlKVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcbi8vYSBzdHJlYW0gdGhhdCBlcnJvcnMgaW1tZWRpYXRlbHkuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVycm9yIChlcnIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhYm9ydCwgY2IpIHtcbiAgICBjYihlcnIpXG4gIH1cbn1cblxuIiwiJ3VzZSBzdHJpY3QnXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAga2V5czogcmVxdWlyZSgnLi9rZXlzJyksXG4gIG9uY2U6IHJlcXVpcmUoJy4vb25jZScpLFxuICB2YWx1ZXM6IHJlcXVpcmUoJy4vdmFsdWVzJyksXG4gIGNvdW50OiByZXF1aXJlKCcuL2NvdW50JyksXG4gIGluZmluaXRlOiByZXF1aXJlKCcuL2luZmluaXRlJyksXG4gIGVtcHR5OiByZXF1aXJlKCcuL2VtcHR5JyksXG4gIGVycm9yOiByZXF1aXJlKCcuL2Vycm9yJylcbn1cbiIsIid1c2Ugc3RyaWN0J1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmZpbml0ZSAoZ2VuZXJhdGUpIHtcbiAgZ2VuZXJhdGUgPSBnZW5lcmF0ZSB8fCBNYXRoLnJhbmRvbVxuICByZXR1cm4gZnVuY3Rpb24gKGVuZCwgY2IpIHtcbiAgICBpZihlbmQpIHJldHVybiBjYiAmJiBjYihlbmQpXG4gICAgcmV0dXJuIGNiKG51bGwsIGdlbmVyYXRlKCkpXG4gIH1cbn1cblxuXG4iLCIndXNlIHN0cmljdCdcbnZhciB2YWx1ZXMgPSByZXF1aXJlKCcuL3ZhbHVlcycpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgcmV0dXJuIHZhbHVlcyhPYmplY3Qua2V5cyhvYmplY3QpKVxufVxuXG5cbiIsIid1c2Ugc3RyaWN0J1xudmFyIGFib3J0Q2IgPSByZXF1aXJlKCcuLi91dGlsL2Fib3J0LWNiJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBvbmNlICh2YWx1ZSwgb25BYm9ydCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGFib3J0LCBjYikge1xuICAgIGlmKGFib3J0KVxuICAgICAgcmV0dXJuIGFib3J0Q2IoY2IsIGFib3J0LCBvbkFib3J0KVxuICAgIGlmKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIHZhciBfdmFsdWUgPSB2YWx1ZTsgdmFsdWUgPSBudWxsXG4gICAgICBjYihudWxsLCBfdmFsdWUpXG4gICAgfSBlbHNlXG4gICAgICBjYih0cnVlKVxuICB9XG59XG5cblxuIiwiJ3VzZSBzdHJpY3QnXG52YXIgYWJvcnRDYiA9IHJlcXVpcmUoJy4uL3V0aWwvYWJvcnQtY2InKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHZhbHVlcyAoYXJyYXksIG9uQWJvcnQpIHtcbiAgaWYoIWFycmF5KVxuICAgIHJldHVybiBmdW5jdGlvbiAoYWJvcnQsIGNiKSB7XG4gICAgICBpZihhYm9ydCkgcmV0dXJuIGFib3J0Q2IoY2IsIGFib3J0LCBvbkFib3J0KVxuICAgICAgcmV0dXJuIGNiKHRydWUpXG4gICAgfVxuICBpZighQXJyYXkuaXNBcnJheShhcnJheSkpXG4gICAgYXJyYXkgPSBPYmplY3Qua2V5cyhhcnJheSkubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgICByZXR1cm4gYXJyYXlba11cbiAgICB9KVxuICB2YXIgaSA9IDBcbiAgcmV0dXJuIGZ1bmN0aW9uIChhYm9ydCwgY2IpIHtcbiAgICBpZihhYm9ydClcbiAgICAgIHJldHVybiBhYm9ydENiKGNiLCBhYm9ydCwgb25BYm9ydClcbiAgICBjYihpID49IGFycmF5Lmxlbmd0aCB8fCBudWxsLCBhcnJheVtpKytdKVxuICB9XG59XG5cbiIsIid1c2Ugc3RyaWN0J1xuXG5mdW5jdGlvbiBpZCAoZSkgeyByZXR1cm4gZSB9XG52YXIgcHJvcCA9IHJlcXVpcmUoJy4uL3V0aWwvcHJvcCcpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYXN5bmNNYXAgKG1hcCkge1xuICBpZighbWFwKSByZXR1cm4gaWRcbiAgbWFwID0gcHJvcChtYXApXG4gIHZhciBidXN5ID0gZmFsc2UsIGFib3J0Q2IsIGFib3J0ZWRcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZWFkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQgKGFib3J0LCBjYikge1xuICAgICAgaWYoYWJvcnRlZCkgcmV0dXJuIGNiKGFib3J0ZWQpXG4gICAgICBpZihhYm9ydCkge1xuICAgICAgICBhYm9ydGVkID0gYWJvcnRcbiAgICAgICAgaWYoIWJ1c3kpIHJlYWQoYWJvcnQsIGNiKVxuICAgICAgICBlbHNlIHJlYWQoYWJvcnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvL2lmIHdlIGFyZSBzdGlsbCBidXN5LCB3YWl0IGZvciB0aGUgbWFwcGVyIHRvIGNvbXBsZXRlLlxuICAgICAgICAgIGlmKGJ1c3kpIGFib3J0Q2IgPSBjYlxuICAgICAgICAgIGVsc2UgY2IoYWJvcnQpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICAgIHJlYWQobnVsbCwgZnVuY3Rpb24gKGVuZCwgZGF0YSkge1xuICAgICAgICAgIGlmKGVuZCkgY2IoZW5kKVxuICAgICAgICAgIGVsc2UgaWYoYWJvcnRlZCkgY2IoYWJvcnRlZClcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJ1c3kgPSB0cnVlXG4gICAgICAgICAgICBtYXAoZGF0YSwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgICBidXN5ID0gZmFsc2VcbiAgICAgICAgICAgICAgaWYoYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIGNiKGFib3J0ZWQpXG4gICAgICAgICAgICAgICAgYWJvcnRDYihhYm9ydGVkKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYoZXJyKSBuZXh0IChlcnIsIGNiKVxuICAgICAgICAgICAgICBlbHNlIGNiKG51bGwsIGRhdGEpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG4gIH1cbn1cblxuXG4iLCIndXNlIHN0cmljdCdcblxudmFyIHRlc3RlciA9IHJlcXVpcmUoJy4uL3V0aWwvdGVzdGVyJylcbnZhciBmaWx0ZXIgPSByZXF1aXJlKCcuL2ZpbHRlcicpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmlsdGVyTm90ICh0ZXN0KSB7XG4gIHRlc3QgPSB0ZXN0ZXIodGVzdClcbiAgcmV0dXJuIGZpbHRlcihmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gIXRlc3QoZGF0YSkgfSlcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgdGVzdGVyID0gcmVxdWlyZSgnLi4vdXRpbC90ZXN0ZXInKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZpbHRlciAodGVzdCkge1xuICAvL3JlZ2V4cFxuICB0ZXN0ID0gdGVzdGVyKHRlc3QpXG4gIHJldHVybiBmdW5jdGlvbiAocmVhZCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0IChlbmQsIGNiKSB7XG4gICAgICB2YXIgc3luYywgbG9vcCA9IHRydWVcbiAgICAgIHdoaWxlKGxvb3ApIHtcbiAgICAgICAgbG9vcCA9IGZhbHNlXG4gICAgICAgIHN5bmMgPSB0cnVlXG4gICAgICAgIHJlYWQoZW5kLCBmdW5jdGlvbiAoZW5kLCBkYXRhKSB7XG4gICAgICAgICAgaWYoIWVuZCAmJiAhdGVzdChkYXRhKSlcbiAgICAgICAgICAgIHJldHVybiBzeW5jID8gbG9vcCA9IHRydWUgOiBuZXh0KGVuZCwgY2IpXG4gICAgICAgICAgY2IoZW5kLCBkYXRhKVxuICAgICAgICB9KVxuICAgICAgICBzeW5jID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciB2YWx1ZXMgPSByZXF1aXJlKCcuLi9zb3VyY2VzL3ZhbHVlcycpXG52YXIgb25jZSA9IHJlcXVpcmUoJy4uL3NvdXJjZXMvb25jZScpXG5cbi8vY29udmVydCBhIHN0cmVhbSBvZiBhcnJheXMgb3Igc3RyZWFtcyBpbnRvIGp1c3QgYSBzdHJlYW0uXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZsYXR0ZW4gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHJlYWQpIHtcbiAgICB2YXIgX3JlYWRcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFib3J0LCBjYikge1xuICAgICAgaWYgKGFib3J0KSB7IC8vYWJvcnQgdGhlIGN1cnJlbnQgc3RyZWFtLCBhbmQgdGhlbiBzdHJlYW0gb2Ygc3RyZWFtcy5cbiAgICAgICAgX3JlYWQgPyBfcmVhZChhYm9ydCwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgcmVhZChlcnIgfHwgYWJvcnQsIGNiKVxuICAgICAgICB9KSA6IHJlYWQoYWJvcnQsIGNiKVxuICAgICAgfVxuICAgICAgZWxzZSBpZihfcmVhZCkgbmV4dENodW5rKClcbiAgICAgIGVsc2UgbmV4dFN0cmVhbSgpXG5cbiAgICAgIGZ1bmN0aW9uIG5leHRDaHVuayAoKSB7XG4gICAgICAgIF9yZWFkKG51bGwsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgICBpZiAoZXJyID09PSB0cnVlKSBuZXh0U3RyZWFtKClcbiAgICAgICAgICBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJlYWQodHJ1ZSwgZnVuY3Rpb24oYWJvcnRFcnIpIHtcbiAgICAgICAgICAgICAgLy8gVE9ETzogd2hhdCBkbyB3ZSBkbyB3aXRoIHRoZSBhYm9ydEVycj9cbiAgICAgICAgICAgICAgY2IoZXJyKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBjYihudWxsLCBkYXRhKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gbmV4dFN0cmVhbSAoKSB7XG4gICAgICAgIF9yZWFkID0gbnVsbFxuICAgICAgICByZWFkKG51bGwsIGZ1bmN0aW9uIChlbmQsIHN0cmVhbSkge1xuICAgICAgICAgIGlmKGVuZClcbiAgICAgICAgICAgIHJldHVybiBjYihlbmQpXG4gICAgICAgICAgaWYoQXJyYXkuaXNBcnJheShzdHJlYW0pIHx8IHN0cmVhbSAmJiAnb2JqZWN0JyA9PT0gdHlwZW9mIHN0cmVhbSlcbiAgICAgICAgICAgIHN0cmVhbSA9IHZhbHVlcyhzdHJlYW0pXG4gICAgICAgICAgZWxzZSBpZignZnVuY3Rpb24nICE9IHR5cGVvZiBzdHJlYW0pXG4gICAgICAgICAgICBzdHJlYW0gPSBvbmNlKHN0cmVhbSlcbiAgICAgICAgICBfcmVhZCA9IHN0cmVhbVxuICAgICAgICAgIG5leHRDaHVuaygpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbiIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbWFwOiByZXF1aXJlKCcuL21hcCcpLFxuICBhc3luY01hcDogcmVxdWlyZSgnLi9hc3luYy1tYXAnKSxcbiAgZmlsdGVyOiByZXF1aXJlKCcuL2ZpbHRlcicpLFxuICBmaWx0ZXJOb3Q6IHJlcXVpcmUoJy4vZmlsdGVyLW5vdCcpLFxuICB0aHJvdWdoOiByZXF1aXJlKCcuL3Rocm91Z2gnKSxcbiAgdGFrZTogcmVxdWlyZSgnLi90YWtlJyksXG4gIHVuaXF1ZTogcmVxdWlyZSgnLi91bmlxdWUnKSxcbiAgbm9uVW5pcXVlOiByZXF1aXJlKCcuL25vbi11bmlxdWUnKSxcbiAgZmxhdHRlbjogcmVxdWlyZSgnLi9mbGF0dGVuJylcbn1cblxuXG5cbiIsIid1c2Ugc3RyaWN0J1xuXG5mdW5jdGlvbiBpZCAoZSkgeyByZXR1cm4gZSB9XG52YXIgcHJvcCA9IHJlcXVpcmUoJy4uL3V0aWwvcHJvcCcpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWFwIChtYXBwZXIpIHtcbiAgaWYoIW1hcHBlcikgcmV0dXJuIGlkXG4gIG1hcHBlciA9IHByb3AobWFwcGVyKVxuICByZXR1cm4gZnVuY3Rpb24gKHJlYWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFib3J0LCBjYikge1xuICAgICAgcmVhZChhYm9ydCwgZnVuY3Rpb24gKGVuZCwgZGF0YSkge1xuICAgICAgICB0cnkge1xuICAgICAgICBkYXRhID0gIWVuZCA/IG1hcHBlcihkYXRhKSA6IG51bGxcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlYWQoZXJyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2IoZXJyKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgY2IoZW5kLCBkYXRhKVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgdW5pcXVlID0gcmVxdWlyZSgnLi91bmlxdWUnKVxuXG4vL3Bhc3NlcyBhbiBpdGVtIHRocm91Z2ggd2hlbiB5b3Ugc2VlIGl0IGZvciB0aGUgc2Vjb25kIHRpbWUuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG5vblVuaXF1ZSAoZmllbGQpIHtcbiAgcmV0dXJuIHVuaXF1ZShmaWVsZCwgdHJ1ZSlcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG4vL3JlYWQgYSBudW1iZXIgb2YgaXRlbXMgYW5kIHRoZW4gc3RvcC5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGFrZSAodGVzdCwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuICB2YXIgbGFzdCA9IG9wdHMubGFzdCB8fCBmYWxzZSAvLyB3aGV0aGVyIHRoZSBmaXJzdCBpdGVtIGZvciB3aGljaCAhdGVzdChpdGVtKSBzaG91bGQgc3RpbGwgcGFzc1xuICB2YXIgZW5kZWQgPSBmYWxzZVxuICBpZignbnVtYmVyJyA9PT0gdHlwZW9mIHRlc3QpIHtcbiAgICBsYXN0ID0gdHJ1ZVxuICAgIHZhciBuID0gdGVzdDsgdGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAtLW5cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKHJlYWQpIHtcblxuICAgIGZ1bmN0aW9uIHRlcm1pbmF0ZSAoY2IpIHtcbiAgICAgIHJlYWQodHJ1ZSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBsYXN0ID0gZmFsc2U7IGNiKGVyciB8fCB0cnVlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKGVuZCwgY2IpIHtcbiAgICAgIGlmKGVuZGVkKSAgICAgICAgICAgIGxhc3QgPyB0ZXJtaW5hdGUoY2IpIDogY2IoZW5kZWQpXG4gICAgICBlbHNlIGlmKGVuZGVkID0gZW5kKSByZWFkKGVuZGVkLCBjYilcbiAgICAgIGVsc2VcbiAgICAgICAgcmVhZChudWxsLCBmdW5jdGlvbiAoZW5kLCBkYXRhKSB7XG4gICAgICAgICAgaWYoZW5kZWQgPSBlbmRlZCB8fCBlbmQpIHtcbiAgICAgICAgICAgIC8vbGFzdCA/IHRlcm1pbmF0ZShjYikgOlxuICAgICAgICAgICAgY2IoZW5kZWQpXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYoIXRlc3QoZGF0YSkpIHtcbiAgICAgICAgICAgIGVuZGVkID0gdHJ1ZVxuICAgICAgICAgICAgbGFzdCA/IGNiKG51bGwsIGRhdGEpIDogdGVybWluYXRlKGNiKVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBjYihudWxsLCBkYXRhKVxuICAgICAgICB9KVxuICAgIH1cbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vYSBwYXNzIHRocm91Z2ggc3RyZWFtIHRoYXQgZG9lc24ndCBjaGFuZ2UgdGhlIHZhbHVlLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0aHJvdWdoIChvcCwgb25FbmQpIHtcbiAgdmFyIGEgPSBmYWxzZVxuXG4gIGZ1bmN0aW9uIG9uY2UgKGFib3J0KSB7XG4gICAgaWYoYSB8fCAhb25FbmQpIHJldHVyblxuICAgIGEgPSB0cnVlXG4gICAgb25FbmQoYWJvcnQgPT09IHRydWUgPyBudWxsIDogYWJvcnQpXG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKHJlYWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVuZCwgY2IpIHtcbiAgICAgIGlmKGVuZCkgb25jZShlbmQpXG4gICAgICByZXR1cm4gcmVhZChlbmQsIGZ1bmN0aW9uIChlbmQsIGRhdGEpIHtcbiAgICAgICAgaWYoIWVuZCkgb3AgJiYgb3AoZGF0YSlcbiAgICAgICAgZWxzZSBvbmNlKGVuZClcbiAgICAgICAgY2IoZW5kLCBkYXRhKVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5mdW5jdGlvbiBpZCAoZSkgeyByZXR1cm4gZSB9XG52YXIgcHJvcCA9IHJlcXVpcmUoJy4uL3V0aWwvcHJvcCcpXG52YXIgZmlsdGVyID0gcmVxdWlyZSgnLi9maWx0ZXInKVxuXG4vL2Ryb3AgaXRlbXMgeW91IGhhdmUgYWxyZWFkeSBzZWVuLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB1bmlxdWUgKGZpZWxkLCBpbnZlcnQpIHtcbiAgZmllbGQgPSBwcm9wKGZpZWxkKSB8fCBpZFxuICB2YXIgc2VlbiA9IHt9XG4gIHJldHVybiBmaWx0ZXIoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIga2V5ID0gZmllbGQoZGF0YSlcbiAgICBpZihzZWVuW2tleV0pIHJldHVybiAhIWludmVydCAvL2ZhbHNlLCBieSBkZWZhdWx0XG4gICAgZWxzZSBzZWVuW2tleV0gPSB0cnVlXG4gICAgcmV0dXJuICFpbnZlcnQgLy90cnVlIGJ5IGRlZmF1bHRcbiAgfSlcbn1cblxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhYm9ydENiKGNiLCBhYm9ydCwgb25BYm9ydCkge1xuICBjYihhYm9ydClcbiAgb25BYm9ydCAmJiBvbkFib3J0KGFib3J0ID09PSB0cnVlID8gbnVsbDogYWJvcnQpXG4gIHJldHVyblxufVxuXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHByb3AgKGtleSkge1xuICByZXR1cm4ga2V5ICYmIChcbiAgICAnc3RyaW5nJyA9PSB0eXBlb2Yga2V5XG4gICAgPyBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gZGF0YVtrZXldIH1cbiAgICA6ICdvYmplY3QnID09PSB0eXBlb2Yga2V5ICYmICdmdW5jdGlvbicgPT09IHR5cGVvZiBrZXkuZXhlYyAvL3JlZ2V4cFxuICAgID8gZnVuY3Rpb24gKGRhdGEpIHsgdmFyIHYgPSBrZXkuZXhlYyhkYXRhKTsgcmV0dXJuIHYgJiYgdlswXSB9XG4gICAgOiBrZXlcbiAgKVxufVxuIiwidmFyIHByb3AgPSByZXF1aXJlKCcuL3Byb3AnKVxuXG5mdW5jdGlvbiBpZCAoZSkgeyByZXR1cm4gZSB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVzdGVyICh0ZXN0KSB7XG4gIHJldHVybiAoXG4gICAgJ29iamVjdCcgPT09IHR5cGVvZiB0ZXN0ICYmICdmdW5jdGlvbicgPT09IHR5cGVvZiB0ZXN0LnRlc3QgLy9yZWdleHBcbiAgICA/IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiB0ZXN0LnRlc3QoZGF0YSkgfVxuICAgIDogcHJvcCAodGVzdCkgfHwgaWRcbiAgKVxufVxuIiwiXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSB0cmltO1xuXG5mdW5jdGlvbiB0cmltKHN0cil7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyp8XFxzKiQvZywgJycpO1xufVxuXG5leHBvcnRzLmxlZnQgPSBmdW5jdGlvbihzdHIpe1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMqLywgJycpO1xufTtcblxuZXhwb3J0cy5yaWdodCA9IGZ1bmN0aW9uKHN0cil7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgd2luZG93ID0gcmVxdWlyZShcImdsb2JhbC93aW5kb3dcIilcbnZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZShcImlzLWZ1bmN0aW9uXCIpXG52YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZShcInBhcnNlLWhlYWRlcnNcIilcbnZhciB4dGVuZCA9IHJlcXVpcmUoXCJ4dGVuZFwiKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVhIUlxuY3JlYXRlWEhSLlhNTEh0dHBSZXF1ZXN0ID0gd2luZG93LlhNTEh0dHBSZXF1ZXN0IHx8IG5vb3BcbmNyZWF0ZVhIUi5YRG9tYWluUmVxdWVzdCA9IFwid2l0aENyZWRlbnRpYWxzXCIgaW4gKG5ldyBjcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3QoKSkgPyBjcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3QgOiB3aW5kb3cuWERvbWFpblJlcXVlc3RcblxuZm9yRWFjaEFycmF5KFtcImdldFwiLCBcInB1dFwiLCBcInBvc3RcIiwgXCJwYXRjaFwiLCBcImhlYWRcIiwgXCJkZWxldGVcIl0sIGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgIGNyZWF0ZVhIUlttZXRob2QgPT09IFwiZGVsZXRlXCIgPyBcImRlbFwiIDogbWV0aG9kXSA9IGZ1bmN0aW9uKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgb3B0aW9ucyA9IGluaXRQYXJhbXModXJpLCBvcHRpb25zLCBjYWxsYmFjaylcbiAgICAgICAgb3B0aW9ucy5tZXRob2QgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICAgICAgICByZXR1cm4gX2NyZWF0ZVhIUihvcHRpb25zKVxuICAgIH1cbn0pXG5cbmZ1bmN0aW9uIGZvckVhY2hBcnJheShhcnJheSwgaXRlcmF0b3IpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdG9yKGFycmF5W2ldKVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNFbXB0eShvYmope1xuICAgIGZvcih2YXIgaSBpbiBvYmope1xuICAgICAgICBpZihvYmouaGFzT3duUHJvcGVydHkoaSkpIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBpbml0UGFyYW1zKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICB2YXIgcGFyYW1zID0gdXJpXG5cbiAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnNcbiAgICAgICAgaWYgKHR5cGVvZiB1cmkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IHt1cmk6dXJpfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGFyYW1zID0geHRlbmQob3B0aW9ucywge3VyaTogdXJpfSlcbiAgICB9XG5cbiAgICBwYXJhbXMuY2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIHJldHVybiBwYXJhbXNcbn1cblxuZnVuY3Rpb24gY3JlYXRlWEhSKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBvcHRpb25zID0gaW5pdFBhcmFtcyh1cmksIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAgIHJldHVybiBfY3JlYXRlWEhSKG9wdGlvbnMpXG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVYSFIob3B0aW9ucykge1xuICAgIHZhciBjYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2tcbiAgICBpZih0eXBlb2YgY2FsbGJhY2sgPT09IFwidW5kZWZpbmVkXCIpe1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYWxsYmFjayBhcmd1bWVudCBtaXNzaW5nXCIpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVhZHlzdGF0ZWNoYW5nZSgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICBsb2FkRnVuYygpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRCb2R5KCkge1xuICAgICAgICAvLyBDaHJvbWUgd2l0aCByZXF1ZXN0VHlwZT1ibG9iIHRocm93cyBlcnJvcnMgYXJyb3VuZCB3aGVuIGV2ZW4gdGVzdGluZyBhY2Nlc3MgdG8gcmVzcG9uc2VUZXh0XG4gICAgICAgIHZhciBib2R5ID0gdW5kZWZpbmVkXG5cbiAgICAgICAgaWYgKHhoci5yZXNwb25zZSkge1xuICAgICAgICAgICAgYm9keSA9IHhoci5yZXNwb25zZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm9keSA9IHhoci5yZXNwb25zZVRleHQgfHwgZ2V0WG1sKHhocilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0pzb24pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSlcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm9keVxuICAgIH1cblxuICAgIHZhciBmYWlsdXJlUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgYm9keTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDAsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgdXJsOiB1cmksXG4gICAgICAgICAgICAgICAgcmF3UmVxdWVzdDogeGhyXG4gICAgICAgICAgICB9XG5cbiAgICBmdW5jdGlvbiBlcnJvckZ1bmMoZXZ0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0VGltZXIpXG4gICAgICAgIGlmKCEoZXZ0IGluc3RhbmNlb2YgRXJyb3IpKXtcbiAgICAgICAgICAgIGV2dCA9IG5ldyBFcnJvcihcIlwiICsgKGV2dCB8fCBcIlVua25vd24gWE1MSHR0cFJlcXVlc3QgRXJyb3JcIikgKVxuICAgICAgICB9XG4gICAgICAgIGV2dC5zdGF0dXNDb2RlID0gMFxuICAgICAgICBjYWxsYmFjayhldnQsIGZhaWx1cmVSZXNwb25zZSlcbiAgICAgICAgY2FsbGJhY2sgPSBub29wXG4gICAgfVxuXG4gICAgLy8gd2lsbCBsb2FkIHRoZSBkYXRhICYgcHJvY2VzcyB0aGUgcmVzcG9uc2UgaW4gYSBzcGVjaWFsIHJlc3BvbnNlIG9iamVjdFxuICAgIGZ1bmN0aW9uIGxvYWRGdW5jKCkge1xuICAgICAgICBpZiAoYWJvcnRlZCkgcmV0dXJuXG4gICAgICAgIHZhciBzdGF0dXNcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRUaW1lcilcbiAgICAgICAgaWYob3B0aW9ucy51c2VYRFIgJiYgeGhyLnN0YXR1cz09PXVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy9JRTggQ09SUyBHRVQgc3VjY2Vzc2Z1bCByZXNwb25zZSBkb2Vzbid0IGhhdmUgYSBzdGF0dXMgZmllbGQsIGJ1dCBib2R5IGlzIGZpbmVcbiAgICAgICAgICAgIHN0YXR1cyA9IDIwMFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdHVzID0gKHhoci5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiB4aHIuc3RhdHVzKVxuICAgICAgICB9XG4gICAgICAgIHZhciByZXNwb25zZSA9IGZhaWx1cmVSZXNwb25zZVxuICAgICAgICB2YXIgZXJyID0gbnVsbFxuXG4gICAgICAgIGlmIChzdGF0dXMgIT09IDApe1xuICAgICAgICAgICAgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgYm9keTogZ2V0Qm9keSgpLFxuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IHN0YXR1cyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgICAgICB1cmw6IHVyaSxcbiAgICAgICAgICAgICAgICByYXdSZXF1ZXN0OiB4aHJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMpeyAvL3JlbWVtYmVyIHhociBjYW4gaW4gZmFjdCBiZSBYRFIgZm9yIENPUlMgaW4gSUVcbiAgICAgICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzID0gcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVyciA9IG5ldyBFcnJvcihcIkludGVybmFsIFhNTEh0dHBSZXF1ZXN0IEVycm9yXCIpXG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soZXJyLCByZXNwb25zZSwgcmVzcG9uc2UuYm9keSlcbiAgICAgICAgY2FsbGJhY2sgPSBub29wXG5cbiAgICB9XG5cbiAgICB2YXIgeGhyID0gb3B0aW9ucy54aHIgfHwgbnVsbFxuXG4gICAgaWYgKCF4aHIpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29ycyB8fCBvcHRpb25zLnVzZVhEUikge1xuICAgICAgICAgICAgeGhyID0gbmV3IGNyZWF0ZVhIUi5YRG9tYWluUmVxdWVzdCgpXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgeGhyID0gbmV3IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIga2V5XG4gICAgdmFyIGFib3J0ZWRcbiAgICB2YXIgdXJpID0geGhyLnVybCA9IG9wdGlvbnMudXJpIHx8IG9wdGlvbnMudXJsXG4gICAgdmFyIG1ldGhvZCA9IHhoci5tZXRob2QgPSBvcHRpb25zLm1ldGhvZCB8fCBcIkdFVFwiXG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHkgfHwgb3B0aW9ucy5kYXRhIHx8IG51bGxcbiAgICB2YXIgaGVhZGVycyA9IHhoci5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9XG4gICAgdmFyIHN5bmMgPSAhIW9wdGlvbnMuc3luY1xuICAgIHZhciBpc0pzb24gPSBmYWxzZVxuICAgIHZhciB0aW1lb3V0VGltZXJcblxuICAgIGlmIChcImpzb25cIiBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlzSnNvbiA9IHRydWVcbiAgICAgICAgaGVhZGVyc1tcImFjY2VwdFwiXSB8fCBoZWFkZXJzW1wiQWNjZXB0XCJdIHx8IChoZWFkZXJzW1wiQWNjZXB0XCJdID0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIC8vRG9uJ3Qgb3ZlcnJpZGUgZXhpc3RpbmcgYWNjZXB0IGhlYWRlciBkZWNsYXJlZCBieSB1c2VyXG4gICAgICAgIGlmIChtZXRob2QgIT09IFwiR0VUXCIgJiYgbWV0aG9kICE9PSBcIkhFQURcIikge1xuICAgICAgICAgICAgaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSB8fCBoZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdIHx8IChoZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIC8vRG9uJ3Qgb3ZlcnJpZGUgZXhpc3RpbmcgYWNjZXB0IGhlYWRlciBkZWNsYXJlZCBieSB1c2VyXG4gICAgICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5qc29uKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHJlYWR5c3RhdGVjaGFuZ2VcbiAgICB4aHIub25sb2FkID0gbG9hZEZ1bmNcbiAgICB4aHIub25lcnJvciA9IGVycm9yRnVuY1xuICAgIC8vIElFOSBtdXN0IGhhdmUgb25wcm9ncmVzcyBiZSBzZXQgdG8gYSB1bmlxdWUgZnVuY3Rpb24uXG4gICAgeGhyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIElFIG11c3QgZGllXG4gICAgfVxuICAgIHhoci5vbnRpbWVvdXQgPSBlcnJvckZ1bmNcbiAgICB4aHIub3BlbihtZXRob2QsIHVyaSwgIXN5bmMsIG9wdGlvbnMudXNlcm5hbWUsIG9wdGlvbnMucGFzc3dvcmQpXG4gICAgLy9oYXMgdG8gYmUgYWZ0ZXIgb3BlblxuICAgIGlmKCFzeW5jKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSAhIW9wdGlvbnMud2l0aENyZWRlbnRpYWxzXG4gICAgfVxuICAgIC8vIENhbm5vdCBzZXQgdGltZW91dCB3aXRoIHN5bmMgcmVxdWVzdFxuICAgIC8vIG5vdCBzZXR0aW5nIHRpbWVvdXQgb24gdGhlIHhociBvYmplY3QsIGJlY2F1c2Ugb2Ygb2xkIHdlYmtpdHMgZXRjLiBub3QgaGFuZGxpbmcgdGhhdCBjb3JyZWN0bHlcbiAgICAvLyBib3RoIG5wbSdzIHJlcXVlc3QgYW5kIGpxdWVyeSAxLnggdXNlIHRoaXMga2luZCBvZiB0aW1lb3V0LCBzbyB0aGlzIGlzIGJlaW5nIGNvbnNpc3RlbnRcbiAgICBpZiAoIXN5bmMgJiYgb3B0aW9ucy50aW1lb3V0ID4gMCApIHtcbiAgICAgICAgdGltZW91dFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgYWJvcnRlZD10cnVlLy9JRTkgbWF5IHN0aWxsIGNhbGwgcmVhZHlzdGF0ZWNoYW5nZVxuICAgICAgICAgICAgeGhyLmFib3J0KFwidGltZW91dFwiKVxuICAgICAgICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoXCJYTUxIdHRwUmVxdWVzdCB0aW1lb3V0XCIpXG4gICAgICAgICAgICBlLmNvZGUgPSBcIkVUSU1FRE9VVFwiXG4gICAgICAgICAgICBlcnJvckZ1bmMoZSlcbiAgICAgICAgfSwgb3B0aW9ucy50aW1lb3V0IClcbiAgICB9XG5cbiAgICBpZiAoeGhyLnNldFJlcXVlc3RIZWFkZXIpIHtcbiAgICAgICAgZm9yKGtleSBpbiBoZWFkZXJzKXtcbiAgICAgICAgICAgIGlmKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSl7XG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaGVhZGVycyAmJiAhaXNFbXB0eShvcHRpb25zLmhlYWRlcnMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkhlYWRlcnMgY2Fubm90IGJlIHNldCBvbiBhbiBYRG9tYWluUmVxdWVzdCBvYmplY3RcIilcbiAgICB9XG5cbiAgICBpZiAoXCJyZXNwb25zZVR5cGVcIiBpbiBvcHRpb25zKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBvcHRpb25zLnJlc3BvbnNlVHlwZVxuICAgIH1cblxuICAgIGlmIChcImJlZm9yZVNlbmRcIiBpbiBvcHRpb25zICYmXG4gICAgICAgIHR5cGVvZiBvcHRpb25zLmJlZm9yZVNlbmQgPT09IFwiZnVuY3Rpb25cIlxuICAgICkge1xuICAgICAgICBvcHRpb25zLmJlZm9yZVNlbmQoeGhyKVxuICAgIH1cblxuICAgIHhoci5zZW5kKGJvZHkpXG5cbiAgICByZXR1cm4geGhyXG5cblxufVxuXG5mdW5jdGlvbiBnZXRYbWwoeGhyKSB7XG4gICAgaWYgKHhoci5yZXNwb25zZVR5cGUgPT09IFwiZG9jdW1lbnRcIikge1xuICAgICAgICByZXR1cm4geGhyLnJlc3BvbnNlWE1MXG4gICAgfVxuICAgIHZhciBmaXJlZm94QnVnVGFrZW5FZmZlY3QgPSB4aHIuc3RhdHVzID09PSAyMDQgJiYgeGhyLnJlc3BvbnNlWE1MICYmIHhoci5yZXNwb25zZVhNTC5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWUgPT09IFwicGFyc2VyZXJyb3JcIlxuICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSBcIlwiICYmICFmaXJlZm94QnVnVGFrZW5FZmZlY3QpIHtcbiAgICAgICAgcmV0dXJuIHhoci5yZXNwb25zZVhNTFxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuIiwibW9kdWxlLmV4cG9ydHMgPSBleHRlbmRcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gZXh0ZW5kKCkge1xuICAgIHZhciB0YXJnZXQgPSB7fVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXVxuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXRcbn1cbiIsInZhciBiZWwgPSByZXF1aXJlKCdiZWwnKSAvLyB0dXJucyB0ZW1wbGF0ZSB0YWcgaW50byBET00gZWxlbWVudHNcbnZhciBtb3JwaGRvbSA9IHJlcXVpcmUoJ21vcnBoZG9tJykgLy8gZWZmaWNpZW50bHkgZGlmZnMgKyBtb3JwaHMgdHdvIERPTSBlbGVtZW50c1xudmFyIGRlZmF1bHRFdmVudHMgPSByZXF1aXJlKCcuL3VwZGF0ZS1ldmVudHMuanMnKSAvLyBkZWZhdWx0IGV2ZW50cyB0byBiZSBjb3BpZWQgd2hlbiBkb20gZWxlbWVudHMgdXBkYXRlXG5cbm1vZHVsZS5leHBvcnRzID0gYmVsXG5cbi8vIFRPRE8gbW92ZSB0aGlzICsgZGVmYXVsdEV2ZW50cyB0byBhIG5ldyBtb2R1bGUgb25jZSB3ZSByZWNlaXZlIG1vcmUgZmVlZGJhY2tcbm1vZHVsZS5leHBvcnRzLnVwZGF0ZSA9IGZ1bmN0aW9uIChmcm9tTm9kZSwgdG9Ob2RlLCBvcHRzKSB7XG4gIGlmICghb3B0cykgb3B0cyA9IHt9XG4gIGlmIChvcHRzLmV2ZW50cyAhPT0gZmFsc2UpIHtcbiAgICBpZiAoIW9wdHMub25CZWZvcmVNb3JwaEVsKSBvcHRzLm9uQmVmb3JlTW9ycGhFbCA9IGNvcGllclxuICB9XG5cbiAgcmV0dXJuIG1vcnBoZG9tKGZyb21Ob2RlLCB0b05vZGUsIG9wdHMpXG5cbiAgLy8gbW9ycGhkb20gb25seSBjb3BpZXMgYXR0cmlidXRlcy4gd2UgZGVjaWRlZCB3ZSBhbHNvIHdhbnRlZCB0byBjb3B5IGV2ZW50c1xuICAvLyB0aGF0IGNhbiBiZSBzZXQgdmlhIGF0dHJpYnV0ZXNcbiAgZnVuY3Rpb24gY29waWVyIChmLCB0KSB7XG4gICAgLy8gY29weSBldmVudHM6XG4gICAgdmFyIGV2ZW50cyA9IG9wdHMuZXZlbnRzIHx8IGRlZmF1bHRFdmVudHNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGV2ID0gZXZlbnRzW2ldXG4gICAgICBpZiAodFtldl0pIHsgLy8gaWYgbmV3IGVsZW1lbnQgaGFzIGEgd2hpdGVsaXN0ZWQgYXR0cmlidXRlXG4gICAgICAgIGZbZXZdID0gdFtldl0gLy8gdXBkYXRlIGV4aXN0aW5nIGVsZW1lbnRcbiAgICAgIH0gZWxzZSBpZiAoZltldl0pIHsgLy8gaWYgZXhpc3RpbmcgZWxlbWVudCBoYXMgaXQgYW5kIG5ldyBvbmUgZG9lc250XG4gICAgICAgIGZbZXZdID0gdW5kZWZpbmVkIC8vIHJlbW92ZSBpdCBmcm9tIGV4aXN0aW5nIGVsZW1lbnRcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gY29weSB2YWx1ZXMgZm9yIGZvcm0gZWxlbWVudHNcbiAgICBpZiAoKGYubm9kZU5hbWUgPT09ICdJTlBVVCcgJiYgZi50eXBlICE9PSAnZmlsZScpIHx8IGYubm9kZU5hbWUgPT09ICdURVhUQVJFQScgfHwgZi5ub2RlTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgIGlmICh0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSA9PT0gbnVsbCkgdC52YWx1ZSA9IGYudmFsdWVcbiAgICB9XG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gW1xuICAvLyBhdHRyaWJ1dGUgZXZlbnRzIChjYW4gYmUgc2V0IHdpdGggYXR0cmlidXRlcylcbiAgJ29uY2xpY2snLFxuICAnb25kYmxjbGljaycsXG4gICdvbm1vdXNlZG93bicsXG4gICdvbm1vdXNldXAnLFxuICAnb25tb3VzZW92ZXInLFxuICAnb25tb3VzZW1vdmUnLFxuICAnb25tb3VzZW91dCcsXG4gICdvbmRyYWdzdGFydCcsXG4gICdvbmRyYWcnLFxuICAnb25kcmFnZW50ZXInLFxuICAnb25kcmFnbGVhdmUnLFxuICAnb25kcmFnb3ZlcicsXG4gICdvbmRyb3AnLFxuICAnb25kcmFnZW5kJyxcbiAgJ29ua2V5ZG93bicsXG4gICdvbmtleXByZXNzJyxcbiAgJ29ua2V5dXAnLFxuICAnb251bmxvYWQnLFxuICAnb25hYm9ydCcsXG4gICdvbmVycm9yJyxcbiAgJ29ucmVzaXplJyxcbiAgJ29uc2Nyb2xsJyxcbiAgJ29uc2VsZWN0JyxcbiAgJ29uY2hhbmdlJyxcbiAgJ29uc3VibWl0JyxcbiAgJ29ucmVzZXQnLFxuICAnb25mb2N1cycsXG4gICdvbmJsdXInLFxuICAnb25pbnB1dCcsXG4gIC8vIG90aGVyIGNvbW1vbiBldmVudHNcbiAgJ29uY29udGV4dG1lbnUnLFxuICAnb25mb2N1c2luJyxcbiAgJ29uZm9jdXNvdXQnXG5dXG4iXX0=
